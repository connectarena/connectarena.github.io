/*
 jQuery v3.2.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(n,q){"object"==typeof module&&"object"==typeof module.exports?module.exports=n.document?q(n,!0):function(k){if(!k.document)throw Error("jQuery requires a window with a document");return q(k)}:q(n)}("undefined"!=typeof window?window:this,function(n,q){function k(e,h){h=h||N;var a=h.createElement("script");a.text=e;h.head.appendChild(a).parentNode.removeChild(a)}function w(e){var h=!!e&&"length"in e&&e.length,a=m.type(e);return"function"!==a&&!m.isWindow(e)&&("array"===a||0===h||"number"==
typeof h&&0<h&&h-1 in e)}function f(e,h){return e.nodeName&&e.nodeName.toLowerCase()===h.toLowerCase()}function d(e,h,a){return m.isFunction(h)?m.grep(e,function(e,g){return!!h.call(e,g,e)!==a}):h.nodeType?m.grep(e,function(e){return e===h!==a}):"string"!=typeof h?m.grep(e,function(e){return-1<T.call(h,e)!==a}):ub.test(h)?m.filter(h,e,a):(h=m.filter(h,e),m.grep(e,function(e){return-1<T.call(h,e)!==a&&1===e.nodeType}))}function b(e,h){for(;(e=e[h])&&1!==e.nodeType;);return e}function a(e){var h={};
return m.each(e.match(oa)||[],function(e,a){h[a]=!0}),h}function l(e){return e}function c(e){throw e;}function r(e,h,a,g){var I;try{e&&m.isFunction(I=e.promise)?I.call(e).done(h).fail(a):e&&m.isFunction(I=e.then)?I.call(e,h,a):h.apply(void 0,[e].slice(g))}catch(ab){a.apply(void 0,[ab])}}function x(){N.removeEventListener("DOMContentLoaded",x);n.removeEventListener("load",x);m.ready()}function p(){this.expando=m.expando+p.uid++}function y(e,h,a){var g;if(void 0===a&&1===e.nodeType)if(g="data-"+h.replace(vb,
"-$&").toLowerCase(),a=e.getAttribute(g),"string"==typeof a){try{g=a,a="true"===g||"false"!==g&&("null"===g?null:g===+g+""?+g:wb.test(g)?JSON.parse(g):g)}catch(gc){}fa.set(e,h,a)}else a=void 0;return a}function v(e,h,a,g){var b,I=1,c=20,d=g?function(){return g.cur()}:function(){return m.css(e,h,"")},f=d(),l=a&&a[3]||(m.cssNumber[h]?"":"px"),p=(m.cssNumber[h]||"px"!==l&&+f)&&Fa.exec(m.css(e,h));if(p&&p[3]!==l){l=l||p[3];a=a||[];p=+f||1;do I=I||".5",p/=I,m.style(e,h,p+l);while(I!==(I=d()/f)&&1!==I&&
--c)}return a&&(p=+p||+f||0,b=a[1]?p+(a[1]+1)*a[2]:+a[2],g&&(g.unit=l,g.start=p,g.end=b)),b}function u(e,h){for(var a,g,b=[],c=0,d=e.length;c<d;c++)if(g=e[c],g.style)if(a=g.style.display,h){if("none"===a&&(b[c]=L.get(g,"display")||null,b[c]||(g.style.display="")),""===g.style.display&&Na(g)){a=c;var l=void 0;var f=g.ownerDocument;var p=g.nodeName;f=(g=bb[p])?g:(l=f.body.appendChild(f.createElement(p)),g=m.css(l,"display"),l.parentNode.removeChild(l),"none"===g&&(g="block"),bb[p]=g,g);b[a]=f}}else"none"!==
a&&(b[c]="none",L.set(g,"display",a));for(c=0;c<d;c++)null!=b[c]&&(e[c].style.display=b[c]);return e}function z(e,h){var a;return a="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(h||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(h||"*"):[],void 0===h||h&&f(e,h)?m.merge([e],a):a}function K(e,h){for(var a=0,g=e.length;a<g;a++)L.set(e[a],"globalEval",!h||L.get(h[a],"globalEval"))}function t(e,h,a,g,b){for(var c,d,I,l,f=h.createDocumentFragment(),p=[],t=0,v=e.length;t<
v;t++)if(c=e[t],c||0===c)if("object"===m.type(c))m.merge(p,c.nodeType?[c]:c);else if(zb.test(c)){d=d||f.appendChild(h.createElement("div"));I=(cb.exec(c)||["",""])[1].toLowerCase();I=pa[I]||pa._default;d.innerHTML=I[1]+m.htmlPrefilter(c)+I[2];for(I=I[0];I--;)d=d.lastChild;m.merge(p,d.childNodes);d=f.firstChild;d.textContent=""}else p.push(h.createTextNode(c));f.textContent="";for(t=0;c=p[t++];)if(g&&-1<m.inArray(c,g))b&&b.push(c);else if(l=m.contains(c.ownerDocument,c),d=z(f.appendChild(c),"script"),
l&&K(d),a)for(I=0;c=d[I++];)db.test(c.type||"")&&a.push(c);return f}function A(){return!0}function C(){return!1}function E(){try{return N.activeElement}catch(e){}}function H(e,h,a,g,c,b){var d,f;if("object"==typeof h){"string"!=typeof a&&(g=g||a,a=void 0);for(f in h)H(e,f,a,g,h[f],b);return e}if(null==g&&null==c?(c=a,g=a=void 0):null==c&&("string"==typeof a?(c=g,g=void 0):(c=g,g=a,a=void 0)),!1===c)c=C;else if(!c)return e;return 1===b&&(d=c,c=function(e){return m().off(e),d.apply(this,arguments)},
c.guid=d.guid||(d.guid=m.guid++)),e.each(function(){m.event.add(this,h,c,g,a)})}function B(e,h){return f(e,"table")&&f(11!==h.nodeType?h:h.firstChild,"tr")?m(">tbody",e)[0]||e:e}function M(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function F(e){var h=Ab.exec(e.type);return h?e.type=h[1]:e.removeAttribute("type"),e}function Q(e,h){var a,g,c,b,d,f;if(1===h.nodeType){if(L.hasData(e)&&(a=L.access(e),g=L.set(h,a),f=a.events))for(c in delete g.handle,g.events={},f)for(a=0,g=f[c].length;a<
g;a++)m.event.add(h,c,f[c][a]);fa.hasData(e)&&(b=fa.access(e),d=m.extend({},b),fa.set(h,d))}}function D(e,h,a,g){h=Aa.apply([],h);var c,b,d,f=0,l=e.length,p=l-1,I=h[0],v=m.isFunction(I);if(v||1<l&&"string"==typeof I&&!R.checkClone&&Bb.test(I))return e.each(function(c){var b=e.eq(c);v&&(h[0]=I.call(this,c,b.html()));D(b,h,a,g)});if(l&&(c=t(h,e[0].ownerDocument,!1,e,g),b=c.firstChild,1===c.childNodes.length&&(c=b),b||g)){b=m.map(z(c,"script"),M);for(d=b.length;f<l;f++){var r=c;f!==p&&(r=m.clone(r,!0,
!0),d&&m.merge(b,z(r,"script")));a.call(e[f],r,f)}if(d)for(c=b[b.length-1].ownerDocument,m.map(b,F),f=0;f<d;f++)r=b[f],db.test(r.type||"")&&!L.access(r,"globalEval")&&m.contains(c,r)&&(r.src?m._evalUrl&&m._evalUrl(r.src):k(r.textContent.replace(Cb,""),c))}return e}function W(e,h,a){for(var g=h?m.filter(h,e):e,c=0;null!=(h=g[c]);c++)a||1!==h.nodeType||m.cleanData(z(h)),h.parentNode&&(a&&m.contains(h.ownerDocument,h)&&K(z(h,"script")),h.parentNode.removeChild(h));return e}function g(e,h,a){var g,c,
b,d,f=e.style;return a=a||Oa(e),a&&(d=a.getPropertyValue(h)||a[h],""!==d||m.contains(e.ownerDocument,e)||(d=m.style(e,h)),!R.pixelMarginRight()&&Ua.test(d)&&eb.test(h)&&(g=f.width,c=f.minWidth,b=f.maxWidth,f.minWidth=f.maxWidth=f.width=d,d=a.width,f.width=g,f.minWidth=c,f.maxWidth=b)),void 0!==d?d+"":d}function V(e,h){return{get:function(){return e()?void delete this.get:(this.get=h).apply(this,arguments)}}}function G(e){var h=m.cssProps[e];if(!h){h=m.cssProps;a:{var a=e;if(!(a in fb)){for(var g=
a[0].toUpperCase()+a.slice(1),c=gb.length;c--;)if(a=gb[c]+g,a in fb)break a;a=void 0}}h=h[e]=a||e}return h}function U(e,h,a){return(e=Fa.exec(h))?Math.max(0,e[2]-(a||0))+(e[3]||"px"):h}function S(e,h,a,g,c){var b=0;for(h=a===(g?"border":"content")?4:"width"===h?1:0;4>h;h+=2)"margin"===a&&(b+=m.css(e,a+za[h],!0,c)),g?("content"===a&&(b-=m.css(e,"padding"+za[h],!0,c)),"margin"!==a&&(b-=m.css(e,"border"+za[h]+"Width",!0,c))):(b+=m.css(e,"padding"+za[h],!0,c),"padding"!==a&&(b+=m.css(e,"border"+za[h]+
"Width",!0,c)));return b}function ba(e,h,a){var c,b=Oa(e),d=g(e,h,b),f="border-box"===m.css(e,"boxSizing",!1,b);return Ua.test(d)?d:(c=f&&(R.boxSizingReliable()||d===e.style[h]),"auto"===d&&(d=e["offset"+h[0].toUpperCase()+h.slice(1)]),d=parseFloat(d)||0,d+S(e,h,a||(f?"border":"content"),c,b)+"px")}function ha(e,h,a,g,c){return new ha.prototype.init(e,h,a,g,c)}function Ga(){Pa&&(!1===N.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(Ga):n.setTimeout(Ga,m.fx.interval),m.fx.tick())}function Qa(){return n.setTimeout(function(){Ba=
void 0}),Ba=m.now()}function ma(e,h){var a=0,g={height:e};for(h=h?1:0;4>a;a+=2-h){var c=za[a];g["margin"+c]=g["padding"+c]=e}return h&&(g.opacity=g.width=e),g}function ja(e,h,a){for(var g,c=(da.tweeners[h]||[]).concat(da.tweeners["*"]),b=0,d=c.length;b<d;b++)if(g=c[b].call(a,h,e))return g}function ea(e,h){var a,g,c,b,d;for(a in e)if(g=m.camelCase(a),c=h[g],b=e[a],Array.isArray(b)&&(c=b[1],b=e[a]=b[0]),a!==g&&(e[g]=b,delete e[a]),d=m.cssHooks[g],d&&"expand"in d)for(a in b=d.expand(b),delete e[g],b)a in
e||(e[a]=b[a],h[a]=c);else h[g]=c}function da(e,h,a){var g,c=0,b=da.prefilters.length,d=m.Deferred().always(function(){delete f.elem}),f=function(){if(g)return!1;var h=Ba||Qa();h=Math.max(0,l.startTime+l.duration-h);for(var a=1-(h/l.duration||0),c=0,b=l.tweens.length;c<b;c++)l.tweens[c].run(a);return d.notifyWith(e,[l,a,h]),1>a&&b?h:(b||d.notifyWith(e,[l,1,0]),d.resolveWith(e,[l]),!1)},l=d.promise({elem:e,props:m.extend({},h),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},a),originalProperties:h,
originalOptions:a,startTime:Ba||Qa(),duration:a.duration,tweens:[],createTween:function(h,a){var g=m.Tween(e,l.opts,h,a,l.opts.specialEasing[h]||l.opts.easing);return l.tweens.push(g),g},stop:function(h){var a=0,c=h?l.tweens.length:0;if(g)return this;for(g=!0;a<c;a++)l.tweens[a].run(1);return h?(d.notifyWith(e,[l,1,0]),d.resolveWith(e,[l,h])):d.rejectWith(e,[l,h]),this}});a=l.props;for(ea(a,l.opts.specialEasing);c<b;c++)if(h=da.prefilters[c].call(l,e,a,l.opts))return m.isFunction(h.stop)&&(m._queueHooks(l.elem,
l.opts.queue).stop=m.proxy(h.stop,h)),h;return m.map(a,ja,l),m.isFunction(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),m.fx.timer(m.extend(f,{elem:e,anim:l,queue:l.opts.queue})),l}function aa(e){return(e.match(oa)||[]).join(" ")}function X(e){return e.getAttribute&&e.getAttribute("class")||""}function Y(e,h,a,g){var c;if(Array.isArray(h))m.each(h,function(h,c){a||Db.test(e)?g(e,c):Y(e+"["+("object"==typeof c&&
null!=c?h:"")+"]",c,a,g)});else if(a||"object"!==m.type(h))g(e,h);else for(c in h)Y(e+"["+c+"]",h[c],a,g)}function ka(e){return function(h,a){"string"!=typeof h&&(a=h,h="*");var g,c=0,b=h.toLowerCase().match(oa)||[];if(m.isFunction(a))for(;g=b[c++];)"+"===g[0]?(g=g.slice(1)||"*",(e[g]=e[g]||[]).unshift(a)):(e[g]=e[g]||[]).push(a)}}function ra(e,h,a,g){function c(l){var f;return b[l]=!0,m.each(e[l]||[],function(e,l){var p=l(h,a,g);return"string"!=typeof p||d||b[p]?d?!(f=p):void 0:(h.dataTypes.unshift(p),
c(p),!1)}),f}var b={},d=e===Va;return c(h.dataTypes[0])||!b["*"]&&c("*")}function ia(e,h){var a,g,c=m.ajaxSettings.flatOptions||{};for(a in h)void 0!==h[a]&&((c[a]?e:g||(g={}))[a]=h[a]);return g&&m.extend(!0,e,g),e}var la=[],N=n.document,wa=Object.getPrototypeOf,na=la.slice,Aa=la.concat,qa=la.push,T=la.indexOf,ca={},O=ca.toString,ua=ca.hasOwnProperty,xa=ua.toString,J=xa.call(Object),R={},m=function(e,h){return new m.fn.init(e,h)},Ca=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Ha=/^-ms-/,Da=/-([a-z])/g,Ia=
function(e,h){return h.toUpperCase()};m.fn=m.prototype={jquery:"3.2.1",constructor:m,length:0,toArray:function(){return na.call(this)},get:function(e){return null==e?na.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){e=m.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return m.each(this,e)},map:function(e){return this.pushStack(m.map(this,function(h,a){return e.call(h,a,h)}))},slice:function(){return this.pushStack(na.apply(this,arguments))},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},eq:function(e){var h=this.length;e=+e+(0>e?h:0);return this.pushStack(0<=e&&e<h?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:qa,sort:la.sort,splice:la.splice};m.extend=m.fn.extend=function(){var e,h,a,g,c=arguments[0]||{},b=1,d=arguments.length,l=!1;"boolean"==typeof c&&(l=c,c=arguments[b]||{},b++);"object"==typeof c||m.isFunction(c)||(c={});for(b===d&&(c=this,b--);b<d;b++)if(null!=(e=arguments[b]))for(h in e){var f=c[h];var p=
e[h];c!==p&&(l&&p&&(m.isPlainObject(p)||(a=Array.isArray(p)))?(a?(a=!1,g=f&&Array.isArray(f)?f:[]):g=f&&m.isPlainObject(f)?f:{},c[h]=m.extend(l,g,p)):void 0!==p&&(c[h]=p))}return c};m.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw Error(e);},noop:function(){},isFunction:function(e){return"function"===m.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var h=m.type(e);return("number"===h||"string"===h)&&!isNaN(e-
parseFloat(e))},isPlainObject:function(e){var h,a;return!(!e||"[object Object]"!==O.call(e))&&(!(h=wa(e))||(a=ua.call(h,"constructor")&&h.constructor,"function"==typeof a&&xa.call(a)===J))},isEmptyObject:function(e){for(var h in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ca[O.call(e)]||"object":typeof e},globalEval:function(e){k(e)},camelCase:function(e){return e.replace(Ha,"ms-").replace(Da,Ia)},each:function(e,h){var a,g=0;if(w(e))for(a=e.length;g<
a&&!1!==h.call(e[g],g,e[g]);g++);else for(g in e)if(!1===h.call(e[g],g,e[g]))break;return e},trim:function(e){return null==e?"":(e+"").replace(Ca,"")},makeArray:function(e,h){var a=h||[];return null!=e&&(w(Object(e))?m.merge(a,"string"==typeof e?[e]:e):qa.call(a,e)),a},inArray:function(e,h,a){return null==h?-1:T.call(h,e,a)},merge:function(e,h){for(var a=+h.length,g=0,c=e.length;g<a;g++)e[c++]=h[g];return e.length=c,e},grep:function(e,h,a){for(var g=[],c=0,b=e.length,d=!a;c<b;c++)a=!h(e[c],c),a!==
d&&g.push(e[c]);return g},map:function(e,h,a){var g,c=0,b=[];if(w(e))for(g=e.length;c<g;c++){var d=h(e[c],c,a);null!=d&&b.push(d)}else for(c in e)d=h(e[c],c,a),null!=d&&b.push(d);return Aa.apply([],b)},guid:1,proxy:function(e,h){var a,g,c;if("string"==typeof h&&(a=e[h],h=e,e=a),m.isFunction(e))return g=na.call(arguments,2),c=function(){return e.apply(h||this,g.concat(na.call(arguments)))},c.guid=e.guid=e.guid||m.guid++,c},now:Date.now,support:R});"function"==typeof Symbol&&(m.fn[Symbol.iterator]=
la[Symbol.iterator]);m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,h){ca["[object "+h+"]"]=h.toLowerCase()});var ta=function(e){function h(e,h,a,g){var c,b,d,l,f=h&&h.ownerDocument,p=h?h.nodeType:9;if(a=a||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return a;if(!g&&((h?h.ownerDocument||h:D)!==C&&ca(h),h=h||C,q)){if(11!==p&&(l=Ra.exec(e)))if(c=l[1])if(9===p){if(!(b=h.getElementById(c)))return a;if(b.id===c)return a.push(b),a}else{if(f&&(b=f.getElementById(c))&&
F(h,b)&&b.id===c)return a.push(b),a}else{if(l[2])return X.apply(a,h.getElementsByTagName(e)),a;if((c=l[3])&&Z.getElementsByClassName&&h.getElementsByClassName)return X.apply(a,h.getElementsByClassName(c)),a}if(!(!Z.qsa||Da[e+" "]||U&&U.test(e))){if(1!==p){f=h;var m=e}else if("object"!==h.nodeName.toLowerCase()){(d=h.getAttribute("id"))?d=d.replace(la,fa):h.setAttribute("id",d=w);b=qa(e);for(c=b.length;c--;)b[c]="#"+d+" "+r(b[c]);m=b.join(",");f=Ea.test(e)&&t(h.parentNode)||h}if(m)try{return X.apply(a,
f.querySelectorAll(m)),a}catch(kc){}finally{d===w&&h.removeAttribute("id")}}}return H(e.replace(ka,"$1"),h,a,g)}function a(){function e(a,g){return h.push(a+" ")>P.cacheLength&&delete e[h.shift()],e[a+" "]=g}var h=[];return e}function g(e){return e[w]=!0,e}function c(e){var h=C.createElement("fieldset");try{return!!e(h)}catch(ic){return!1}finally{h.parentNode&&h.parentNode.removeChild(h)}}function b(e,h){for(var a=e.split("|"),g=a.length;g--;)P.attrHandle[a[g]]=h}function d(e,h){var a=h&&e,g=a&&1===
e.nodeType&&1===h.nodeType&&e.sourceIndex-h.sourceIndex;if(g)return g;if(a)for(;a=a.nextSibling;)if(a===h)return-1;return e?1:-1}function l(e){return function(h){return"input"===h.nodeName.toLowerCase()&&h.type===e}}function f(e){return function(h){var a=h.nodeName.toLowerCase();return("input"===a||"button"===a)&&h.type===e}}function p(e){return function(h){return"form"in h?h.parentNode&&!1===h.disabled?"label"in h?"label"in h.parentNode?h.parentNode.disabled===e:h.disabled===e:h.isDisabled===e||
h.isDisabled!==!e&&oa(h)===e:h.disabled===e:"label"in h&&h.disabled===e}}function m(e){return g(function(h){return h=+h,g(function(a,g){for(var c,b=e([],a.length,h),d=b.length;d--;)a[c=b[d]]&&(a[c]=!(g[c]=a[c]))})})}function t(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function v(){}function r(e){for(var h=0,a=e.length,g="";h<a;h++)g+=e[h].value;return g}function u(e,h,a){var g=h.dir,c=h.next,b=c||g,d=a&&"parentNode"===b,l=Q++;return h.first?function(h,a,c){for(;h=h[g];)if(1===h.nodeType||
d)return e(h,a,c);return!1}:function(h,a,f){var p,m,t,v=[ba,l];if(f)for(;h=h[g];){if((1===h.nodeType||d)&&e(h,a,f))return!0}else for(;h=h[g];)if(1===h.nodeType||d)if(t=h[w]||(h[w]={}),m=t[h.uniqueID]||(t[h.uniqueID]={}),c&&c===h.nodeName.toLowerCase())h=h[g]||h;else{if((p=m[b])&&p[0]===ba&&p[1]===l)return v[2]=p[2];if(m[b]=v,v[2]=e(h,a,f))return!0}return!1}}function x(e){return 1<e.length?function(h,a,g){for(var c=e.length;c--;)if(!e[c](h,a,g))return!1;return!0}:e[0]}function G(e,h,a,g,c){for(var b,
d=[],l=0,f=e.length,p=null!=h;l<f;l++)(b=e[l])&&(a&&!a(b,g,c)||(d.push(b),p&&h.push(l)));return d}function y(e,a,c,b,d,l){return b&&!b[w]&&(b=y(b)),d&&!d[w]&&(d=y(d,l)),g(function(g,l,f,p){var m,t=[],v=[],r=l.length,I;if(!(I=g)){I=a||"*";for(var u=f.nodeType?[f]:f,x=[],y=0,A=u.length;y<A;y++)h(I,u[y],x);I=x}I=!e||!g&&a?I:G(I,t,e,f,p);u=c?d||(g?e:r||b)?[]:l:I;if(c&&c(I,u,f,p),b){var sa=G(u,v);b(sa,[],f,p);for(f=sa.length;f--;)(m=sa[f])&&(u[v[f]]=!(I[v[f]]=m))}if(g){if(d||e){if(d){sa=[];for(f=u.length;f--;)(m=
u[f])&&sa.push(I[f]=m);d(null,u=[],sa,p)}for(f=u.length;f--;)(m=u[f])&&-1<(sa=d?J(g,m):t[f])&&(g[sa]=!(l[sa]=m))}}else u=G(u===l?u.splice(r,u.length):u),d?d(null,l,u,p):X.apply(l,u)})}function A(e){var h,a,g=e.length,c=P.relative[e[0].type];var b=c||P.relative[" "];for(var d=c?1:0,f=u(function(e){return e===h},b,!0),l=u(function(e){return-1<J(h,e)},b,!0),p=[function(e,a,g){e=!c&&(g||a!==K)||((h=a).nodeType?f(e,a,g):l(e,a,g));return h=null,e}];d<g;d++)if(b=P.relative[e[d].type])p=[u(x(p),b)];else{if(b=
P.filter[e[d].type].apply(null,e[d].matches),b[w]){for(a=++d;a<g&&!P.relative[e[a].type];a++);return y(1<d&&x(p),1<d&&r(e.slice(0,d-1).concat({value:" "===e[d-2].type?"*":""})).replace(ka,"$1"),b,d<a&&A(e.slice(d,a)),a<g&&A(e=e.slice(a)),a<g&&r(e))}p.push(b)}return x(p)}function k(e,a){var c=0<a.length,b=0<e.length,d=function(g,d,f,l,p){var m,t,v=0,r="0",u=g&&[],I=[],x=K,y=g||b&&P.find.TAG("*",p),A=ba+=null==x?1:Math.random()||.1,sa=y.length;for(p&&(K=d===C||d||p);r!==sa&&null!=(m=y[r]);r++){if(b&&
m){var k=0;for(d||m.ownerDocument===C||(ca(m),f=!q);t=e[k++];)if(t(m,d||C,f)){l.push(m);break}p&&(ba=A)}c&&((m=!t&&m)&&v--,g&&u.push(m))}if(v+=r,c&&r!==v){for(k=0;t=a[k++];)t(u,I,d,f);if(g){if(0<v)for(;r--;)u[r]||I[r]||(I[r]=ya.call(l));I=G(I)}X.apply(l,I);p&&!g&&0<I.length&&1<v+a.length&&h.uniqueSort(l)}return p&&(ba=A,K=x),u};return c?g(d):d}var n,z,H,K,E,V,C,B,q,U,S,M,F,w="sizzle"+1*new Date,D=e.document,ba=0,Q=0,W=a(),da=a(),Da=a(),Ia=function(e,h){return e===h&&(V=!0),0},ta={}.hasOwnProperty,
aa=[],ya=aa.pop,Y=aa.push,X=aa.push,ha=aa.slice,J=function(e,h){for(var a=0,g=e.length;a<g;a++)if(e[a]===h)return a;return-1},L=RegExp("[\\x20\\t\\r\\n\\f]+","g"),ka=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Ga=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,N=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ma=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),O=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
ra=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ia={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},R=/^(?:input|select|textarea|button)$/i,Qa=/^h\d$/i,ea=/^[^{]+\{\s*\[native \w/,
Ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ea=/[+~]/,T=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ja=function(e,h,a){e="0x"+h-65536;return e!==e||a?h:0>e?String.fromCharCode(e+65536):String.fromCharCode(e>>10|55296,1023&e|56320)},la=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,fa=function(e,h){return h?"\x00"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Ja=function(){ca()},oa=u(function(e){return!0===e.disabled&&("form"in
e||"label"in e)},{dir:"parentNode",next:"legend"});try{X.apply(aa=ha.call(D.childNodes),D.childNodes),aa[D.childNodes.length].nodeType}catch(hc){X={apply:aa.length?function(e,h){Y.apply(e,ha.call(h))}:function(e,h){for(var a=e.length,g=0;e[a++]=h[g++];);e.length=a-1}}}var Z=h.support={};var pa=h.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName};var ca=h.setDocument=function(e){var h,a;e=e?e.ownerDocument||e:D;return e!==C&&9===e.nodeType&&e.documentElement?
(C=e,B=C.documentElement,q=!pa(C),D!==C&&(a=C.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",Ja,!1):a.attachEvent&&a.attachEvent("onunload",Ja)),Z.attributes=c(function(e){return e.className="i",!e.getAttribute("className")}),Z.getElementsByTagName=c(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),Z.getElementsByClassName=ea.test(C.getElementsByClassName),Z.getById=c(function(e){return B.appendChild(e).id=w,!C.getElementsByName||
!C.getElementsByName(w).length}),Z.getById?(P.filter.ID=function(e){var h=e.replace(T,ja);return function(e){return e.getAttribute("id")===h}},P.find.ID=function(e,h){if("undefined"!=typeof h.getElementById&&q){var a=h.getElementById(e);return a?[a]:[]}}):(P.filter.ID=function(e){var h=e.replace(T,ja);return function(e){return(e="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id"))&&e.value===h}},P.find.ID=function(e,h){if("undefined"!=typeof h.getElementById&&q){var a,g,c=h.getElementById(e);
if(c){if(a=c.getAttributeNode("id"),a&&a.value===e)return[c];var b=h.getElementsByName(e);for(g=0;c=b[g++];)if(a=c.getAttributeNode("id"),a&&a.value===e)return[c]}return[]}}),P.find.TAG=Z.getElementsByTagName?function(e,h){return"undefined"!=typeof h.getElementsByTagName?h.getElementsByTagName(e):Z.qsa?h.querySelectorAll(e):void 0}:function(e,h){var a,g=[],c=0,b=h.getElementsByTagName(e);if("*"===e){for(;a=b[c++];)1===a.nodeType&&g.push(a);return g}return b},P.find.CLASS=Z.getElementsByClassName&&
function(e,h){if("undefined"!=typeof h.getElementsByClassName&&q)return h.getElementsByClassName(e)},S=[],U=[],(Z.qsa=ea.test(C.querySelectorAll))&&(c(function(e){B.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>";e.querySelectorAll("[msallowcapture^='']").length&&U.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");e.querySelectorAll("[selected]").length||U.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
e.querySelectorAll("[id~="+w+"-]").length||U.push("~=");e.querySelectorAll(":checked").length||U.push(":checked");e.querySelectorAll("a#"+w+"+*").length||U.push(".#.+[+~]")}),c(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var h=C.createElement("input");h.setAttribute("type","hidden");e.appendChild(h).setAttribute("name","D");e.querySelectorAll("[name=d]").length&&U.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==e.querySelectorAll(":enabled").length&&
U.push(":enabled",":disabled");B.appendChild(e).disabled=!0;2!==e.querySelectorAll(":disabled").length&&U.push(":enabled",":disabled");e.querySelectorAll("*,:x");U.push(",.*:")})),(Z.matchesSelector=ea.test(M=B.matches||B.webkitMatchesSelector||B.mozMatchesSelector||B.oMatchesSelector||B.msMatchesSelector))&&c(function(e){Z.disconnectedMatch=M.call(e,"*");M.call(e,"[s!='']:x");S.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
U=U.length&&new RegExp(U.join("|")),S=S.length&&new RegExp(S.join("|")),h=ea.test(B.compareDocumentPosition),F=h||ea.test(B.contains)?function(e,h){var a=9===e.nodeType?e.documentElement:e,g=h&&h.parentNode;return e===g||!(!g||1!==g.nodeType||!(a.contains?a.contains(g):e.compareDocumentPosition&&16&e.compareDocumentPosition(g)))}:function(e,h){if(h)for(;h=h.parentNode;)if(h===e)return!0;return!1},Ia=h?function(e,h){if(e===h)return V=!0,0;var a=!e.compareDocumentPosition-!h.compareDocumentPosition;
return a?a:(a=(e.ownerDocument||e)===(h.ownerDocument||h)?e.compareDocumentPosition(h):1,1&a||!Z.sortDetached&&h.compareDocumentPosition(e)===a?e===C||e.ownerDocument===D&&F(D,e)?-1:h===C||h.ownerDocument===D&&F(D,h)?1:E?J(E,e)-J(E,h):0:4&a?-1:1)}:function(e,h){if(e===h)return V=!0,0;var a=0;var g=e.parentNode;var c=h.parentNode,b=[e],f=[h];if(!g||!c)return e===C?-1:h===C?1:g?-1:c?1:E?J(E,e)-J(E,h):0;if(g===c)return d(e,h);for(g=e;g=g.parentNode;)b.unshift(g);for(g=h;g=g.parentNode;)f.unshift(g);
for(;b[a]===f[a];)a++;return a?d(b[a],f[a]):b[a]===D?-1:f[a]===D?1:0},C):C};h.matches=function(e,a){return h(e,null,null,a)};h.matchesSelector=function(e,a){if((e.ownerDocument||e)!==C&&ca(e),a=a.replace(ma,"='$1']"),!(!Z.matchesSelector||!q||Da[a+" "]||S&&S.test(a)||U&&U.test(a)))try{var g=M.call(e,a);if(g||Z.disconnectedMatch||e.document&&11!==e.document.nodeType)return g}catch(jc){}return 0<h(a,C,null,[e]).length};h.contains=function(e,h){return(e.ownerDocument||e)!==C&&ca(e),F(e,h)};h.attr=function(e,
h){(e.ownerDocument||e)!==C&&ca(e);var a=P.attrHandle[h.toLowerCase()];a=a&&ta.call(P.attrHandle,h.toLowerCase())?a(e,h,!q):void 0;return void 0!==a?a:Z.attributes||!q?e.getAttribute(h):(a=e.getAttributeNode(h))&&a.specified?a.value:null};h.escape=function(e){return(e+"").replace(la,fa)};h.error=function(e){throw Error("Syntax error, unrecognized expression: "+e);};h.uniqueSort=function(e){var h,a=[],g=0,c=0;if(V=!Z.detectDuplicates,E=!Z.sortStable&&e.slice(0),e.sort(Ia),V){for(;h=e[c++];)h===e[c]&&
(g=a.push(c));for(;g--;)e.splice(a[g],1)}return E=null,e};var na=h.getText=function(e){var h,a="",g=0;if(h=e.nodeType)if(1===h||9===h||11===h){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=na(e)}else{if(3===h||4===h)return e.nodeValue}else for(;h=e[g++];)a+=na(h);return a};var P=h.selectors={cacheLength:50,createPseudo:g,match:ia,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},
"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(T,ja),e[3]=(e[3]||e[4]||e[5]||"").replace(T,ja),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||h.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&h.error(e[0]),e},PSEUDO:function(e){var h,a=!e[6]&&e[2];return ia.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&O.test(a)&&(h=
qa(a,!0))&&(h=a.indexOf(")",a.length-h)-a.length)&&(e[0]=e[0].slice(0,h),e[2]=a.slice(0,h)),e.slice(0,3))}},filter:{TAG:function(e){var h=e.replace(T,ja).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===h}},CLASS:function(e){var h=W[e+" "];return h||(h=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"([\\x20\\t\\r\\n\\f]|$)"),W(e,function(e){return h.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||
"")}))},ATTR:function(e,a,g){return function(c){c=h.attr(c,e);return null==c?"!="===a:!a||(c+="","="===a?c===g:"!="===a?c!==g:"^="===a?g&&0===c.indexOf(g):"*="===a?g&&-1<c.indexOf(g):"$="===a?g&&c.slice(-g.length)===g:"~="===a?-1<(" "+c.replace(L," ")+" ").indexOf(g):"|="===a&&(c===g||c.slice(0,g.length+1)===g+"-"))}},CHILD:function(e,h,a,g,c){var b="nth"!==e.slice(0,3),d="last"!==e.slice(-4),f="of-type"===h;return 1===g&&0===c?function(e){return!!e.parentNode}:function(h,a,l){var p,m;a=b!==d?"nextSibling":
"previousSibling";var t=h.parentNode,v=f&&h.nodeName.toLowerCase();l=!l&&!f;var r=!1;if(t){if(b){for(;a;){for(p=h;p=p[a];)if(f?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;var u=a="only"===e&&!u&&"nextSibling"}return!0}if(u=[d?t.firstChild:t.lastChild],d&&l){p=t;var I=p[w]||(p[w]={});var x=I[p.uniqueID]||(I[p.uniqueID]={});var G=x[e]||[];r=(m=G[0]===ba&&G[1])&&G[2];for(p=m&&t.childNodes[m];p=++m&&p&&p[a]||(r=m=0)||u.pop();)if(1===p.nodeType&&++r&&p===h){x[e]=[ba,m,r];break}}else if(l&&(p=
h,I=p[w]||(p[w]={}),x=I[p.uniqueID]||(I[p.uniqueID]={}),G=x[e]||[],m=G[0]===ba&&G[1],r=m),!1===r)for(;(p=++m&&p&&p[a]||(r=m=0)||u.pop())&&((f?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++r||(l&&(I=p[w]||(p[w]={}),x=I[p.uniqueID]||(I[p.uniqueID]={}),x[e]=[ba,r]),p!==h)););return r-=c,r===g||0===r%g&&0<=r/g}}},PSEUDO:function(e,a){var c,b=P.pseudos[e]||P.setFilters[e.toLowerCase()]||h.error("unsupported pseudo: "+e);return b[w]?b(a):1<b.length?(c=[e,e,"",a],P.setFilters.hasOwnProperty(e.toLowerCase())?
g(function(e,h){for(var g,c=b(e,a),d=c.length;d--;)g=J(e,c[d]),e[g]=!(h[g]=c[d])}):function(e){return b(e,0,c)}):b}},pseudos:{not:g(function(e){var h=[],a=[],c=z(e.replace(ka,"$1"));return c[w]?g(function(e,h,a,g){var b;a=c(e,null,g,[]);for(g=e.length;g--;)(b=a[g])&&(e[g]=!(h[g]=b))}):function(e,g,b){return h[0]=e,c(h,null,b,a),h[0]=null,!a.pop()}}),has:g(function(e){return function(a){return 0<h(e,a).length}}),contains:g(function(e){return e=e.replace(T,ja),function(h){return-1<(h.textContent||h.innerText||
na(h)).indexOf(e)}}),lang:g(function(e){return ra.test(e||"")||h.error("unsupported lang: "+e),e=e.replace(T,ja).toLowerCase(),function(h){var a;do if(a=q?h.lang:h.getAttribute("xml:lang")||h.getAttribute("lang"))return a=a.toLowerCase(),a===e||0===a.indexOf(e+"-");while((h=h.parentNode)&&1===h.nodeType);return!1}}),target:function(h){var a=e.location&&e.location.hash;return a&&a.slice(1)===h.id},root:function(e){return e===B},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&
!!(e.type||e.href||~e.tabIndex)},enabled:p(!1),disabled:p(!0),checked:function(e){var h=e.nodeName.toLowerCase();return"input"===h&&!!e.checked||"option"===h&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(6>e.nodeType)return!1;return!0},parent:function(e){return!P.pseudos.empty(e)},header:function(e){return Qa.test(e.nodeName)},input:function(e){return R.test(e.nodeName)},button:function(e){var h=
e.nodeName.toLowerCase();return"input"===h&&"button"===e.type||"button"===h},text:function(e){var h;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(h=e.getAttribute("type"))||"text"===h.toLowerCase())},first:m(function(){return[0]}),last:m(function(e,h){return[h-1]}),eq:m(function(e,h,a){return[0>a?a+h:a]}),even:m(function(e,h){for(var a=0;a<h;a+=2)e.push(a);return e}),odd:m(function(e,h){for(var a=1;a<h;a+=2)e.push(a);return e}),lt:m(function(e,h,a){for(h=0>a?a+h:a;0<=--h;)e.push(h);
return e}),gt:m(function(e,h,a){for(a=0>a?a+h:a;++a<h;)e.push(a);return e})}};P.pseudos.nth=P.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})P.pseudos[n]=l(n);for(n in{submit:!0,reset:!0})P.pseudos[n]=f(n);v.prototype=P.filters=P.pseudos;P.setFilters=new v;var qa=h.tokenize=function(e,a){var g,c,b,d,f;if(d=da[e+" "])return a?0:d.slice(0);d=e;var l=[];for(f=P.preFilter;d;){p&&!(g=Ga.exec(d))||(g&&(d=d.slice(g[0].length)||d),l.push(c=[]));var p=!1;(g=N.exec(d))&&(p=g.shift(),
c.push({value:p,type:g[0].replace(ka," ")}),d=d.slice(p.length));for(b in P.filter)!(g=ia[b].exec(d))||f[b]&&!(g=f[b](g))||(p=g.shift(),c.push({value:p,type:b,matches:g}),d=d.slice(p.length));if(!p)break}return a?d.length:d?h.error(e):da(e,l).slice(0)};return z=h.compile=function(e,h){var a,g=[],c=[],b=Da[e+" "];if(!b){h||(h=qa(e));for(a=h.length;a--;)b=A(h[a]),b[w]?g.push(b):c.push(b);b=Da(e,k(c,g));b.selector=e}return b},H=h.select=function(e,h,a,g){var c,b,d,f,l,p="function"==typeof e&&e,m=!g&&
qa(e=p.selector||e);if(a=a||[],1===m.length){if(b=m[0]=m[0].slice(0),2<b.length&&"ID"===(d=b[0]).type&&9===h.nodeType&&q&&P.relative[b[1].type]){if(h=(P.find.ID(d.matches[0].replace(T,ja),h)||[])[0],!h)return a;p&&(h=h.parentNode);e=e.slice(b.shift().value.length)}for(c=ia.needsContext.test(e)?0:b.length;c--&&(d=b[c],!P.relative[f=d.type]);)if((l=P.find[f])&&(g=l(d.matches[0].replace(T,ja),Ea.test(b[0].type)&&t(h.parentNode)||h))){if(b.splice(c,1),e=g.length&&r(b),!e)return X.apply(a,g),a;break}}return(p||
z(e,m))(g,h,!q,a,!h||Ea.test(e)&&t(h.parentNode)||h),a},Z.sortStable=w.split("").sort(Ia).join("")===w,Z.detectDuplicates=!!V,ca(),Z.sortDetached=c(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),c(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||b("type|href|height|width",function(e,h,a){if(!a)return e.getAttribute(h,"type"===h.toLowerCase()?1:2)}),Z.attributes&&c(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",
""),""===e.firstChild.getAttribute("value")})||b("value",function(e,h,a){if(!a&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),c(function(e){return null==e.getAttribute("disabled")})||b("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(e,h,a){var g;if(!a)return!0===e[h]?h.toLowerCase():(g=e.getAttributeNode(h))&&g.specified?g.value:null}),h}(n);m.find=ta;m.expr=ta.selectors;m.expr[":"]=m.expr.pseudos;m.uniqueSort=
m.unique=ta.uniqueSort;m.text=ta.getText;m.isXMLDoc=ta.isXML;m.contains=ta.contains;m.escapeSelector=ta.escape;var ya=function(e,h,a){for(var g=[],c=void 0!==a;(e=e[h])&&9!==e.nodeType;)if(1===e.nodeType){if(c&&m(e).is(a))break;g.push(e)}return g},Ra=function(e,h){for(var a=[];e;e=e.nextSibling)1===e.nodeType&&e!==h&&a.push(e);return a},Ea=m.expr.match.needsContext,Ja=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,ub=/^.[^:#\[\.,]*$/;m.filter=function(e,h,a){var g=h[0];return a&&
(e=":not("+e+")"),1===h.length&&1===g.nodeType?m.find.matchesSelector(g,e)?[g]:[]:m.find.matches(e,m.grep(h,function(e){return 1===e.nodeType}))};m.fn.extend({find:function(e){var h,a=this.length,g=this;if("string"!=typeof e)return this.pushStack(m(e).filter(function(){for(h=0;h<a;h++)if(m.contains(g[h],this))return!0}));var c=this.pushStack([]);for(h=0;h<a;h++)m.find(e,g[h],c);return 1<a?m.uniqueSort(c):c},filter:function(e){return this.pushStack(d(this,e||[],!1))},not:function(e){return this.pushStack(d(this,
e||[],!0))},is:function(e){return!!d(this,"string"==typeof e&&Ea.test(e)?m(e):e||[],!1).length}});var Fb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(m.fn.init=function(e,h,a){var g,c;if(!e)return this;if(a=a||Gb,"string"==typeof e){if(g="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:Fb.exec(e),!g||!g[1]&&h)return!h||h.jquery?(h||a).find(e):this.constructor(h).find(e);if(g[1]){if(h=h instanceof m?h[0]:h,m.merge(this,m.parseHTML(g[1],h&&h.nodeType?h.ownerDocument||h:N,!0)),Ja.test(g[1])&&m.isPlainObject(h))for(g in h)m.isFunction(this[g])?
this[g](h[g]):this.attr(g,h[g]);return this}return c=N.getElementById(g[2]),c&&(this[0]=c,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m.isFunction(e)?void 0!==a.ready?a.ready(e):e(m):m.makeArray(e,this)}).prototype=m.fn;var Gb=m(N);var Hb=/^(?:parents|prev(?:Until|All))/,Ib={children:!0,contents:!0,next:!0,prev:!0};m.fn.extend({has:function(e){var h=m(e,this),a=h.length;return this.filter(function(){for(var e=0;e<a;e++)if(m.contains(this,h[e]))return!0})},closest:function(e,
h){var a,g=0,c=this.length,b=[],d="string"!=typeof e&&m(e);if(!Ea.test(e))for(;g<c;g++)for(a=this[g];a&&a!==h;a=a.parentNode)if(11>a.nodeType&&(d?-1<d.index(a):1===a.nodeType&&m.find.matchesSelector(a,e))){b.push(a);break}return this.pushStack(1<b.length?m.uniqueSort(b):b)},index:function(e){return e?"string"==typeof e?T.call(m(e),this[0]):T.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,h){return this.pushStack(m.uniqueSort(m.merge(this.get(),
m(e,h))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});m.each({parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},parents:function(e){return ya(e,"parentNode")},parentsUntil:function(e,h,a){return ya(e,"parentNode",a)},next:function(e){return b(e,"nextSibling")},prev:function(e){return b(e,"previousSibling")},nextAll:function(e){return ya(e,"nextSibling")},prevAll:function(e){return ya(e,"previousSibling")},nextUntil:function(e,h,a){return ya(e,
"nextSibling",a)},prevUntil:function(e,h,a){return ya(e,"previousSibling",a)},siblings:function(e){return Ra((e.parentNode||{}).firstChild,e)},children:function(e){return Ra(e.firstChild)},contents:function(e){return f(e,"iframe")?e.contentDocument:(f(e,"template")&&(e=e.content||e),m.merge([],e.childNodes))}},function(e,h){m.fn[e]=function(a,g){var c=m.map(this,h,a);return"Until"!==e.slice(-5)&&(g=a),g&&"string"==typeof g&&(c=m.filter(g,c)),1<this.length&&(Ib[e]||m.uniqueSort(c),Hb.test(e)&&c.reverse()),
this.pushStack(c)}});var oa=/[^\x20\t\r\n\f]+/g;m.Callbacks=function(e){e="string"==typeof e?a(e):m.extend({},e);var h,g,c,b,d=[],f=[],l=-1,p=function(){b=b||e.once;for(c=h=!0;f.length;l=-1)for(g=f.shift();++l<d.length;)!1===d[l].apply(g[0],g[1])&&e.stopOnFalse&&(l=d.length,g=!1);e.memory||(g=!1);h=!1;b&&(d=g?[]:"")},t={add:function(){return d&&(g&&!h&&(l=d.length-1,f.push(g)),function yb(h){m.each(h,function(h,a){m.isFunction(a)?e.unique&&t.has(a)||d.push(a):a&&a.length&&"string"!==m.type(a)&&yb(a)})}(arguments),
g&&!h&&p()),this},remove:function(){return m.each(arguments,function(e,h){for(var a;-1<(a=m.inArray(h,d,a));)d.splice(a,1),a<=l&&l--}),this},has:function(e){return e?-1<m.inArray(e,d):0<d.length},empty:function(){return d&&(d=[]),this},disable:function(){return b=f=[],d=g="",this},disabled:function(){return!d},lock:function(){return b=f=[],g||h||(d=g=""),this},locked:function(){return!!b},fireWith:function(e,a){return b||(a=a||[],a=[e,a.slice?a.slice():a],f.push(a),h||p()),this},fire:function(){return t.fireWith(this,
arguments),this},fired:function(){return!!c}};return t};m.extend({Deferred:function(e){var a=[["notify","progress",m.Callbacks("memory"),m.Callbacks("memory"),2],["resolve","done",m.Callbacks("once memory"),m.Callbacks("once memory"),0,"resolved"],["reject","fail",m.Callbacks("once memory"),m.Callbacks("once memory"),1,"rejected"]],g="pending",b={state:function(){return g},always:function(){return d.done(arguments).fail(arguments),this},"catch":function(e){return b.then(null,e)},pipe:function(){var e=
arguments;return m.Deferred(function(h){m.each(a,function(a,g){var c=m.isFunction(e[g[4]])&&e[g[4]];d[g[1]](function(){var e=c&&c.apply(this,arguments);e&&m.isFunction(e.promise)?e.promise().progress(h.notify).done(h.resolve).fail(h.reject):h[g[0]+"With"](this,c?[e]:arguments)})});e=null}).promise()},then:function(e,h,g){function b(e,a,h,g){return function(){var f=this,p=arguments,t=function(){var t;if(!(e<d)){if(t=h.apply(f,p),t===a.promise())throw new TypeError("Thenable self-resolution");var r=
t&&("object"==typeof t||"function"==typeof t)&&t.then;m.isFunction(r)?g?r.call(t,b(d,a,l,g),b(d,a,c,g)):(d++,r.call(t,b(d,a,l,g),b(d,a,c,g),b(d,a,l,a.notifyWith))):(h!==l&&(f=void 0,p=[t]),(g||a.resolveWith)(f,p))}},r=g?t:function(){try{t()}catch(hb){m.Deferred.exceptionHook&&m.Deferred.exceptionHook(hb,r.stackTrace),e+1>=d&&(h!==c&&(f=void 0,p=[hb]),a.rejectWith(f,p))}};e?r():(m.Deferred.getStackHook&&(r.stackTrace=m.Deferred.getStackHook()),n.setTimeout(r))}}var d=0;return m.Deferred(function(d){a[0][3].add(b(0,
d,m.isFunction(g)?g:l,d.notifyWith));a[1][3].add(b(0,d,m.isFunction(e)?e:l));a[2][3].add(b(0,d,m.isFunction(h)?h:c))}).promise()},promise:function(e){return null!=e?m.extend(e,b):b}},d={};return m.each(a,function(e,h){var c=h[2],f=h[5];b[h[1]]=c.add;f&&c.add(function(){g=f},a[3-e][2].disable,a[0][2].lock);c.add(h[3].fire);d[h[0]]=function(){return d[h[0]+"With"](this===d?void 0:this,arguments),this};d[h[0]+"With"]=c.fireWith}),b.promise(d),e&&e.call(d,d),d},when:function(e){var a=arguments.length,
g=a,c=Array(g),b=na.call(arguments),d=m.Deferred(),f=function(e){return function(h){c[e]=this;b[e]=1<arguments.length?na.call(arguments):h;--a||d.resolveWith(c,b)}};if(1>=a&&(r(e,d.done(f(g)).resolve,d.reject,!a),"pending"===d.state()||m.isFunction(b[g]&&b[g].then)))return d.then();for(;g--;)r(b[g],f(g),d.reject);return d.promise()}});var Jb=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;m.Deferred.exceptionHook=function(e,a){n.console&&n.console.warn&&e&&Jb.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+
e.message,e.stack,a)};m.readyException=function(e){n.setTimeout(function(){throw e;})};var Xa=m.Deferred();m.fn.ready=function(e){return Xa.then(e)["catch"](function(e){m.readyException(e)}),this};m.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--m.readyWait:m.isReady)||(m.isReady=!0,!0!==e&&0<--m.readyWait||Xa.resolveWith(N,[m]))}});m.ready.then=Xa.then;"complete"===N.readyState||"loading"!==N.readyState&&!N.documentElement.doScroll?n.setTimeout(m.ready):(N.addEventListener("DOMContentLoaded",
x),n.addEventListener("load",x));var va=function(e,a,g,c,b,d,f){var h=0,l=e.length,p=null==g;if("object"===m.type(g))for(h in b=!0,g)va(e,a,h,g[h],!0,d,f);else if(void 0!==c&&(b=!0,m.isFunction(c)||(f=!0),p&&(f?(a.call(e,c),a=null):(p=a,a=function(e,a,h){return p.call(m(e),h)})),a))for(;h<l;h++)a(e[h],g,f?c:c.call(e[h],h,a(e[h],g)));return b?e:p?a.call(e):l?a(e[0],g):d},Sa=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};p.uid=1;p.prototype={cache:function(e){var a=e[this.expando];
return a||(a={},Sa(e)&&(e.nodeType?e[this.expando]=a:Object.defineProperty(e,this.expando,{value:a,configurable:!0}))),a},set:function(e,a,g){var h;e=this.cache(e);if("string"==typeof a)e[m.camelCase(a)]=g;else for(h in a)e[m.camelCase(h)]=a[h];return e},get:function(e,a){return void 0===a?this.cache(e):e[this.expando]&&e[this.expando][m.camelCase(a)]},access:function(e,a,g){return void 0===a||a&&"string"==typeof a&&void 0===g?this.get(e,a):(this.set(e,a,g),void 0!==g?g:a)},remove:function(e,a){var h,
g=e[this.expando];if(void 0!==g){if(void 0!==a)for(Array.isArray(a)?a=a.map(m.camelCase):(a=m.camelCase(a),a=a in g?[a]:a.match(oa)||[]),h=a.length;h--;)delete g[a[h]];(void 0===a||m.isEmptyObject(g))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!m.isEmptyObject(e)}};var L=new p,fa=new p,wb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,vb=/[A-Z]/g;m.extend({hasData:function(e){return fa.hasData(e)||L.hasData(e)},data:function(e,a,g){return fa.access(e,
a,g)},removeData:function(e,a){fa.remove(e,a)},_data:function(e,a,g){return L.access(e,a,g)},_removeData:function(e,a){L.remove(e,a)}});m.fn.extend({data:function(e,a){var h,g,c,b=this[0],d=b&&b.attributes;if(void 0===e){if(this.length&&(c=fa.get(b),1===b.nodeType&&!L.get(b,"hasDataAttrs"))){for(h=d.length;h--;)d[h]&&(g=d[h].name,0===g.indexOf("data-")&&(g=m.camelCase(g.slice(5)),y(b,g,c[g])));L.set(b,"hasDataAttrs",!0)}return c}return"object"==typeof e?this.each(function(){fa.set(this,e)}):va(this,
function(a){var h;if(b&&void 0===a){if((h=fa.get(b,e),void 0!==h)||(h=y(b,e),void 0!==h))return h}else this.each(function(){fa.set(this,e,a)})},null,a,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){fa.remove(this,e)})}});m.extend({queue:function(e,a,g){var h;if(e)return a=(a||"fx")+"queue",h=L.get(e,a),g&&(!h||Array.isArray(g)?h=L.access(e,a,m.makeArray(g)):h.push(g)),h||[]},dequeue:function(e,a){a=a||"fx";var h=m.queue(e,a),g=h.length,c=h.shift(),b=m._queueHooks(e,
a),d=function(){m.dequeue(e,a)};"inprogress"===c&&(c=h.shift(),g--);c&&("fx"===a&&h.unshift("inprogress"),delete b.stop,c.call(e,d,b));!g&&b&&b.empty.fire()},_queueHooks:function(e,a){var h=a+"queueHooks";return L.get(e,h)||L.access(e,h,{empty:m.Callbacks("once memory").add(function(){L.remove(e,[a+"queue",h])})})}});m.fn.extend({queue:function(e,a){var h=2;return"string"!=typeof e&&(a=e,e="fx",h--),arguments.length<h?m.queue(this[0],e):void 0===a?this:this.each(function(){var h=m.queue(this,e,a);
m._queueHooks(this,e);"fx"===e&&"inprogress"!==h[0]&&m.dequeue(this,e)})},dequeue:function(e){return this.each(function(){m.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,a){var h,g=1,c=m.Deferred(),b=this,d=this.length,f=function(){--g||c.resolveWith(b,[b])};"string"!=typeof e&&(a=e,e=void 0);for(e=e||"fx";d--;)(h=L.get(b[d],e+"queueHooks"))&&h.empty&&(g++,h.empty.add(f));return f(),c.promise(a)}});var ib=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Fa=
new RegExp("^(?:([+-])=|)("+ib+")([a-z%]*)$","i"),za=["Top","Right","Bottom","Left"],Na=function(e,a){return e=a||e,"none"===e.style.display||""===e.style.display&&m.contains(e.ownerDocument,e)&&"none"===m.css(e,"display")},jb=function(e,a,g,c){var h,b={};for(h in a)b[h]=e.style[h],e.style[h]=a[h];g=g.apply(e,c||[]);for(h in a)e.style[h]=b[h];return g},bb={};m.fn.extend({show:function(){return u(this,!0)},hide:function(){return u(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():
this.each(function(){Na(this)?m(this).show():m(this).hide()})}});var kb=/^(?:checkbox|radio)$/i,cb=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,db=/^$|\/(?:java|ecma)script/i,pa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};pa.optgroup=pa.option;pa.tbody=pa.tfoot=pa.colgroup=pa.caption=pa.thead;pa.th=pa.td;
var zb=/<|&#?\w+;/;!function(){var e=N.createDocumentFragment().appendChild(N.createElement("div")),a=N.createElement("input");a.setAttribute("type","radio");a.setAttribute("checked","checked");a.setAttribute("name","t");e.appendChild(a);R.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked;e.innerHTML="<textarea>x</textarea>";R.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ta=N.documentElement,Kb=/^key/,Lb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,lb=/^([^.]*)(?:\.(.+)|)/;
m.event={global:{},add:function(e,a,g,c,b){var h,d,f,l,p,t,r,v;if(l=L.get(e))for(g.handler&&(h=g,g=h.handler,b=h.selector),b&&m.find.matchesSelector(Ta,b),g.guid||(g.guid=m.guid++),(f=l.events)||(f=l.events={}),(d=l.handle)||(d=l.handle=function(a){return"undefined"!=typeof m&&m.event.triggered!==a.type?m.event.dispatch.apply(e,arguments):void 0}),a=(a||"").match(oa)||[""],l=a.length;l--;){var u=lb.exec(a[l])||[];var x=v=u[1];u=(u[2]||"").split(".").sort();x&&(t=m.event.special[x]||{},x=(b?t.delegateType:
t.bindType)||x,t=m.event.special[x]||{},p=m.extend({type:x,origType:v,data:c,handler:g,guid:g.guid,selector:b,needsContext:b&&m.expr.match.needsContext.test(b),namespace:u.join(".")},h),(r=f[x])||(r=f[x]=[],r.delegateCount=0,t.setup&&!1!==t.setup.call(e,c,u,d)||e.addEventListener&&e.addEventListener(x,d)),t.add&&(t.add.call(e,p),p.handler.guid||(p.handler.guid=g.guid)),b?r.splice(r.delegateCount++,0,p):r.push(p),m.event.global[x]=!0)}},remove:function(e,a,g,c,b){var h,d,f,l,p,t,r,v,u=L.hasData(e)&&
L.get(e);if(u&&(l=u.events)){a=(a||"").match(oa)||[""];for(p=a.length;p--;)if(f=lb.exec(a[p])||[],t=v=f[1],r=(f[2]||"").split(".").sort(),t){var x=m.event.special[t]||{};t=(c?x.delegateType:x.bindType)||t;var G=l[t]||[];f=f[2]&&new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)");for(d=h=G.length;h--;){var y=G[h];!b&&v!==y.origType||g&&g.guid!==y.guid||f&&!f.test(y.namespace)||c&&c!==y.selector&&("**"!==c||!y.selector)||(G.splice(h,1),y.selector&&G.delegateCount--,x.remove&&x.remove.call(e,y))}d&&
!G.length&&(x.teardown&&!1!==x.teardown.call(e,r,u.handle)||m.removeEvent(e,t,u.handle),delete l[t])}else for(t in l)m.event.remove(e,t+a[p],g,c,!0);m.isEmptyObject(l)&&L.remove(e,"handle events")}},dispatch:function(e){var a=m.event.fix(e),g,c,b,d,f=Array(arguments.length);var l=(L.get(this,"events")||{})[a.type]||[];var p=m.event.special[a.type]||{};f[0]=a;for(g=1;g<arguments.length;g++)f[g]=arguments[g];if(a.delegateTarget=this,!p.preDispatch||!1!==p.preDispatch.call(this,a)){var t=m.event.handlers.call(this,
a,l);for(g=0;(b=t[g++])&&!a.isPropagationStopped();)for(a.currentTarget=b.elem,l=0;(d=b.handlers[l++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(d.namespace)||(a.handleObj=d,a.data=d.data,c=((m.event.special[d.origType]||{}).handle||d.handler).apply(b.elem,f),void 0!==c&&!1===(a.result=c)&&(a.preventDefault(),a.stopPropagation()));return p.postDispatch&&p.postDispatch.call(this,a),a.result}},handlers:function(e,a){var h,g=[],c=a.delegateCount,b=e.target;if(c&&b.nodeType&&
!("click"===e.type&&1<=e.button))for(;b!==this;b=b.parentNode||this)if(1===b.nodeType&&("click"!==e.type||!0!==b.disabled)){var d=[];var f={};for(h=0;h<c;h++){var l=a[h];var p=l.selector+" ";void 0===f[p]&&(f[p]=l.needsContext?-1<m(p,this).index(b):m.find(p,this,null,[b]).length);f[p]&&d.push(l)}d.length&&g.push({elem:b,handlers:d})}return b=this,c<a.length&&g.push({elem:b,handlers:a.slice(c)}),g},addProp:function(e,a){Object.defineProperty(m.Event.prototype,e,{enumerable:!0,configurable:!0,get:m.isFunction(a)?
function(){if(this.originalEvent)return a(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(a){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:a})}})},fix:function(e){return e[m.expando]?e:new m.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==E()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===E()&&this.blur)return this.blur(),!1},delegateType:"focusout"},
click:{trigger:function(){if("checkbox"===this.type&&this.click&&f(this,"input"))return this.click(),!1},_default:function(e){return f(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}};m.removeEvent=function(e,a,g){e.removeEventListener&&e.removeEventListener(a,g)};m.Event=function(e,a){return this instanceof m.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===
e.defaultPrevented&&!1===e.returnValue?A:C,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,a&&m.extend(this,a),this.timeStamp=e&&e.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(e,a)};m.Event.prototype={constructor:m.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=
A;e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=A;e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=A;e&&!this.isSimulated&&e.stopImmediatePropagation();this.stopPropagation()}};m.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,
key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var a=e.button;return null==e.which&&Kb.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==a&&Lb.test(e.type)?1&a?1:2&a?3:4&a?2:0:e.which}},m.event.addProp);m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,a){m.event.special[e]=
{delegateType:a,bindType:a,handle:function(e){var g,h=e.relatedTarget,c=e.handleObj;return h&&(h===this||m.contains(this,h))||(e.type=c.origType,g=c.handler.apply(this,arguments),e.type=a),g}}});m.fn.extend({on:function(e,a,g,c){return H(this,e,a,g,c)},one:function(e,a,g,c){return H(this,e,a,g,c,1)},off:function(e,a,g){var h,c;if(e&&e.preventDefault&&e.handleObj)return h=e.handleObj,m(e.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if("object"==typeof e){for(c in e)this.off(c,
a,e[c]);return this}return!1!==a&&"function"!=typeof a||(g=a,a=void 0),!1===g&&(g=C),this.each(function(){m.event.remove(this,e,g,a)})}});var Mb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Nb=/<script|<style|<link/i,Bb=/checked\s*(?:[^=]|=\s*.checked.)/i,Ab=/^true\/(.*)/,Cb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;m.extend({htmlPrefilter:function(e){return e.replace(Mb,"<$1></$2>")},clone:function(e,a,g){var h,c=e.cloneNode(!0),b=m.contains(e.ownerDocument,
e);if(!(R.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||m.isXMLDoc(e))){var d=z(c);var f=z(e);var l=0;for(h=f.length;l<h;l++){var p=f[l],t=d[l],r=t.nodeName.toLowerCase();"input"===r&&kb.test(p.type)?t.checked=p.checked:"input"!==r&&"textarea"!==r||(t.defaultValue=p.defaultValue)}}if(a)if(g)for(f=f||z(e),d=d||z(c),l=0,h=f.length;l<h;l++)Q(f[l],d[l]);else Q(e,c);return d=z(c,"script"),0<d.length&&K(d,!b&&z(e,"script")),c},cleanData:function(e){for(var a,g,c,b=m.event.special,d=0;void 0!==(g=e[d]);d++)if(Sa(g)){if(a=
g[L.expando]){if(a.events)for(c in a.events)b[c]?m.event.remove(g,c):m.removeEvent(g,c,a.handle);g[L.expando]=void 0}g[fa.expando]&&(g[fa.expando]=void 0)}}});m.fn.extend({detach:function(e){return W(this,e,!0)},remove:function(e){return W(this,e)},text:function(e){return va(this,function(e){return void 0===e?m.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return D(this,arguments,
function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||B(this,e).appendChild(e)})},prepend:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var a=B(this,e);a.insertBefore(e,a.firstChild)}})},before:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,
a=0;null!=(e=this[a]);a++)1===e.nodeType&&(m.cleanData(z(e,!1)),e.textContent="");return this},clone:function(e,a){return e=null!=e&&e,a=null==a?e:a,this.map(function(){return m.clone(this,e,a)})},html:function(e){return va(this,function(e){var a=this[0]||{},g=0,h=this.length;if(void 0===e&&1===a.nodeType)return a.innerHTML;if("string"==typeof e&&!Nb.test(e)&&!pa[(cb.exec(e)||["",""])[1].toLowerCase()]){e=m.htmlPrefilter(e);try{for(;g<h;g++)a=this[g]||{},1===a.nodeType&&(m.cleanData(z(a,!1)),a.innerHTML=
e);a=0}catch(ab){}}a&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return D(this,arguments,function(a){var g=this.parentNode;0>m.inArray(this,e)&&(m.cleanData(z(this)),g&&g.replaceChild(a,this))},e)}});m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){m.fn[e]=function(e){for(var g=[],h=m(e),c=h.length-1,b=0;b<=c;b++)e=b===c?this:this.clone(!0),m(h[b])[a](e),qa.apply(g,e.get());return this.pushStack(g)}});
var eb=/^margin/,Ua=new RegExp("^("+ib+")(?!px)[a-z%]+$","i"),Oa=function(e){var a=e.ownerDocument.defaultView;return a&&a.opener||(a=n),a.getComputedStyle(e)};!function(){function e(){if(f){f.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";f.innerHTML="";Ta.appendChild(d);var e=n.getComputedStyle(f);a="1%"!==e.top;b="2px"===e.marginLeft;g="4px"===e.width;f.style.marginRight="50%";c="4px"===e.marginRight;Ta.removeChild(d);f=
null}}var a,g,c,b,d=N.createElement("div"),f=N.createElement("div");f.style&&(f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",R.clearCloneStyle="content-box"===f.style.backgroundClip,d.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",d.appendChild(f),m.extend(R,{pixelPosition:function(){return e(),a},boxSizingReliable:function(){return e(),g},pixelMarginRight:function(){return e(),c},reliableMarginLeft:function(){return e(),
b}}))}();var Ob=/^(none|table(?!-c[ea]).+)/,mb=/^--/,Pb={position:"absolute",visibility:"hidden",display:"block"},nb={letterSpacing:"0",fontWeight:"400"},gb=["Webkit","Moz","ms"],fb=N.createElement("div").style;m.extend({cssHooks:{opacity:{get:function(e,a){if(a){var h=g(e,"opacity");return""===h?"1":h}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},
style:function(e,a,g,c){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var h,b,d,f=m.camelCase(a),l=mb.test(a),p=e.style;return l||(a=G(f)),d=m.cssHooks[a]||m.cssHooks[f],void 0===g?d&&"get"in d&&void 0!==(h=d.get(e,!1,c))?h:p[a]:(b=typeof g,"string"===b&&(h=Fa.exec(g))&&h[1]&&(g=v(e,a,h),b="number"),null!=g&&g===g&&("number"===b&&(g+=h&&h[3]||(m.cssNumber[f]?"":"px")),R.clearCloneStyle||""!==g||0!==a.indexOf("background")||(p[a]="inherit"),d&&"set"in d&&void 0===(g=d.set(e,g,c))||(l?p.setProperty(a,
g):p[a]=g)),void 0)}},css:function(e,a,c,b){var h,d,f,l=m.camelCase(a);return mb.test(a)||(a=G(l)),f=m.cssHooks[a]||m.cssHooks[l],f&&"get"in f&&(h=f.get(e,!0,c)),void 0===h&&(h=g(e,a,b)),"normal"===h&&a in nb&&(h=nb[a]),""===c||c?(d=parseFloat(h),!0===c||isFinite(d)?d||0:h):h}});m.each(["height","width"],function(e,a){m.cssHooks[a]={get:function(e,g,h){if(g)return!Ob.test(m.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ba(e,a,h):jb(e,Pb,function(){return ba(e,a,h)})},
set:function(e,g,h){var c,b=h&&Oa(e);h=h&&S(e,a,h,"border-box"===m.css(e,"boxSizing",!1,b),b);return h&&(c=Fa.exec(g))&&"px"!==(c[3]||"px")&&(e.style[a]=g,g=m.css(e,a)),U(e,g,h)}}});m.cssHooks.marginLeft=V(R.reliableMarginLeft,function(e,a){if(a)return(parseFloat(g(e,"marginLeft"))||e.getBoundingClientRect().left-jb(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"});m.each({margin:"",padding:"",border:"Width"},function(e,a){m.cssHooks[e+a]={expand:function(g){var h=0,c={};
for(g="string"==typeof g?g.split(" "):[g];4>h;h++)c[e+za[h]+a]=g[h]||g[h-2]||g[0];return c}};eb.test(e)||(m.cssHooks[e+a].set=U)});m.fn.extend({css:function(e,a){return va(this,function(e,a,g){var h,c={},b=0;if(Array.isArray(a)){g=Oa(e);for(h=a.length;b<h;b++)c[a[b]]=m.css(e,a[b],!1,g);return c}return void 0!==g?m.style(e,a,g):m.css(e,a)},e,a,1<arguments.length)}});m.Tween=ha;ha.prototype={constructor:ha,init:function(e,a,g,c,b,d){this.elem=e;this.prop=g;this.easing=b||m.easing._default;this.options=
a;this.start=this.now=this.cur();this.end=c;this.unit=d||(m.cssNumber[g]?"":"px")},cur:function(){var e=ha.propHooks[this.prop];return e&&e.get?e.get(this):ha.propHooks._default.get(this)},run:function(e){var a,g=ha.propHooks[this.prop];return this.options.duration?this.pos=a=m.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=a=e,this.now=(this.end-this.start)*a+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),g&&g.set?g.set(this):ha.propHooks._default.set(this),
this}};ha.prototype.init.prototype=ha.prototype;ha.propHooks={_default:{get:function(e){var a;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(a=m.css(e.elem,e.prop,""),a&&"auto"!==a?a:0)},set:function(e){m.fx.step[e.prop]?m.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[m.cssProps[e.prop]]&&!m.cssHooks[e.prop]?e.elem[e.prop]=e.now:m.style(e.elem,e.prop,e.now+e.unit)}}};ha.propHooks.scrollTop=ha.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&
e.elem.parentNode&&(e.elem[e.prop]=e.now)}};m.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"};m.fx=ha.prototype.init;m.fx.step={};var Ba,Pa,Qb=/^(?:toggle|show|hide)$/,Rb=/queueHooks$/;m.Animation=m.extend(da,{tweeners:{"*":[function(e,a){var g=this.createTween(e,a);return v(g.elem,e,Fa.exec(a),g),g}]},tweener:function(e,a){m.isFunction(e)?(a=e,e=["*"]):e=e.match(oa);for(var g,h=0,c=e.length;h<c;h++)g=e[h],da.tweeners[g]=da.tweeners[g]||[],
da.tweeners[g].unshift(a)},prefilters:[function(e,a,g){var h,c,b,d,f,l,p,t,r="width"in a||"height"in a,v=this,x={},G=e.style,y=e.nodeType&&Na(e),A=L.get(e,"fxshow");g.queue||(d=m._queueHooks(e,"fx"),null==d.unqueued&&(d.unqueued=0,f=d.empty.fire,d.empty.fire=function(){d.unqueued||f()}),d.unqueued++,v.always(function(){v.always(function(){d.unqueued--;m.queue(e,"fx").length||d.empty.fire()})}));for(h in a)if(c=a[h],Qb.test(c)){if(delete a[h],b=b||"toggle"===c,c===(y?"hide":"show")){if("show"!==c||
!A||void 0===A[h])continue;y=!0}x[h]=A&&A[h]||m.style(e,h)}if(l=!m.isEmptyObject(a),l||!m.isEmptyObject(x))for(h in r&&1===e.nodeType&&(g.overflow=[G.overflow,G.overflowX,G.overflowY],p=A&&A.display,null==p&&(p=L.get(e,"display")),t=m.css(e,"display"),"none"===t&&(p?t=p:(u([e],!0),p=e.style.display||p,t=m.css(e,"display"),u([e]))),("inline"===t||"inline-block"===t&&null!=p)&&"none"===m.css(e,"float")&&(l||(v.done(function(){G.display=p}),null==p&&(t=G.display,p="none"===t?"":t)),G.display="inline-block")),
g.overflow&&(G.overflow="hidden",v.always(function(){G.overflow=g.overflow[0];G.overflowX=g.overflow[1];G.overflowY=g.overflow[2]})),l=!1,x)l||(A?"hidden"in A&&(y=A.hidden):A=L.access(e,"fxshow",{display:p}),b&&(A.hidden=!y),y&&u([e],!0),v.done(function(){y||u([e]);L.remove(e,"fxshow");for(h in x)m.style(e,h,x[h])})),l=ja(y?A[h]:0,h,v),h in A||(A[h]=l.start,y&&(l.end=l.start,l.start=0))}],prefilter:function(e,a){a?da.prefilters.unshift(e):da.prefilters.push(e)}});m.speed=function(e,a,g){var h=e&&
"object"==typeof e?m.extend({},e):{complete:g||!g&&a||m.isFunction(e)&&e,duration:e,easing:g&&a||a&&!m.isFunction(a)&&a};return m.fx.off?h.duration=0:"number"!=typeof h.duration&&(h.duration in m.fx.speeds?h.duration=m.fx.speeds[h.duration]:h.duration=m.fx.speeds._default),null!=h.queue&&!0!==h.queue||(h.queue="fx"),h.old=h.complete,h.complete=function(){m.isFunction(h.old)&&h.old.call(this);h.queue&&m.dequeue(this,h.queue)},h};m.fn.extend({fadeTo:function(e,a,g,c){return this.filter(Na).css("opacity",
0).show().end().animate({opacity:a},e,g,c)},animate:function(e,a,g,c){var h=m.isEmptyObject(e),b=m.speed(a,g,c);a=function(){var a=da(this,m.extend({},e),b);(h||L.get(this,"finish"))&&a.stop(!0)};return a.finish=a,h||!1===b.queue?this.each(a):this.queue(b.queue,a)},stop:function(e,a,g){var h=function(e){var a=e.stop;delete e.stop;a(g)};return"string"!=typeof e&&(g=a,a=e,e=void 0),a&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var a=!0,c=null!=e&&e+"queueHooks",b=m.timers,d=L.get(this);if(c)d[c]&&
d[c].stop&&h(d[c]);else for(c in d)d[c]&&d[c].stop&&Rb.test(c)&&h(d[c]);for(c=b.length;c--;)b[c].elem!==this||null!=e&&b[c].queue!==e||(b[c].anim.stop(g),a=!1,b.splice(c,1));!a&&g||m.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var a=L.get(this),g=a[e+"queue"];var c=a[e+"queueHooks"];var b=m.timers,d=g?g.length:0;a.finish=!0;m.queue(this,e,[]);c&&c.stop&&c.stop.call(this,!0);for(c=b.length;c--;)b[c].elem===this&&b[c].queue===e&&(b[c].anim.stop(!0),b.splice(c,
1));for(c=0;c<d;c++)g[c]&&g[c].finish&&g[c].finish.call(this);delete a.finish})}});m.each(["toggle","show","hide"],function(e,a){var g=m.fn[a];m.fn[a]=function(e,h,c){return null==e||"boolean"==typeof e?g.apply(this,arguments):this.animate(ma(a,!0),e,h,c)}});m.each({slideDown:ma("show"),slideUp:ma("hide"),slideToggle:ma("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,a){m.fn[e]=function(e,g,h){return this.animate(a,e,g,h)}});m.timers=[];m.fx.tick=
function(){var e=0,a=m.timers;for(Ba=m.now();e<a.length;e++){var g=a[e];g()||a[e]!==g||a.splice(e--,1)}a.length||m.fx.stop();Ba=void 0};m.fx.timer=function(e){m.timers.push(e);m.fx.start()};m.fx.interval=13;m.fx.start=function(){Pa||(Pa=!0,Ga())};m.fx.stop=function(){Pa=null};m.fx.speeds={slow:600,fast:200,_default:400};m.fn.delay=function(e,a){return e=m.fx?m.fx.speeds[e]||e:e,a=a||"fx",this.queue(a,function(a,g){var c=n.setTimeout(a,e);g.stop=function(){n.clearTimeout(c)}})};(function(){var e=N.createElement("input"),
a=N.createElement("select").appendChild(N.createElement("option"));e.type="checkbox";R.checkOn=""!==e.value;R.optSelected=a.selected;e=N.createElement("input");e.value="t";e.type="radio";R.radioValue="t"===e.value})();var Ka=m.expr.attrHandle;m.fn.extend({attr:function(e,a){return va(this,m.attr,e,a,1<arguments.length)},removeAttr:function(e){return this.each(function(){m.removeAttr(this,e)})}});m.extend({attr:function(e,a,g){var c,h,b=e.nodeType;if(3!==b&&8!==b&&2!==b)return"undefined"==typeof e.getAttribute?
m.prop(e,a,g):(1===b&&m.isXMLDoc(e)||(h=m.attrHooks[a.toLowerCase()]||(m.expr.match.bool.test(a)?Sb:void 0)),void 0!==g?null===g?void m.removeAttr(e,a):h&&"set"in h&&void 0!==(c=h.set(e,g,a))?c:(e.setAttribute(a,g+""),g):h&&"get"in h&&null!==(c=h.get(e,a))?c:(c=m.find.attr(e,a),null==c?void 0:c))},attrHooks:{type:{set:function(e,a){if(!R.radioValue&&"radio"===a&&f(e,"input")){var g=e.value;return e.setAttribute("type",a),g&&(e.value=g),a}}}},removeAttr:function(e,a){var g,c=0,h=a&&a.match(oa);if(h&&
1===e.nodeType)for(;g=h[c++];)e.removeAttribute(g)}});var Sb={set:function(e,a,g){return!1===a?m.removeAttr(e,g):e.setAttribute(g,g),g}};m.each(m.expr.match.bool.source.match(/\w+/g),function(e,a){var g=Ka[a]||m.find.attr;Ka[a]=function(e,a,c){var h,b,d=a.toLowerCase();return c||(b=Ka[d],Ka[d]=h,h=null!=g(e,a,c)?d:null,Ka[d]=b),h}});var Tb=/^(?:input|select|textarea|button)$/i,Ub=/^(?:a|area)$/i;m.fn.extend({prop:function(e,a){return va(this,m.prop,e,a,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[m.propFix[e]||
e]})}});m.extend({prop:function(e,a,g){var c,h,b=e.nodeType;if(3!==b&&8!==b&&2!==b)return 1===b&&m.isXMLDoc(e)||(a=m.propFix[a]||a,h=m.propHooks[a]),void 0!==g?h&&"set"in h&&void 0!==(c=h.set(e,g,a))?c:e[a]=g:h&&"get"in h&&null!==(c=h.get(e,a))?c:e[a]},propHooks:{tabIndex:{get:function(e){var a=m.find.attr(e,"tabindex");return a?parseInt(a,10):Tb.test(e.nodeName)||Ub.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});R.optSelected||(m.propHooks.selected={get:function(e){e=
e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}});m.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){m.propFix[this.toLowerCase()]=this});m.fn.extend({addClass:function(e){var a,g,c,b,d,f,l=0;if(m.isFunction(e))return this.each(function(a){m(this).addClass(e.call(this,a,X(this)))});if("string"==typeof e&&
e)for(a=e.match(oa)||[];g=this[l++];)if(b=X(g),c=1===g.nodeType&&" "+aa(b)+" "){for(f=0;d=a[f++];)0>c.indexOf(" "+d+" ")&&(c+=d+" ");c=aa(c);b!==c&&g.setAttribute("class",c)}return this},removeClass:function(e){var a,g,c,b,d,f,l=0;if(m.isFunction(e))return this.each(function(a){m(this).removeClass(e.call(this,a,X(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(a=e.match(oa)||[];g=this[l++];)if(b=X(g),c=1===g.nodeType&&" "+aa(b)+" "){for(f=0;d=a[f++];)for(;-1<
c.indexOf(" "+d+" ");)c=c.replace(" "+d+" "," ");c=aa(c);b!==c&&g.setAttribute("class",c)}return this},toggleClass:function(e,a){var g=typeof e;return"boolean"==typeof a&&"string"===g?a?this.addClass(e):this.removeClass(e):m.isFunction(e)?this.each(function(g){m(this).toggleClass(e.call(this,g,X(this),a),a)}):this.each(function(){var a,c;if("string"===g){var h=0;var b=m(this);for(c=e.match(oa)||[];a=c[h++];)b.hasClass(a)?b.removeClass(a):b.addClass(a)}else void 0!==e&&"boolean"!==g||(a=X(this),a&&
L.set(this,"__className__",a),this.setAttribute&&this.setAttribute("class",a||!1===e?"":L.get(this,"__className__")||""))})},hasClass:function(e){var a,g=0;for(e=" "+e+" ";a=this[g++];)if(1===a.nodeType&&-1<(" "+aa(X(a))+" ").indexOf(e))return!0;return!1}});var Vb=/\r/g;m.fn.extend({val:function(e){var a,g,c,b=this[0];if(arguments.length)return c=m.isFunction(e),this.each(function(g){var h;1===this.nodeType&&(h=c?e.call(this,g,m(this).val()):e,null==h?h="":"number"==typeof h?h+="":Array.isArray(h)&&
(h=m.map(h,function(e){return null==e?"":e+""})),a=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],a&&"set"in a&&void 0!==a.set(this,h,"value")||(this.value=h))});if(b)return a=m.valHooks[b.type]||m.valHooks[b.nodeName.toLowerCase()],a&&"get"in a&&void 0!==(g=a.get(b,"value"))?g:(g=b.value,"string"==typeof g?g.replace(Vb,""):null==g?"":g)}});m.extend({valHooks:{option:{get:function(e){var a=m.find.attr(e,"value");return null!=a?a:aa(m.text(e))}},select:{get:function(e){var a,g,c=e.options,
b=e.selectedIndex,d="select-one"===e.type,l=d?null:[],p=d?b+1:c.length;for(g=0>b?p:d?b:0;g<p;g++)if(a=c[g],!(!a.selected&&g!==b||a.disabled||a.parentNode.disabled&&f(a.parentNode,"optgroup"))){if(e=m(a).val(),d)return e;l.push(e)}return l},set:function(e,a){for(var g,c,h=e.options,b=m.makeArray(a),d=h.length;d--;)c=h[d],(c.selected=-1<m.inArray(m.valHooks.option.get(c),b))&&(g=!0);return g||(e.selectedIndex=-1),b}}}});m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(e,a){if(Array.isArray(a))return e.checked=
-1<m.inArray(m(e).val(),a)}};R.checkOn||(m.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var ob=/^(?:focusinfocus|focusoutblur)$/;m.extend(m.event,{trigger:function(e,a,g,c){var h,b,d,f,l,p=[g||N],t=ua.call(e,"type")?e.type:e;var r=ua.call(e,"namespace")?e.namespace.split("."):[];if(h=b=g=g||N,3!==g.nodeType&&8!==g.nodeType&&!ob.test(t+m.event.triggered)&&(-1<t.indexOf(".")&&(r=t.split("."),t=r.shift(),r.sort()),d=0>t.indexOf(":")&&"on"+t,e=e[m.expando]?e:new m.Event(t,
"object"==typeof e&&e),e.isTrigger=c?2:3,e.namespace=r.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=g),a=null==a?[e]:m.makeArray(a,[e]),l=m.event.special[t]||{},c||!l.trigger||!1!==l.trigger.apply(g,a))){if(!c&&!l.noBubble&&!m.isWindow(g)){var v=l.delegateType||t;for(ob.test(v+t)||(h=h.parentNode);h;h=h.parentNode)p.push(h),b=h;b===(g.ownerDocument||N)&&p.push(b.defaultView||b.parentWindow||n)}for(r=0;(h=p[r++])&&
!e.isPropagationStopped();)e.type=1<r?v:l.bindType||t,(f=(L.get(h,"events")||{})[e.type]&&L.get(h,"handle"))&&f.apply(h,a),(f=d&&h[d])&&f.apply&&Sa(h)&&(e.result=f.apply(h,a),!1===e.result&&e.preventDefault());return e.type=t,c||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(p.pop(),a)||!Sa(g)||d&&m.isFunction(g[t])&&!m.isWindow(g)&&(b=g[d],b&&(g[d]=null),m.event.triggered=t,g[t](),m.event.triggered=void 0,b&&(g[d]=b)),e.result}},simulate:function(e,a,g){e=m.extend(new m.Event,g,{type:e,
isSimulated:!0});m.event.trigger(e,null,a)}});m.fn.extend({trigger:function(e,a){return this.each(function(){m.event.trigger(e,a,this)})},triggerHandler:function(e,a){var g=this[0];if(g)return m.event.trigger(e,a,g,!0)}});m.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,a){m.fn[a]=function(e,g){return 0<arguments.length?this.on(a,null,
e,g):this.trigger(a)}});m.fn.extend({hover:function(e,a){return this.mouseenter(e).mouseleave(a||e)}});R.focusin="onfocusin"in n;R.focusin||m.each({focus:"focusin",blur:"focusout"},function(e,a){var g=function(e){m.event.simulate(a,e.target,m.event.fix(e))};m.event.special[a]={setup:function(){var c=this.ownerDocument||this,b=L.access(c,a);b||c.addEventListener(e,g,!0);L.access(c,a,(b||0)+1)},teardown:function(){var c=this.ownerDocument||this,b=L.access(c,a)-1;b?L.access(c,a,b):(c.removeEventListener(e,
g,!0),L.remove(c,a))}}});var La=n.location,pb=m.now(),Ya=/\?/;m.parseXML=function(e){if(!e||"string"!=typeof e)return null;try{var a=(new n.DOMParser).parseFromString(e,"text/xml")}catch(I){a=void 0}return a&&!a.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+e),a};var Db=/\[\]$/,qb=/\r?\n/g,Wb=/^(?:submit|button|image|reset|file)$/i,Xb=/^(?:input|select|textarea|keygen)/i;m.param=function(e,a){var g,c=[],b=function(e,a){var g=m.isFunction(a)?a():a;c[c.length]=encodeURIComponent(e)+
"="+encodeURIComponent(null==g?"":g)};if(Array.isArray(e)||e.jquery&&!m.isPlainObject(e))m.each(e,function(){b(this.name,this.value)});else for(g in e)Y(g,e[g],a,b);return c.join("&")};m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=m.prop(this,"elements");return e?m.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!m(this).is(":disabled")&&Xb.test(this.nodeName)&&!Wb.test(e)&&(this.checked||
!kb.test(e))}).map(function(e,a){var g=m(this).val();return null==g?null:Array.isArray(g)?m.map(g,function(e){return{name:a.name,value:e.replace(qb,"\r\n")}}):{name:a.name,value:g.replace(qb,"\r\n")}}).get()}});var Yb=/%20/g,Zb=/#.*$/,$b=/([?&])_=[^&]*/,ac=/^(.*?):[ \t]*([^\r\n]*)$/gm,bc=/^(?:GET|HEAD)$/,cc=/^\/\//,rb={},Va={},sb="*/".concat("*"),Za=N.createElement("a");Za.href=La.href;m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:La.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(La.protocol),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,a){return a?
ia(ia(e,m.ajaxSettings),a):ia(m.ajaxSettings,e)},ajaxPrefilter:ka(rb),ajaxTransport:ka(Va),ajax:function(e,a){function g(e,a,g,h){var l,p,y,A=a;if(!E){E=!0;d&&n.clearTimeout(d);c=void 0;b=h||"";z.readyState=0<e?4:0;h=200<=e&&300>e||304===e;if(g){var k=t;for(var H=z,K,V,B,q,U=k.contents,w=k.dataTypes;"*"===w[0];)w.shift(),void 0===K&&(K=k.mimeType||H.getResponseHeader("Content-Type"));if(K)for(V in U)if(U[V]&&U[V].test(K)){w.unshift(V);break}if(w[0]in g)B=w[0];else{for(V in g){if(!w[0]||k.converters[V+
" "+w[0]]){B=V;break}q||(q=V)}B=B||q}g=B?(B!==w[0]&&w.unshift(B),g[B]):void 0;k=g}a:{g=t;K=k;V=z;B=h;var S,M,F;k={};H=g.dataTypes.slice();if(H[1])for(S in g.converters)k[S.toLowerCase()]=g.converters[S];for(q=H.shift();q;)if(g.responseFields[q]&&(V[g.responseFields[q]]=K),!F&&B&&g.dataFilter&&(K=g.dataFilter(K,g.dataType)),F=q,q=H.shift())if("*"===q)q=F;else if("*"!==F&&F!==q){if(S=k[F+" "+q]||k["* "+q],!S)for(D in k)if(M=D.split(" "),M[1]===q&&(S=k[F+" "+M[0]]||k["* "+M[0]])){!0===S?S=k[D]:!0!==
k[D]&&(q=M[0],H.unshift(M[1]));break}if(!0!==S)if(S&&g["throws"])K=S(K);else try{K=S(K)}catch(Eb){var D={state:"parsererror",error:S?Eb:"No conversion from "+F+" to "+q};break a}}D={state:"success",data:K}}k=D;h?(t.ifModified&&(y=z.getResponseHeader("Last-Modified"),y&&(m.lastModified[C]=y),y=z.getResponseHeader("etag"),y&&(m.etag[C]=y)),204===e||"HEAD"===t.type?A="nocontent":304===e?A="notmodified":(A=k.state,l=k.data,p=k.error,h=!p)):(p=A,!e&&A||(A="error",0>e&&(e=0)));z.status=e;z.statusText=(a||
A)+"";h?u.resolveWith(r,[l,A,z]):u.rejectWith(r,[z,A,p]);z.statusCode(G);G=void 0;f&&v.trigger(h?"ajaxSuccess":"ajaxError",[z,t,h?l:p]);x.fireWith(r,[z,A]);f&&(v.trigger("ajaxComplete",[z,t]),--m.active||m.event.trigger("ajaxStop"))}}"object"==typeof e&&(a=e,e=void 0);a=a||{};var c,b,h,d,f,l,p,t=m.ajaxSetup({},a),r=t.context||t,v=t.context&&(r.nodeType||r.jquery)?m(r):m.event,u=m.Deferred(),x=m.Callbacks("once memory"),G=t.statusCode||{},y={},A={},k="canceled",z={readyState:0,getResponseHeader:function(e){var a;
if(E){if(!h)for(h={};a=ac.exec(b);)h[a[1].toLowerCase()]=a[2];a=h[e.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return E?b:null},setRequestHeader:function(e,a){return null==E&&(e=A[e.toLowerCase()]=A[e.toLowerCase()]||e,y[e]=a),this},overrideMimeType:function(e){return null==E&&(t.mimeType=e),this},statusCode:function(e){var a;if(e)if(E)z.always(e[z.status]);else for(a in e)G[a]=[G[a],e[a]];return this},abort:function(e){e=e||k;return c&&c.abort(e),g(0,e),this}};if(u.promise(z),
t.url=((e||t.url||La.href)+"").replace(cc,La.protocol+"//"),t.type=a.method||a.type||t.method||t.type,t.dataTypes=(t.dataType||"*").toLowerCase().match(oa)||[""],null==t.crossDomain){var H=N.createElement("a");try{H.href=t.url,H.href=H.href,t.crossDomain=Za.protocol+"//"+Za.host!=H.protocol+"//"+H.host}catch(Wa){t.crossDomain=!0}}if(t.data&&t.processData&&"string"!=typeof t.data&&(t.data=m.param(t.data,t.traditional)),ra(rb,t,a,z),E)return z;(f=m.event&&t.global)&&0===m.active++&&m.event.trigger("ajaxStart");
t.type=t.type.toUpperCase();t.hasContent=!bc.test(t.type);var C=t.url.replace(Zb,"");t.hasContent?t.data&&t.processData&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&(t.data=t.data.replace(Yb,"+")):(p=t.url.slice(C.length),t.data&&(C+=(Ya.test(C)?"&":"?")+t.data,delete t.data),!1===t.cache&&(C=C.replace($b,"$1"),p=(Ya.test(C)?"&":"?")+"_="+pb++ +p),t.url=C+p);t.ifModified&&(m.lastModified[C]&&z.setRequestHeader("If-Modified-Since",m.lastModified[C]),m.etag[C]&&z.setRequestHeader("If-None-Match",
m.etag[C]));(t.data&&t.hasContent&&!1!==t.contentType||a.contentType)&&z.setRequestHeader("Content-Type",t.contentType);z.setRequestHeader("Accept",t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+("*"!==t.dataTypes[0]?", "+sb+"; q=0.01":""):t.accepts["*"]);for(l in t.headers)z.setRequestHeader(l,t.headers[l]);if(t.beforeSend&&(!1===t.beforeSend.call(r,z,t)||E))return z.abort();if(k="abort",x.add(t.complete),z.done(t.success),z.fail(t.error),c=ra(Va,t,a,z)){if(z.readyState=1,f&&
v.trigger("ajaxSend",[z,t]),E)return z;t.async&&0<t.timeout&&(d=n.setTimeout(function(){z.abort("timeout")},t.timeout));try{var E=!1;c.send(y,g)}catch(Wa){if(E)throw Wa;g(-1,Wa)}}else g(-1,"No Transport");return z},getJSON:function(e,a,g){return m.get(e,a,g,"json")},getScript:function(e,a){return m.get(e,void 0,a,"script")}});m.each(["get","post"],function(e,a){m[a]=function(e,g,c,b){return m.isFunction(g)&&(b=b||c,c=g,g=void 0),m.ajax(m.extend({url:e,type:a,dataType:b,data:g,success:c},m.isPlainObject(e)&&
e))}});m._evalUrl=function(e){return m.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};m.fn.extend({wrapAll:function(e){var a;return this[0]&&(m.isFunction(e)&&(e=e.call(this[0])),a=m(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return m.isFunction(e)?this.each(function(a){m(this).wrapInner(e.call(this,
a))}):this.each(function(){var a=m(this),g=a.contents();g.length?g.wrapAll(e):a.append(e)})},wrap:function(e){var a=m.isFunction(e);return this.each(function(g){m(this).wrapAll(a?e.call(this,g):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){m(this).replaceWith(this.childNodes)}),this}});m.expr.pseudos.hidden=function(e){return!m.expr.pseudos.visible(e)};m.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)};m.ajaxSettings.xhr=
function(){try{return new n.XMLHttpRequest}catch(e){}};var dc={0:200,1223:204},Ma=m.ajaxSettings.xhr();R.cors=!!Ma&&"withCredentials"in Ma;R.ajax=Ma=!!Ma;m.ajaxTransport(function(e){var a,g;if(R.cors||Ma&&!e.crossDomain)return{send:function(c,b){var h,d=e.xhr();if(d.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(h in e.xhrFields)d[h]=e.xhrFields[h];e.mimeType&&d.overrideMimeType&&d.overrideMimeType(e.mimeType);e.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");
for(h in c)d.setRequestHeader(h,c[h]);a=function(e){return function(){a&&(a=g=d.onload=d.onerror=d.onabort=d.onreadystatechange=null,"abort"===e?d.abort():"error"===e?"number"!=typeof d.status?b(0,"error"):b(d.status,d.statusText):b(dc[d.status]||d.status,d.statusText,"text"!==(d.responseType||"text")||"string"!=typeof d.responseText?{binary:d.response}:{text:d.responseText},d.getAllResponseHeaders()))}};d.onload=a();g=d.onerror=a("error");void 0!==d.onabort?d.onabort=g:d.onreadystatechange=function(){4===
d.readyState&&n.setTimeout(function(){a&&g()})};a=a("abort");try{d.send(e.hasContent&&e.data||null)}catch(xb){if(a)throw xb;}},abort:function(){a&&a()}}});m.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)});m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return m.globalEval(e),e}}});m.ajaxPrefilter("script",function(e){void 0===
e.cache&&(e.cache=!1);e.crossDomain&&(e.type="GET")});m.ajaxTransport("script",function(e){if(e.crossDomain){var a,g;return{send:function(c,b){a=m("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",g=function(e){a.remove();g=null;e&&b("error"===e.type?404:200,e.type)});N.head.appendChild(a[0])},abort:function(){g&&g()}}}});var tb=[],$a=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tb.pop()||m.expando+"_"+pb++;return this[e]=!0,e}});m.ajaxPrefilter("json jsonp",
function(e,a,g){var c,b,d,h=!1!==e.jsonp&&($a.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&$a.test(e.data)&&"data");if(h||"jsonp"===e.dataTypes[0])return c=e.jsonpCallback=m.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,h?e[h]=e[h].replace($a,"$1"+c):!1!==e.jsonp&&(e.url+=(Ya.test(e.url)?"&":"?")+e.jsonp+"="+c),e.converters["script json"]=function(){return d||m.error(c+" was not called"),d[0]},e.dataTypes[0]="json",
b=n[c],n[c]=function(){d=arguments},g.always(function(){void 0===b?m(n).removeProp(c):n[c]=b;e[c]&&(e.jsonpCallback=a.jsonpCallback,tb.push(c));d&&m.isFunction(b)&&b(d[0]);d=b=void 0}),"script"});R.createHTMLDocument=function(){var e=N.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}();m.parseHTML=function(e,a,g){if("string"!=typeof e)return[];"boolean"==typeof a&&(g=a,a=!1);var c,b,d;return a||(R.createHTMLDocument?(a=N.implementation.createHTMLDocument(""),
c=a.createElement("base"),c.href=N.location.href,a.head.appendChild(c)):a=N),b=Ja.exec(e),d=!g&&[],b?[a.createElement(b[1])]:(b=t([e],a,d),d&&d.length&&m(d).remove(),m.merge([],b.childNodes))};m.fn.load=function(e,a,g){var c,b,d,h=this,f=e.indexOf(" ");return-1<f&&(c=aa(e.slice(f)),e=e.slice(0,f)),m.isFunction(a)?(g=a,a=void 0):a&&"object"==typeof a&&(b="POST"),0<h.length&&m.ajax({url:e,type:b||"GET",dataType:"html",data:a}).done(function(e){d=arguments;h.html(c?m("<div>").append(m.parseHTML(e)).find(c):
e)}).always(g&&function(e,a){h.each(function(){g.apply(this,d||[e.responseText,a,e])})}),this};m.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,a){m.fn[a]=function(e){return this.on(a,e)}});m.expr.pseudos.animated=function(e){return m.grep(m.timers,function(a){return e===a.elem}).length};m.offset={setOffset:function(e,a,g){var c,b,d,h=m.css(e,"position"),f=m(e),l={};"static"===h&&(e.style.position="relative");var p=f.offset();var t=m.css(e,"top");var r=
m.css(e,"left");("absolute"===h||"fixed"===h)&&-1<(t+r).indexOf("auto")?(c=f.position(),d=c.top,b=c.left):(d=parseFloat(t)||0,b=parseFloat(r)||0);m.isFunction(a)&&(a=a.call(e,g,m.extend({},p)));null!=a.top&&(l.top=a.top-p.top+d);null!=a.left&&(l.left=a.left-p.left+b);"using"in a?a.using.call(e,l):f.css(l)}};m.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(a){m.offset.setOffset(this,e,a)});var a,g,c,b,d=this[0];if(d)return d.getClientRects().length?(c=d.getBoundingClientRect(),
a=d.ownerDocument,g=a.documentElement,b=a.defaultView,{top:c.top+b.pageYOffset-g.clientTop,left:c.left+b.pageXOffset-g.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var e,a,g=this[0],c={top:0,left:0};return"fixed"===m.css(g,"position")?a=g.getBoundingClientRect():(e=this.offsetParent(),a=this.offset(),f(e[0],"html")||(c=e.offset()),c={top:c.top+m.css(e[0],"borderTopWidth",!0),left:c.left+m.css(e[0],"borderLeftWidth",!0)}),{top:a.top-c.top-m.css(g,"marginTop",!0),left:a.left-c.left-
m.css(g,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===m.css(e,"position");)e=e.offsetParent;return e||Ta})}});m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,a){var g="pageYOffset"===a;m.fn[e]=function(c){return va(this,function(e,c,b){var d;return m.isWindow(e)?d=e:9===e.nodeType&&(d=e.defaultView),void 0===b?d?d[a]:e[c]:void(d?d.scrollTo(g?d.pageXOffset:b,g?b:d.pageYOffset):e[c]=b)},e,c,arguments.length)}});
m.each(["top","left"],function(e,a){m.cssHooks[a]=V(R.pixelPosition,function(e,c){if(c)return c=g(e,a),Ua.test(c)?m(e).position()[a]+"px":c})});m.each({Height:"height",Width:"width"},function(e,a){m.each({padding:"inner"+e,content:a,"":"outer"+e},function(g,c){m.fn[c]=function(b,d){var h=arguments.length&&(g||"boolean"!=typeof b),f=g||(!0===b||!0===d?"margin":"border");return va(this,function(a,g,b){var d;return m.isWindow(a)?0===c.indexOf("outer")?a["inner"+e]:a.document.documentElement["client"+
e]:9===a.nodeType?(d=a.documentElement,Math.max(a.body["scroll"+e],d["scroll"+e],a.body["offset"+e],d["offset"+e],d["client"+e])):void 0===b?m.css(a,g,f):m.style(a,g,b,f)},a,h?b:void 0,h)}})});m.fn.extend({bind:function(e,a,g){return this.on(e,null,a,g)},unbind:function(e,a){return this.off(e,null,a)},delegate:function(e,a,g,c){return this.on(a,e,g,c)},undelegate:function(e,a,g){return 1===arguments.length?this.off(e,"**"):this.off(a,e||"**",g)}});m.holdReady=function(e){e?m.readyWait++:m.ready(!0)};
m.isArray=Array.isArray;m.parseJSON=JSON.parse;m.nodeName=f;"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ec=n.jQuery,fc=n.$;return m.noConflict=function(e){return n.$===m&&(n.$=fc),e&&n.jQuery===m&&(n.jQuery=ec),m},q||(n.jQuery=n.$=m),m});(function(n){"object"===typeof exports&&"undefined"!==typeof module?module.exports=n():"function"===typeof define&&define.amd?define([],n):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).adapter=n()})(function(){return function f(q,k,w){function d(a,c){if(!k[a]){if(!q[a]){var l="function"==typeof require&&require;if(!c&&l)return l(a,!0);if(b)return b(a,!0);l=Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l;}l=k[a]={exports:{}};
q[a][0].call(l.exports,function(c){var b=q[a][1][c];return d(b?b:c)},l,l.exports,f,q,k,w)}return k[a].exports}for(var b="function"==typeof require&&require,a=0;a<w.length;a++)d(w[a]);return d}({1:[function(q,k,w){function f(a,c,b,d,f){c=r.writeRtpDescription(a.kind,c);c+=r.writeIceParameters(a.iceGatherer.getLocalParameters());c+=r.writeDtlsParameters(a.dtlsTransport.getLocalParameters(),"offer"===b?"actpass":f||"active");c+="a=mid:"+a.mid+"\r\n";c=a.rtpSender&&a.rtpReceiver?c+"a=sendrecv\r\n":a.rtpSender?
c+"a=sendonly\r\n":a.rtpReceiver?c+"a=recvonly\r\n":c+"a=inactive\r\n";a.rtpSender&&(b=a.rtpSender._initialTrackId||a.rtpSender.track.id,a.rtpSender._initialTrackId=b,d="msid:"+(d?d.id:"-")+" "+b+"\r\n",c=c+("a="+d)+("a=ssrc:"+a.sendEncodingParameters[0].ssrc+" "+d),a.sendEncodingParameters[0].rtx&&(c+="a=ssrc:"+a.sendEncodingParameters[0].rtx.ssrc+" "+d,c+="a=ssrc-group:FID "+a.sendEncodingParameters[0].ssrc+" "+a.sendEncodingParameters[0].rtx.ssrc+"\r\n"));c+="a=ssrc:"+a.sendEncodingParameters[0].ssrc+
" cname:"+r.localCName+"\r\n";a.rtpSender&&a.sendEncodingParameters[0].rtx&&(c+="a=ssrc:"+a.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n");return c}function d(a,c){var b=!1;a=JSON.parse(JSON.stringify(a));return a.filter(function(a){if(a&&(a.urls||a.url)){var d=a.urls||a.url;a.url&&!a.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var f="string"===typeof d;f&&(d=[d]);d=d.filter(function(a){return 0!==a.indexOf("turn:")||-1===a.indexOf("transport=udp")||
-1!==a.indexOf("turn:[")||b?0===a.indexOf("stun:")&&14393<=c&&-1===a.indexOf("?transport=udp"):b=!0});delete a.url;a.urls=f?d[0]:d;return!!d.length}})}function b(a,c){var b={codecs:[],headerExtensions:[],fecMechanisms:[]},d=function(a,c){a=parseInt(a,10);for(var b=0;b<c.length;b++)if(c[b].payloadType===a||c[b].preferredPayloadType===a)return c[b]},f=function(a,c,b,f){a=d(a.parameters.apt,b);c=d(c.parameters.apt,f);return a&&c&&a.name.toLowerCase()===c.name.toLowerCase()};a.codecs.forEach(function(d){for(var l=
0;l<c.codecs.length;l++){var p=c.codecs[l];if(d.name.toLowerCase()===p.name.toLowerCase()&&d.clockRate===p.clockRate&&("rtx"!==d.name.toLowerCase()||!d.parameters||!p.parameters.apt||f(d,p,a.codecs,c.codecs))){p=JSON.parse(JSON.stringify(p));p.numChannels=Math.min(d.numChannels,p.numChannels);b.codecs.push(p);p.rtcpFeedback=p.rtcpFeedback.filter(function(a){for(var c=0;c<d.rtcpFeedback.length;c++)if(d.rtcpFeedback[c].type===a.type&&d.rtcpFeedback[c].parameter===a.parameter)return!0;return!1});break}}});
a.headerExtensions.forEach(function(a){for(var d=0;d<c.headerExtensions.length;d++){var f=c.headerExtensions[d];if(a.uri===f.uri){b.headerExtensions.push(f);break}}});return b}function a(a,c,b){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[c][a].indexOf(b)}function l(a,c){var b=a.getRemoteCandidates().find(function(a){return c.foundation===
a.foundation&&c.ip===a.ip&&c.port===a.port&&c.priority===a.priority&&c.protocol===a.protocol&&c.type===a.type});b||a.addRemoteCandidate(c);return!b}function c(a,c){var b=Error(c);b.name=a;b.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[a];return b}var r=q("sdp");k.exports=function(x,p){function y(a,c){c.addTrack(a);c.dispatchEvent(new x.MediaStreamTrackEvent("addtrack",{track:a}))}function v(a,c){c.removeTrack(a);c.dispatchEvent(new x.MediaStreamTrackEvent("removetrack",
{track:a}))}function u(a,c,b,d){var f=new Event("track");f.track=c;f.receiver=b;f.transceiver={receiver:b};f.streams=d;x.setTimeout(function(){a._dispatchEvent("track",f)})}var k=function(a){var b=this,f=document.createDocumentFragment();["addEventListener","removeEventListener","dispatchEvent"].forEach(function(a){b[a]=f[a].bind(f)});this.canTrickleIceCandidates=null;this.needNegotiation=!1;this.localStreams=[];this.remoteStreams=[];this.remoteDescription=this.localDescription=null;this.signalingState=
"stable";this.iceGatheringState=this.connectionState=this.iceConnectionState="new";a=JSON.parse(JSON.stringify(a||{}));this.usingBundle="max-bundle"===a.bundlePolicy;if("negotiate"===a.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");a.rtcpMuxPolicy||(a.rtcpMuxPolicy="require");switch(a.iceTransportPolicy){case "all":case "relay":break;default:a.iceTransportPolicy="all"}switch(a.bundlePolicy){case "balanced":case "max-compat":case "max-bundle":break;default:a.bundlePolicy=
"balanced"}a.iceServers=d(a.iceServers||[],p);this._iceGatherers=[];if(a.iceCandidatePoolSize)for(var l=a.iceCandidatePoolSize;0<l;l--)this._iceGatherers.push(new x.RTCIceGatherer({iceServers:a.iceServers,gatherPolicy:a.iceTransportPolicy}));else a.iceCandidatePoolSize=0;this._config=a;this.transceivers=[];this._sdpSessionId=r.generateSessionId();this._sdpSessionVersion=0;this._dtlsRole=void 0;this._isClosed=!1};k.prototype.onicecandidate=null;k.prototype.onaddstream=null;k.prototype.ontrack=null;
k.prototype.onremovestream=null;k.prototype.onsignalingstatechange=null;k.prototype.oniceconnectionstatechange=null;k.prototype.onconnectionstatechange=null;k.prototype.onicegatheringstatechange=null;k.prototype.onnegotiationneeded=null;k.prototype.ondatachannel=null;k.prototype._dispatchEvent=function(a,c){if(!this._isClosed&&(this.dispatchEvent(c),"function"===typeof this["on"+a]))this["on"+a](c)};k.prototype._emitGatheringStateChange=function(){var a=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",
a)};k.prototype.getConfiguration=function(){return this._config};k.prototype.getLocalStreams=function(){return this.localStreams};k.prototype.getRemoteStreams=function(){return this.remoteStreams};k.prototype._createTransceiver=function(a,c){var b=0<this.transceivers.length,d={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:a,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,
associatedRemoteMediaStreams:[],wantReceive:!0};this.usingBundle&&b?(d.iceTransport=this.transceivers[0].iceTransport,d.dtlsTransport=this.transceivers[0].dtlsTransport):(b=this._createIceAndDtlsTransports(),d.iceTransport=b.iceTransport,d.dtlsTransport=b.dtlsTransport);c||this.transceivers.push(d);return d};k.prototype.addTrack=function(a,b){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");if(this.transceivers.find(function(c){return c.track===
a}))throw c("InvalidAccessError","Track already exists.");for(var d,f=0;f<this.transceivers.length;f++)this.transceivers[f].track||this.transceivers[f].kind!==a.kind||(d=this.transceivers[f]);d||(d=this._createTransceiver(a.kind));this._maybeFireNegotiationNeeded();-1===this.localStreams.indexOf(b)&&this.localStreams.push(b);d.track=a;d.stream=b;d.rtpSender=new x.RTCRtpSender(a,d.dtlsTransport);return d.rtpSender};k.prototype.addStream=function(a){var c=this;if(15025<=p)a.getTracks().forEach(function(b){c.addTrack(b,
a)});else{var b=a.clone();a.getTracks().forEach(function(a,c){var d=b.getTracks()[c];a.addEventListener("enabled",function(a){d.enabled=a.enabled})});b.getTracks().forEach(function(a){c.addTrack(a,b)})}};k.prototype.removeTrack=function(a){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(a instanceof x.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var b=this.transceivers.find(function(c){return c.rtpSender===
a});if(!b)throw c("InvalidAccessError","Sender was not created by this connection.");var d=b.stream;b.rtpSender.stop();b.rtpSender=null;b.track=null;b.stream=null;-1===this.transceivers.map(function(a){return a.stream}).indexOf(d)&&-1<this.localStreams.indexOf(d)&&this.localStreams.splice(this.localStreams.indexOf(d),1);this._maybeFireNegotiationNeeded()};k.prototype.removeStream=function(a){var c=this;a.getTracks().forEach(function(a){var b=c.getSenders().find(function(c){return c.track===a});b&&
c.removeTrack(b)})};k.prototype.getSenders=function(){return this.transceivers.filter(function(a){return!!a.rtpSender}).map(function(a){return a.rtpSender})};k.prototype.getReceivers=function(){return this.transceivers.filter(function(a){return!!a.rtpReceiver}).map(function(a){return a.rtpReceiver})};k.prototype._createIceGatherer=function(a,c){var b=this;if(c&&0<a)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var d=new x.RTCIceGatherer({iceServers:this._config.iceServers,
gatherPolicy:this._config.iceTransportPolicy});Object.defineProperty(d,"state",{value:"new",writable:!0});this.transceivers[a].bufferedCandidateEvents=[];this.transceivers[a].bufferCandidates=function(c){var f=!c.candidate||0===Object.keys(c.candidate).length;d.state=f?"completed":"gathering";null!==b.transceivers[a].bufferedCandidateEvents&&b.transceivers[a].bufferedCandidateEvents.push(c)};d.addEventListener("localcandidate",this.transceivers[a].bufferCandidates);return d};k.prototype._gather=function(a,
c){var b=this,d=this.transceivers[c].iceGatherer;if(!d.onlocalcandidate){var f=this.transceivers[c].bufferedCandidateEvents;this.transceivers[c].bufferedCandidateEvents=null;d.removeEventListener("localcandidate",this.transceivers[c].bufferCandidates);d.onlocalcandidate=function(f){if(!(b.usingBundle&&0<c)){var l=new Event("icecandidate");l.candidate={sdpMid:a,sdpMLineIndex:c};var p=f.candidate;if(f=!p||0===Object.keys(p).length){if("new"===d.state||"gathering"===d.state)d.state="completed"}else"new"===
d.state&&(d.state="gathering"),p.component=1,p.ufrag=d.getLocalParameters().usernameFragment,p=r.writeCandidate(p),l.candidate=Object.assign(l.candidate,r.parseCandidate(p)),l.candidate.candidate=p,l.candidate.toJSON=function(){return{candidate:l.candidate.candidate,sdpMid:l.candidate.sdpMid,sdpMLineIndex:l.candidate.sdpMLineIndex,usernameFragment:l.candidate.usernameFragment}};p=r.getMediaSections(b.localDescription.sdp);p[l.candidate.sdpMLineIndex]=f?p[l.candidate.sdpMLineIndex]+"a=end-of-candidates\r\n":
p[l.candidate.sdpMLineIndex]+("a="+l.candidate.candidate+"\r\n");b.localDescription.sdp=r.getDescription(b.localDescription.sdp)+p.join("");p=b.transceivers.every(function(a){return a.iceGatherer&&"completed"===a.iceGatherer.state});"gathering"!==b.iceGatheringState&&(b.iceGatheringState="gathering",b._emitGatheringStateChange());f||b._dispatchEvent("icecandidate",l);p&&(b._dispatchEvent("icecandidate",new Event("icecandidate")),b.iceGatheringState="complete",b._emitGatheringStateChange())}};x.setTimeout(function(){f.forEach(function(a){d.onlocalcandidate(a)})},
0)}};k.prototype._createIceAndDtlsTransports=function(){var a=this,c=new x.RTCIceTransport(null);c.onicestatechange=function(){a._updateIceConnectionState();a._updateConnectionState()};var b=new x.RTCDtlsTransport(c);b.ondtlsstatechange=function(){a._updateConnectionState()};b.onerror=function(){Object.defineProperty(b,"state",{value:"failed",writable:!0});a._updateConnectionState()};return{iceTransport:c,dtlsTransport:b}};k.prototype._disposeIceAndDtlsTransports=function(a){var c=this.transceivers[a].iceGatherer;
c&&(delete c.onlocalcandidate,delete this.transceivers[a].iceGatherer);if(c=this.transceivers[a].iceTransport)delete c.onicestatechange,delete this.transceivers[a].iceTransport;if(c=this.transceivers[a].dtlsTransport)delete c.ondtlsstatechange,delete c.onerror,delete this.transceivers[a].dtlsTransport};k.prototype._transceive=function(a,c,d){var f=b(a.localCapabilities,a.remoteCapabilities);c&&a.rtpSender&&(f.encodings=a.sendEncodingParameters,f.rtcp={cname:r.localCName,compound:a.rtcpParameters.compound},
a.recvEncodingParameters.length&&(f.rtcp.ssrc=a.recvEncodingParameters[0].ssrc),a.rtpSender.send(f));d&&a.rtpReceiver&&0<f.codecs.length&&("video"===a.kind&&a.recvEncodingParameters&&15019>p&&a.recvEncodingParameters.forEach(function(a){delete a.rtx}),f.encodings=a.recvEncodingParameters.length?a.recvEncodingParameters:[{}],f.rtcp={compound:a.rtcpParameters.compound},a.rtcpParameters.cname&&(f.rtcp.cname=a.rtcpParameters.cname),a.sendEncodingParameters.length&&(f.rtcp.ssrc=a.sendEncodingParameters[0].ssrc),
a.rtpReceiver.receive(f))};k.prototype.setLocalDescription=function(d){var f=this;if(-1===["offer","answer"].indexOf(d.type))return Promise.reject(c("TypeError",'Unsupported type "'+d.type+'"'));if(!a("setLocalDescription",d.type,f.signalingState)||f._isClosed)return Promise.reject(c("InvalidStateError","Can not set local "+d.type+" in state "+f.signalingState));if("offer"===d.type){var l=r.splitSections(d.sdp);var p=l.shift();l.forEach(function(a,c){var b=r.parseRtpParameters(a);f.transceivers[c].localCapabilities=
b});f.transceivers.forEach(function(a,c){f._gather(a.mid,c)})}else if("answer"===d.type){l=r.splitSections(f.remoteDescription.sdp);p=l.shift();var t=0<r.matchPrefix(p,"a=ice-lite").length;l.forEach(function(a,c){var d=f.transceivers[c],l=d.iceGatherer,v=d.iceTransport,u=d.dtlsTransport,g=d.localCapabilities,x=d.remoteCapabilities;if(!(r.isRejected(a)&&0===r.matchPrefix(a,"a=bundle-only").length||d.rejected)){var G=r.getIceParameters(a,p),y=r.getDtlsParameters(a,p);t&&(y.role="server");f.usingBundle&&
0!==c||(f._gather(d.mid,c),"new"===v.state&&v.start(l,G,t?"controlling":"controlled"),"new"===u.state&&u.start(y));l=b(g,x);f._transceive(d,0<l.codecs.length,!1)}})}f.localDescription={type:d.type,sdp:d.sdp};"offer"===d.type?f._updateSignalingState("have-local-offer"):f._updateSignalingState("stable");return Promise.resolve()};k.prototype.setRemoteDescription=function(b){var d=this;if(-1===["offer","answer"].indexOf(b.type))return Promise.reject(c("TypeError",'Unsupported type "'+b.type+'"'));if(!a("setRemoteDescription",
b.type,d.signalingState)||d._isClosed)return Promise.reject(c("InvalidStateError","Can not set remote "+b.type+" in state "+d.signalingState));var f={};d.remoteStreams.forEach(function(a){f[a.id]=a});var t=[],k=r.splitSections(b.sdp),K=k.shift(),z=0<r.matchPrefix(K,"a=ice-lite").length,q=0<r.matchPrefix(K,"a=group:BUNDLE ").length;d.usingBundle=q;var w=r.matchPrefix(K,"a=ice-options:")[0];d.canTrickleIceCandidates=w?0<=w.substr(14).split(" ").indexOf("trickle"):!1;k.forEach(function(a,c){var g=r.splitLines(a),
u=r.getKind(a),G=r.isRejected(a)&&0===r.matchPrefix(a,"a=bundle-only").length,k=g[0].substr(2).split(" ")[2];g=r.getDirection(a,K);var A=r.parseMsid(a),H=r.getMid(a)||r.generateIdentifier();if("application"===u&&"DTLS/SCTP"===k||G)d.transceivers[c]={mid:H,kind:u,rejected:!0};else{!G&&d.transceivers[c]&&d.transceivers[c].rejected&&(d.transceivers[c]=d._createTransceiver(u,!0));var B=r.parseRtpParameters(a);if(!G){var E=r.getIceParameters(a,K);var C=r.getDtlsParameters(a,K);C.role="client"}k=r.parseRtpEncodingParameters(a);
var w=r.parseRtcpParameters(a),M=0<r.matchPrefix(a,"a=end-of-candidates",K).length,D=r.matchPrefix(a,"a=candidate:").map(function(a){return r.parseCandidate(a)}).filter(function(a){return 1===a.component});("offer"===b.type||"answer"===b.type)&&!G&&q&&0<c&&d.transceivers[c]&&(d._disposeIceAndDtlsTransports(c),d.transceivers[c].iceGatherer=d.transceivers[0].iceGatherer,d.transceivers[c].iceTransport=d.transceivers[0].iceTransport,d.transceivers[c].dtlsTransport=d.transceivers[0].dtlsTransport,d.transceivers[c].rtpSender&&
d.transceivers[c].rtpSender.setTransport(d.transceivers[0].dtlsTransport),d.transceivers[c].rtpReceiver&&d.transceivers[c].rtpReceiver.setTransport(d.transceivers[0].dtlsTransport));if("offer"===b.type&&!G){var F=d.transceivers[c]||d._createTransceiver(u);F.mid=H;F.iceGatherer||(F.iceGatherer=d._createIceGatherer(c,q));D.length&&"new"===F.iceTransport.state&&(!M||q&&0!==c?D.forEach(function(a){l(F.iceTransport,a)}):F.iceTransport.setRemoteCandidates(D));H=x.RTCRtpReceiver.getCapabilities(u);15019>
p&&(H.codecs=H.codecs.filter(function(a){return"rtx"!==a.name}));G=F.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];E=!1;if("sendrecv"===g||"sendonly"===g){E=!F.rtpReceiver;var Q=F.rtpReceiver||new x.RTCRtpReceiver(F.dtlsTransport,u);if(E){g=Q.track;if(!A||"-"!==A.stream)if(A){f[A.stream]||(f[A.stream]=new x.MediaStream,Object.defineProperty(f[A.stream],"id",{get:function(){return A.stream}}));Object.defineProperty(g,"id",{get:function(){return A.track}});var W=f[A.stream]}else f["default"]||(f["default"]=
new x.MediaStream),W=f["default"];W&&(y(g,W),F.associatedRemoteMediaStreams.push(W));t.push([g,Q,W])}}else F.rtpReceiver&&F.rtpReceiver.track&&(F.associatedRemoteMediaStreams.forEach(function(a){var g=a.getTracks().find(function(a){return a.id===F.rtpReceiver.track.id});g&&v(g,a)}),F.associatedRemoteMediaStreams=[]);F.localCapabilities=H;F.remoteCapabilities=B;F.rtpReceiver=Q;F.rtcpParameters=w;F.sendEncodingParameters=G;F.recvEncodingParameters=k;d._transceive(d.transceivers[c],!1,E)}else if("answer"===
b.type&&!G){F=d.transceivers[c];W=F.iceGatherer;u=F.iceTransport;var Y=F.dtlsTransport;Q=F.rtpReceiver;G=F.sendEncodingParameters;H=F.localCapabilities;d.transceivers[c].recvEncodingParameters=k;d.transceivers[c].remoteCapabilities=B;d.transceivers[c].rtcpParameters=w;D.length&&"new"===u.state&&(!z&&!M||q&&0!==c?D.forEach(function(a){l(F.iceTransport,a)}):u.setRemoteCandidates(D));q&&0!==c||("new"===u.state&&u.start(W,E,"controlling"),"new"===Y.state&&Y.start(C));d._transceive(F,"sendrecv"===g||"recvonly"===
g,"sendrecv"===g||"sendonly"===g);!Q||"sendrecv"!==g&&"sendonly"!==g?delete F.rtpReceiver:(g=Q.track,A?(f[A.stream]||(f[A.stream]=new x.MediaStream),y(g,f[A.stream]),t.push([g,Q,f[A.stream]])):(f["default"]||(f["default"]=new x.MediaStream),y(g,f["default"]),t.push([g,Q,f["default"]])))}}});void 0===d._dtlsRole&&(d._dtlsRole="offer"===b.type?"active":"passive");d.remoteDescription={type:b.type,sdp:b.sdp};"offer"===b.type?d._updateSignalingState("have-remote-offer"):d._updateSignalingState("stable");
Object.keys(f).forEach(function(a){var c=f[a];if(c.getTracks().length){if(-1===d.remoteStreams.indexOf(c)){d.remoteStreams.push(c);var g=new Event("addstream");g.stream=c;x.setTimeout(function(){d._dispatchEvent("addstream",g)})}t.forEach(function(a){c.id===a[2].id&&u(d,a[0],a[1],[c])})}});t.forEach(function(a){a[2]||u(d,a[0],a[1],[])});x.setTimeout(function(){d&&d.transceivers&&d.transceivers.forEach(function(a){a.iceTransport&&"new"===a.iceTransport.state&&0<a.iceTransport.getRemoteCandidates().length&&
(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),a.iceTransport.addRemoteCandidate({}))})},4E3);return Promise.resolve()};k.prototype.close=function(){this.transceivers.forEach(function(a){a.iceTransport&&a.iceTransport.stop();a.dtlsTransport&&a.dtlsTransport.stop();a.rtpSender&&a.rtpSender.stop();a.rtpReceiver&&a.rtpReceiver.stop()});this._isClosed=!0;this._updateSignalingState("closed")};k.prototype._updateSignalingState=function(a){this.signalingState=
a;a=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",a)};k.prototype._maybeFireNegotiationNeeded=function(){var a=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,x.setTimeout(function(){if(a.needNegotiation){a.needNegotiation=!1;var c=new Event("negotiationneeded");a._dispatchEvent("negotiationneeded",c)}},0))};k.prototype._updateIceConnectionState=function(){var a={"new":0,closed:0,checking:0,connected:0,completed:0,disconnected:0,
failed:0};this.transceivers.forEach(function(c){a[c.iceTransport.state]++});var c="new";0<a.failed?c="failed":0<a.checking?c="checking":0<a.disconnected?c="disconnected":0<a["new"]?c="new":0<a.connected?c="connected":0<a.completed&&(c="completed");c!==this.iceConnectionState&&(this.iceConnectionState=c,c=new Event("iceconnectionstatechange"),this._dispatchEvent("iceconnectionstatechange",c))};k.prototype._updateConnectionState=function(){var a={"new":0,closed:0,connecting:0,connected:0,completed:0,
disconnected:0,failed:0};this.transceivers.forEach(function(c){a[c.iceTransport.state]++;a[c.dtlsTransport.state]++});a.connected+=a.completed;var c="new";0<a.failed?c="failed":0<a.connecting?c="connecting":0<a.disconnected?c="disconnected":0<a["new"]?c="new":0<a.connected&&(c="connected");c!==this.connectionState&&(this.connectionState=c,c=new Event("connectionstatechange"),this._dispatchEvent("connectionstatechange",c))};k.prototype.createOffer=function(a){var b=this;if(b._isClosed)return Promise.reject(c("InvalidStateError",
"Can not call createOffer after close"));var d=b.transceivers.filter(function(a){return"audio"===a.kind}).length,l=b.transceivers.filter(function(a){return"video"===a.kind}).length;if(a){if(a.mandatory||a.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==a.offerToReceiveAudio&&(d=!0===a.offerToReceiveAudio?1:!1===a.offerToReceiveAudio?0:a.offerToReceiveAudio);void 0!==a.offerToReceiveVideo&&(l=!0===a.offerToReceiveVideo?1:!1===a.offerToReceiveVideo?0:a.offerToReceiveVideo)}for(b.transceivers.forEach(function(a){"audio"===
a.kind?(d--,0>d&&(a.wantReceive=!1)):"video"===a.kind&&(l--,0>l&&(a.wantReceive=!1))});0<d||0<l;)0<d&&(b._createTransceiver("audio"),d--),0<l&&(b._createTransceiver("video"),l--);var t=r.writeSessionBoilerplate(b._sdpSessionId,b._sdpSessionVersion++);b.transceivers.forEach(function(a,c){var d=a.track,f=a.kind,l=a.mid||r.generateIdentifier();a.mid=l;a.iceGatherer||(a.iceGatherer=b._createIceGatherer(c,b.usingBundle));l=x.RTCRtpSender.getCapabilities(f);15019>p&&(l.codecs=l.codecs.filter(function(a){return"rtx"!==
a.name}));l.codecs.forEach(function(g){"H264"===g.name&&void 0===g.parameters["level-asymmetry-allowed"]&&(g.parameters["level-asymmetry-allowed"]="1");a.remoteCapabilities&&a.remoteCapabilities.codecs&&a.remoteCapabilities.codecs.forEach(function(a){g.name.toLowerCase()===a.name.toLowerCase()&&g.clockRate===a.clockRate&&(g.preferredPayloadType=a.payloadType)})});l.headerExtensions.forEach(function(g){(a.remoteCapabilities&&a.remoteCapabilities.headerExtensions||[]).forEach(function(a){g.uri===a.uri&&
(g.id=a.id)})});var t=a.sendEncodingParameters||[{ssrc:1001*(2*c+1)}];d&&15019<=p&&"video"===f&&!t[0].rtx&&(t[0].rtx={ssrc:t[0].ssrc+1});a.wantReceive&&(a.rtpReceiver=new x.RTCRtpReceiver(a.dtlsTransport,f));a.localCapabilities=l;a.sendEncodingParameters=t});"max-compat"!==b._config.bundlePolicy&&(t+="a=group:BUNDLE "+b.transceivers.map(function(a){return a.mid}).join(" ")+"\r\n");t+="a=ice-options:trickle\r\n";b.transceivers.forEach(function(a,c){t+=f(a,a.localCapabilities,"offer",a.stream,b._dtlsRole);
t+="a=rtcp-rsize\r\n";!a.iceGatherer||"new"===b.iceGatheringState||0!==c&&b.usingBundle||(a.iceGatherer.getLocalCandidates().forEach(function(a){a.component=1;t+="a="+r.writeCandidate(a)+"\r\n"}),"completed"===a.iceGatherer.state&&(t+="a=end-of-candidates\r\n"))});a=new x.RTCSessionDescription({type:"offer",sdp:t});return Promise.resolve(a)};k.prototype.createAnswer=function(){var a=this;if(a._isClosed)return Promise.reject(c("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==
a.signalingState&&"have-local-pranswer"!==a.signalingState)return Promise.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+a.signalingState));var d=r.writeSessionBoilerplate(a._sdpSessionId,a._sdpSessionVersion++);a.usingBundle&&(d+="a=group:BUNDLE "+a.transceivers.map(function(a){return a.mid}).join(" ")+"\r\n");var l=r.getMediaSections(a.remoteDescription.sdp).length;a.transceivers.forEach(function(c,r){if(!(r+1>l))if(c.rejected)"application"===c.kind?d+="m=application 0 DTLS/SCTP 5000\r\n":
"audio"===c.kind?d+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===c.kind&&(d+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),d+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+c.mid+"\r\n";else{if(c.stream){var t;"audio"===c.kind?t=c.stream.getAudioTracks()[0]:"video"===c.kind&&(t=c.stream.getVideoTracks()[0]);t&&15019<=p&&"video"===c.kind&&!c.sendEncodingParameters[0].rtx&&(c.sendEncodingParameters[0].rtx={ssrc:c.sendEncodingParameters[0].ssrc+1})}t=b(c.localCapabilities,
c.remoteCapabilities);!t.codecs.filter(function(a){return"rtx"===a.name.toLowerCase()}).length&&c.sendEncodingParameters[0].rtx&&delete c.sendEncodingParameters[0].rtx;d+=f(c,t,"answer",c.stream,a._dtlsRole);c.rtcpParameters&&c.rtcpParameters.reducedSize&&(d+="a=rtcp-rsize\r\n")}});var u=new x.RTCSessionDescription({type:"answer",sdp:d});return Promise.resolve(u)};k.prototype.addIceCandidate=function(a){var b=this,d;return a&&void 0===a.sdpMLineIndex&&!a.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):
new Promise(function(f,p){if(b.remoteDescription)if(a&&""!==a.candidate){var t=a.sdpMLineIndex;if(a.sdpMid)for(var u=0;u<b.transceivers.length;u++)if(b.transceivers[u].mid===a.sdpMid){t=u;break}var v=b.transceivers[t];if(v){if(v.rejected)return f();u=0<Object.keys(a.candidate).length?r.parseCandidate(a.candidate):{};if("tcp"===u.protocol&&(0===u.port||9===u.port)||u.component&&1!==u.component)return f();if((0===t||0<t&&v.iceTransport!==b.transceivers[0].iceTransport)&&!l(v.iceTransport,u))return p(c("OperationError",
"Can not add ICE candidate"));v=a.candidate.trim();0===v.indexOf("a=")&&(v=v.substr(2));d=r.getMediaSections(b.remoteDescription.sdp);d[t]+="a="+(u.type?v:"end-of-candidates")+"\r\n";b.remoteDescription.sdp=r.getDescription(b.remoteDescription.sdp)+d.join("")}else return p(c("OperationError","Can not add ICE candidate"))}else for(t=0;t<b.transceivers.length&&(b.transceivers[t].rejected||(b.transceivers[t].iceTransport.addRemoteCandidate({}),d=r.getMediaSections(b.remoteDescription.sdp),d[t]+="a=end-of-candidates\r\n",
b.remoteDescription.sdp=r.getDescription(b.remoteDescription.sdp)+d.join(""),!b.usingBundle));t++);else return p(c("InvalidStateError","Can not add ICE candidate without a remote description"));f()})};k.prototype.getStats=function(){var a=[];this.transceivers.forEach(function(c){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(b){c[b]&&a.push(c[b].getStats())})});return new Promise(function(c){var b=new Map;Promise.all(a).then(function(a){a.forEach(function(a){Object.keys(a).forEach(function(c){var d=
a[c];a[c].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[d.type]||d.type;b.set(c,a[c])})});c(b)})})};var K=["createOffer","createAnswer"];K.forEach(function(a){var c=k.prototype[a];k.prototype[a]=function(){var a=arguments;return"function"===typeof a[0]||"function"===typeof a[1]?c.apply(this,[arguments[2]]).then(function(c){"function"===typeof a[0]&&a[0].apply(null,[c])},function(c){"function"===
typeof a[1]&&a[1].apply(null,[c])}):c.apply(this,arguments)}});K=["setLocalDescription","setRemoteDescription","addIceCandidate"];K.forEach(function(a){var c=k.prototype[a];k.prototype[a]=function(){var a=arguments;return"function"===typeof a[1]||"function"===typeof a[2]?c.apply(this,arguments).then(function(){"function"===typeof a[1]&&a[1].apply(null)},function(c){"function"===typeof a[2]&&a[2].apply(null,[c])}):c.apply(this,arguments)}});["getStats"].forEach(function(a){var c=k.prototype[a];k.prototype[a]=
function(){var a=arguments;return"function"===typeof a[1]?c.apply(this,arguments).then(function(){"function"===typeof a[1]&&a[1].apply(null)}):c.apply(this,arguments)}});return k}},{sdp:2}],2:[function(q,k,w){var f={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};f.localCName=f.generateIdentifier();f.splitLines=function(d){return d.trim().split("\n").map(function(b){return b.trim()})};f.splitSections=function(d){return d.split("\nm=").map(function(b,a){return(0<a?"m="+
b:b).trim()+"\r\n"})};f.getDescription=function(d){return(d=f.splitSections(d))&&d[0]};f.getMediaSections=function(d){d=f.splitSections(d);d.shift();return d};f.matchPrefix=function(d,b){return f.splitLines(d).filter(function(a){return 0===a.indexOf(b)})};f.parseCandidate=function(d){d=0===d.indexOf("a=candidate:")?d.substring(12).split(" "):d.substring(10).split(" ");for(var b={foundation:d[0],component:parseInt(d[1],10),protocol:d[2].toLowerCase(),priority:parseInt(d[3],10),ip:d[4],port:parseInt(d[5],
10),type:d[7]},a=8;a<d.length;a+=2)switch(d[a]){case "raddr":b.relatedAddress=d[a+1];break;case "rport":b.relatedPort=parseInt(d[a+1],10);break;case "tcptype":b.tcpType=d[a+1];break;case "ufrag":b.ufrag=d[a+1];b.usernameFragment=d[a+1];break;default:b[d[a]]=d[a+1]}return b};f.writeCandidate=function(d){var b=[];b.push(d.foundation);b.push(d.component);b.push(d.protocol.toUpperCase());b.push(d.priority);b.push(d.ip);b.push(d.port);var a=d.type;b.push("typ");b.push(a);"host"!==a&&d.relatedAddress&&
d.relatedPort&&(b.push("raddr"),b.push(d.relatedAddress),b.push("rport"),b.push(d.relatedPort));d.tcpType&&"tcp"===d.protocol.toLowerCase()&&(b.push("tcptype"),b.push(d.tcpType));if(d.usernameFragment||d.ufrag)b.push("ufrag"),b.push(d.usernameFragment||d.ufrag);return"candidate:"+b.join(" ")};f.parseIceOptions=function(d){return d.substr(14).split(" ")};f.parseRtpMap=function(d){d=d.substr(9).split(" ");var b={payloadType:parseInt(d.shift(),10)};d=d[0].split("/");b.name=d[0];b.clockRate=parseInt(d[1],
10);b.numChannels=3===d.length?parseInt(d[2],10):1;return b};f.writeRtpMap=function(d){var b=d.payloadType;void 0!==d.preferredPayloadType&&(b=d.preferredPayloadType);return"a=rtpmap:"+b+" "+d.name+"/"+d.clockRate+(1!==d.numChannels?"/"+d.numChannels:"")+"\r\n"};f.parseExtmap=function(d){d=d.substr(9).split(" ");return{id:parseInt(d[0],10),direction:0<d[0].indexOf("/")?d[0].split("/")[1]:"sendrecv",uri:d[1]}};f.writeExtmap=function(d){return"a=extmap:"+(d.id||d.preferredId)+(d.direction&&"sendrecv"!==
d.direction?"/"+d.direction:"")+" "+d.uri+"\r\n"};f.parseFmtp=function(d){for(var b={},a=d.substr(d.indexOf(" ")+1).split(";"),f=0;f<a.length;f++)d=a[f].trim().split("="),b[d[0].trim()]=d[1];return b};f.writeFmtp=function(d){var b="",a=d.payloadType;void 0!==d.preferredPayloadType&&(a=d.preferredPayloadType);if(d.parameters&&Object.keys(d.parameters).length){var f=[];Object.keys(d.parameters).forEach(function(a){f.push(a+"="+d.parameters[a])});b+="a=fmtp:"+a+" "+f.join(";")+"\r\n"}return b};f.parseRtcpFb=
function(d){d=d.substr(d.indexOf(" ")+1).split(" ");return{type:d.shift(),parameter:d.join(" ")}};f.writeRtcpFb=function(d){var b="",a=d.payloadType;void 0!==d.preferredPayloadType&&(a=d.preferredPayloadType);d.rtcpFeedback&&d.rtcpFeedback.length&&d.rtcpFeedback.forEach(function(d){b+="a=rtcp-fb:"+a+" "+d.type+(d.parameter&&d.parameter.length?" "+d.parameter:"")+"\r\n"});return b};f.parseSsrcMedia=function(d){var b=d.indexOf(" "),a={ssrc:parseInt(d.substr(7,b-7),10)},f=d.indexOf(":",b);-1<f?(a.attribute=
d.substr(b+1,f-b-1),a.value=d.substr(f+1)):a.attribute=d.substr(b+1);return a};f.getMid=function(d){if(d=f.matchPrefix(d,"a=mid:")[0])return d.substr(6)};f.parseFingerprint=function(d){d=d.substr(14).split(" ");return{algorithm:d[0].toLowerCase(),value:d[1]}};f.getDtlsParameters=function(d,b){return{role:"auto",fingerprints:f.matchPrefix(d+b,"a=fingerprint:").map(f.parseFingerprint)}};f.writeDtlsParameters=function(d,b){var a="a=setup:"+b+"\r\n";d.fingerprints.forEach(function(b){a+="a=fingerprint:"+
b.algorithm+" "+b.value+"\r\n"});return a};f.getIceParameters=function(d,b){var a=f.splitLines(d);a=a.concat(f.splitLines(b));return{usernameFragment:a.filter(function(a){return 0===a.indexOf("a=ice-ufrag:")})[0].substr(12),password:a.filter(function(a){return 0===a.indexOf("a=ice-pwd:")})[0].substr(10)}};f.writeIceParameters=function(d){return"a=ice-ufrag:"+d.usernameFragment+"\r\na=ice-pwd:"+d.password+"\r\n"};f.parseRtpParameters=function(d){for(var b={codecs:[],headerExtensions:[],fecMechanisms:[],
rtcp:[]},a=f.splitLines(d)[0].split(" "),l=3;l<a.length;l++){var c=a[l],r=f.matchPrefix(d,"a=rtpmap:"+c+" ")[0];if(r){r=f.parseRtpMap(r);var x=f.matchPrefix(d,"a=fmtp:"+c+" ");r.parameters=x.length?f.parseFmtp(x[0]):{};r.rtcpFeedback=f.matchPrefix(d,"a=rtcp-fb:"+c+" ").map(f.parseRtcpFb);b.codecs.push(r);switch(r.name.toUpperCase()){case "RED":case "ULPFEC":b.fecMechanisms.push(r.name.toUpperCase())}}}f.matchPrefix(d,"a=extmap:").forEach(function(a){b.headerExtensions.push(f.parseExtmap(a))});return b};
f.writeRtpDescription=function(d,b){var a="";a+="m="+d+" ";a+=0<b.codecs.length?"9":"0";a+=" UDP/TLS/RTP/SAVPF ";a+=b.codecs.map(function(a){return void 0!==a.preferredPayloadType?a.preferredPayloadType:a.payloadType}).join(" ")+"\r\n";a+="c=IN IP4 0.0.0.0\r\n";a+="a=rtcp:9 IN IP4 0.0.0.0\r\n";b.codecs.forEach(function(c){a+=f.writeRtpMap(c);a+=f.writeFmtp(c);a+=f.writeRtcpFb(c)});var l=0;b.codecs.forEach(function(a){a.maxptime>l&&(l=a.maxptime)});0<l&&(a+="a=maxptime:"+l+"\r\n");a+="a=rtcp-mux\r\n";
b.headerExtensions.forEach(function(c){a+=f.writeExtmap(c)});return a};f.parseRtpEncodingParameters=function(d){var b=[],a=f.parseRtpParameters(d),l=-1!==a.fecMechanisms.indexOf("RED"),c=-1!==a.fecMechanisms.indexOf("ULPFEC"),r=f.matchPrefix(d,"a=ssrc:").map(function(a){return f.parseSsrcMedia(a)}).filter(function(a){return"cname"===a.attribute}),x=0<r.length&&r[0].ssrc,p;r=f.matchPrefix(d,"a=ssrc-group:FID").map(function(a){a=a.split(" ");a.shift();return a.map(function(a){return parseInt(a,10)})});
0<r.length&&1<r[0].length&&r[0][0]===x&&(p=r[0][1]);a.codecs.forEach(function(a){"RTX"===a.name.toUpperCase()&&a.parameters.apt&&(a={ssrc:x,codecPayloadType:parseInt(a.parameters.apt,10),rtx:{ssrc:p}},b.push(a),l&&(a=JSON.parse(JSON.stringify(a)),a.fec={ssrc:p,mechanism:c?"red+ulpfec":"red"},b.push(a)))});0===b.length&&x&&b.push({ssrc:x});var y=f.matchPrefix(d,"b=");y.length&&(y=0===y[0].indexOf("b=TIAS:")?parseInt(y[0].substr(7),10):0===y[0].indexOf("b=AS:")?950*parseInt(y[0].substr(5),10)-16E3:
void 0,b.forEach(function(a){a.maxBitrate=y}));return b};f.parseRtcpParameters=function(d){var b={},a=f.matchPrefix(d,"a=ssrc:").map(function(a){return f.parseSsrcMedia(a)}).filter(function(a){return"cname"===a.attribute})[0];a&&(b.cname=a.value,b.ssrc=a.ssrc);a=f.matchPrefix(d,"a=rtcp-rsize");b.reducedSize=0<a.length;b.compound=0===a.length;d=f.matchPrefix(d,"a=rtcp-mux");b.mux=0<d.length;return b};f.parseMsid=function(d){var b=f.matchPrefix(d,"a=msid:");if(1===b.length)return d=b[0].substr(7).split(" "),
{stream:d[0],track:d[1]};d=f.matchPrefix(d,"a=ssrc:").map(function(a){return f.parseSsrcMedia(a)}).filter(function(a){return"msid"===a.attribute});if(0<d.length)return d=d[0].value.split(" "),{stream:d[0],track:d[1]}};f.generateSessionId=function(){return Math.random().toString().substr(2,21)};f.writeSessionBoilerplate=function(d,b){var a=void 0!==b?b:2;return"v=0\r\no=thisisadapterortc "+(d?d:f.generateSessionId())+" "+a+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"};f.writeMediaSection=function(d,b,a,
l){b=f.writeRtpDescription(d.kind,b);b+=f.writeIceParameters(d.iceGatherer.getLocalParameters());b+=f.writeDtlsParameters(d.dtlsTransport.getLocalParameters(),"offer"===a?"actpass":"active");b+="a=mid:"+d.mid+"\r\n";b=d.direction?b+("a="+d.direction+"\r\n"):d.rtpSender&&d.rtpReceiver?b+"a=sendrecv\r\n":d.rtpSender?b+"a=sendonly\r\n":d.rtpReceiver?b+"a=recvonly\r\n":b+"a=inactive\r\n";d.rtpSender&&(a="msid:"+l.id+" "+d.rtpSender.track.id+"\r\n",b=b+("a="+a)+("a=ssrc:"+d.sendEncodingParameters[0].ssrc+
" "+a),d.sendEncodingParameters[0].rtx&&(b+="a=ssrc:"+d.sendEncodingParameters[0].rtx.ssrc+" "+a,b+="a=ssrc-group:FID "+d.sendEncodingParameters[0].ssrc+" "+d.sendEncodingParameters[0].rtx.ssrc+"\r\n"));b+="a=ssrc:"+d.sendEncodingParameters[0].ssrc+" cname:"+f.localCName+"\r\n";d.rtpSender&&d.sendEncodingParameters[0].rtx&&(b+="a=ssrc:"+d.sendEncodingParameters[0].rtx.ssrc+" cname:"+f.localCName+"\r\n");return b};f.getDirection=function(d,b){for(var a=f.splitLines(d),l=0;l<a.length;l++)switch(a[l]){case "a=sendrecv":case "a=sendonly":case "a=recvonly":case "a=inactive":return a[l].substr(2)}return b?
f.getDirection(b):"sendrecv"};f.getKind=function(d){return f.splitLines(d)[0].split(" ")[0].substr(2)};f.isRejected=function(d){return"0"===d.split(" ",2)[1]};f.parseMLine=function(d){d=f.splitLines(d)[0].substr(2).split(" ");return{kind:d[0],port:parseInt(d[1],10),protocol:d[2],fmt:d.slice(3).join(" ")}};f.parseOLine=function(d){d=f.matchPrefix(d,"o=")[0].substr(2).split(" ");return{username:d[0],sessionId:d[1],sessionVersion:parseInt(d[2],10),netType:d[3],addressType:d[4],address:d[5]}};"object"===
typeof k&&(k.exports=f)},{}],3:[function(q,k,w){w="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};q=q("./adapter_factory.js");k.exports=q({window:w.window})},{"./adapter_factory.js":4}],4:[function(q,k,w){var f=q("./utils");k.exports=function(d,b){var a=d&&d.window,l={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(c in b)hasOwnProperty.call(b,c)&&(l[c]=b[c]);var c=f.log;var r=f.detectBrowser(a),x=q("./chrome/chrome_shim")||null,
p=q("./edge/edge_shim")||null,y=q("./firefox/firefox_shim")||null,v=q("./safari/safari_shim")||null,u=q("./common_shim")||null,k={browserDetails:r,commonShim:u,extractVersion:f.extractVersion,disableLog:f.disableLog,disableWarnings:f.disableWarnings};switch(r.browser){case "chrome":if(!x||!x.shimPeerConnection||!l.shimChrome){c("Chrome shim is not included in this adapter release.");break}c("adapter.js shimming chrome.");k.browserShim=x;u.shimCreateObjectURL(a);x.shimGetUserMedia(a);x.shimMediaStream(a);
x.shimSourceObject(a);x.shimPeerConnection(a);x.shimOnTrack(a);x.shimAddTrackRemoveTrack(a);x.shimGetSendersWithDtmf(a);u.shimRTCIceCandidate(a);u.shimMaxMessageSize(a);u.shimSendThrowTypeError(a);break;case "firefox":if(!y||!y.shimPeerConnection||!l.shimFirefox){c("Firefox shim is not included in this adapter release.");break}c("adapter.js shimming firefox.");k.browserShim=y;u.shimCreateObjectURL(a);y.shimGetUserMedia(a);y.shimSourceObject(a);y.shimPeerConnection(a);y.shimOnTrack(a);y.shimRemoveStream(a);
u.shimRTCIceCandidate(a);u.shimMaxMessageSize(a);u.shimSendThrowTypeError(a);break;case "edge":if(!p||!p.shimPeerConnection||!l.shimEdge){c("MS edge shim is not included in this adapter release.");break}c("adapter.js shimming edge.");k.browserShim=p;u.shimCreateObjectURL(a);p.shimGetUserMedia(a);p.shimPeerConnection(a);p.shimReplaceTrack(a);u.shimMaxMessageSize(a);u.shimSendThrowTypeError(a);break;case "safari":if(!v||!l.shimSafari){c("Safari shim is not included in this adapter release.");break}c("adapter.js shimming safari.");
k.browserShim=v;u.shimCreateObjectURL(a);v.shimRTCIceServerUrls(a);v.shimCallbacksAPI(a);v.shimLocalStreamsAPI(a);v.shimRemoteStreamsAPI(a);v.shimTrackEventTransceiver(a);v.shimGetUserMedia(a);v.shimCreateOfferLegacy(a);u.shimRTCIceCandidate(a);u.shimMaxMessageSize(a);u.shimSendThrowTypeError(a);break;default:c("Unsupported browser!")}return k}},{"./chrome/chrome_shim":5,"./common_shim":7,"./edge/edge_shim":8,"./firefox/firefox_shim":10,"./safari/safari_shim":12,"./utils":13}],5:[function(q,k,w){var f=
q("../utils.js"),d=f.log;k.exports={shimGetUserMedia:q("./getusermedia"),shimMediaStream:function(b){b.MediaStream=b.MediaStream||b.webkitMediaStream},shimOnTrack:function(b){if("object"!==typeof b||!b.RTCPeerConnection||"ontrack"in b.RTCPeerConnection.prototype)"RTCRtpTransceiver"in b||f.wrapPeerConnectionEvent(b,"track",function(a){a.transceiver||(a.transceiver={receiver:a.receiver});return a});else{Object.defineProperty(b.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},
set:function(a){this._ontrack&&this.removeEventListener("track",this._ontrack);this.addEventListener("track",this._ontrack=a)}});var a=b.RTCPeerConnection.prototype.setRemoteDescription;b.RTCPeerConnection.prototype.setRemoteDescription=function(){var d=this;d._ontrackpoly||(d._ontrackpoly=function(a){a.stream.addEventListener("addtrack",function(c){var f=b.RTCPeerConnection.prototype.getReceivers?d.getReceivers().find(function(a){return a.track&&a.track.id===c.track.id}):{track:c.track};var l=new Event("track");
l.track=c.track;l.receiver=f;l.transceiver={receiver:f};l.streams=[a.stream];d.dispatchEvent(l)});a.stream.getTracks().forEach(function(c){var f=b.RTCPeerConnection.prototype.getReceivers?d.getReceivers().find(function(a){return a.track&&a.track.id===c.id}):{track:c};var l=new Event("track");l.track=c;l.receiver=f;l.transceiver={receiver:f};l.streams=[a.stream];d.dispatchEvent(l)})},d.addEventListener("addstream",d._ontrackpoly));return a.apply(d,arguments)}}},shimGetSendersWithDtmf:function(b){if("object"===
typeof b&&b.RTCPeerConnection&&!("getSenders"in b.RTCPeerConnection.prototype)&&"createDTMFSender"in b.RTCPeerConnection.prototype){var a=function(a,c){return{track:c,get dtmf(){void 0===this._dtmf&&(this._dtmf="audio"===c.kind?a.createDTMFSender(c):null);return this._dtmf},_pc:a}};if(!b.RTCPeerConnection.prototype.getSenders){b.RTCPeerConnection.prototype.getSenders=function(){this._senders=this._senders||[];return this._senders.slice()};var d=b.RTCPeerConnection.prototype.addTrack;b.RTCPeerConnection.prototype.addTrack=
function(c,b){var f=d.apply(this,arguments);f||(f=a(this,c),this._senders.push(f));return f};var c=b.RTCPeerConnection.prototype.removeTrack;b.RTCPeerConnection.prototype.removeTrack=function(a){c.apply(this,arguments);var b=this._senders.indexOf(a);-1!==b&&this._senders.splice(b,1)}}var f=b.RTCPeerConnection.prototype.addStream;b.RTCPeerConnection.prototype.addStream=function(c){var b=this;b._senders=b._senders||[];f.apply(b,[c]);c.getTracks().forEach(function(c){b._senders.push(a(b,c))})};var x=
b.RTCPeerConnection.prototype.removeStream;b.RTCPeerConnection.prototype.removeStream=function(a){var c=this;c._senders=c._senders||[];x.apply(c,[a]);a.getTracks().forEach(function(a){var b=c._senders.find(function(c){return c.track===a});b&&c._senders.splice(c._senders.indexOf(b),1)})}}else if("object"===typeof b&&b.RTCPeerConnection&&"getSenders"in b.RTCPeerConnection.prototype&&"createDTMFSender"in b.RTCPeerConnection.prototype&&b.RTCRtpSender&&!("dtmf"in b.RTCRtpSender.prototype)){var p=b.RTCPeerConnection.prototype.getSenders;
b.RTCPeerConnection.prototype.getSenders=function(){var a=this,c=p.apply(a,[]);c.forEach(function(c){c._pc=a});return c};Object.defineProperty(b.RTCRtpSender.prototype,"dtmf",{get:function(){void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null);return this._dtmf}})}},shimSourceObject:function(b){var a=b&&b.URL;"object"===typeof b&&(!b.HTMLMediaElement||"srcObject"in b.HTMLMediaElement.prototype||Object.defineProperty(b.HTMLMediaElement.prototype,"srcObject",
{get:function(){return this._srcObject},set:function(b){var c=this;this._srcObject=b;this.src&&a.revokeObjectURL(this.src);b?(this.src=a.createObjectURL(b),b.addEventListener("addtrack",function(){c.src&&a.revokeObjectURL(c.src);c.src=a.createObjectURL(b)}),b.addEventListener("removetrack",function(){c.src&&a.revokeObjectURL(c.src);c.src=a.createObjectURL(b)})):this.src=""}}))},shimAddTrackRemoveTrackWithNative:function(b){b.RTCPeerConnection.prototype.getLocalStreams=function(){var a=this;this._shimmedLocalStreams=
this._shimmedLocalStreams||{};return Object.keys(this._shimmedLocalStreams).map(function(c){return a._shimmedLocalStreams[c][0]})};var a=b.RTCPeerConnection.prototype.addTrack;b.RTCPeerConnection.prototype.addTrack=function(c,b){if(!b)return a.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var d=a.apply(this,arguments);this._shimmedLocalStreams[b.id]?-1===this._shimmedLocalStreams[b.id].indexOf(d)&&this._shimmedLocalStreams[b.id].push(d):this._shimmedLocalStreams[b.id]=
[b,d];return d};var d=b.RTCPeerConnection.prototype.addStream;b.RTCPeerConnection.prototype.addStream=function(a){var c=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{};a.getTracks().forEach(function(a){if(c.getSenders().find(function(c){return c.track===a}))throw new DOMException("Track already exists.","InvalidAccessError");});var b=c.getSenders();d.apply(this,arguments);var f=c.getSenders().filter(function(a){return-1===b.indexOf(a)});this._shimmedLocalStreams[a.id]=[a].concat(f)};
var c=b.RTCPeerConnection.prototype.removeStream;b.RTCPeerConnection.prototype.removeStream=function(a){this._shimmedLocalStreams=this._shimmedLocalStreams||{};delete this._shimmedLocalStreams[a.id];return c.apply(this,arguments)};var f=b.RTCPeerConnection.prototype.removeTrack;b.RTCPeerConnection.prototype.removeTrack=function(a){var c=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{};a&&Object.keys(this._shimmedLocalStreams).forEach(function(b){var d=c._shimmedLocalStreams[b].indexOf(a);
-1!==d&&c._shimmedLocalStreams[b].splice(d,1);1===c._shimmedLocalStreams[b].length&&delete c._shimmedLocalStreams[b]});return f.apply(this,arguments)}},shimAddTrackRemoveTrack:function(b){function a(a,c){var b=c.sdp;Object.keys(a._reverseStreams||[]).forEach(function(c){c=a._reverseStreams[c];b=b.replace(new RegExp(a._streams[c.id].id,"g"),c.id)});return new RTCSessionDescription({type:c.type,sdp:b})}function d(a,c){var b=c.sdp;Object.keys(a._reverseStreams||[]).forEach(function(c){c=a._reverseStreams[c];
b=b.replace(new RegExp(c.id,"g"),a._streams[c.id].id)});return new RTCSessionDescription({type:c.type,sdp:b})}var c=f.detectBrowser(b);if(b.RTCPeerConnection.prototype.addTrack&&65<=c.version)return this.shimAddTrackRemoveTrackWithNative(b);var r=b.RTCPeerConnection.prototype.getLocalStreams;b.RTCPeerConnection.prototype.getLocalStreams=function(){var a=this,c=r.apply(this);a._reverseStreams=a._reverseStreams||{};return c.map(function(c){return a._reverseStreams[c.id]})};var x=b.RTCPeerConnection.prototype.addStream;
b.RTCPeerConnection.prototype.addStream=function(a){var c=this;c._streams=c._streams||{};c._reverseStreams=c._reverseStreams||{};a.getTracks().forEach(function(a){if(c.getSenders().find(function(c){return c.track===a}))throw new DOMException("Track already exists.","InvalidAccessError");});if(!c._reverseStreams[a.id]){var d=new b.MediaStream(a.getTracks());c._streams[a.id]=d;c._reverseStreams[d.id]=a;a=d}x.apply(c,[a])};var p=b.RTCPeerConnection.prototype.removeStream;b.RTCPeerConnection.prototype.removeStream=
function(a){this._streams=this._streams||{};this._reverseStreams=this._reverseStreams||{};p.apply(this,[this._streams[a.id]||a]);delete this._reverseStreams[this._streams[a.id]?this._streams[a.id].id:a.id];delete this._streams[a.id]};b.RTCPeerConnection.prototype.addTrack=function(a,c){var d=this;if("closed"===d.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var f=[].slice.call(arguments,1);if(1!==f.length||!f[0].getTracks().find(function(c){return c===
a}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(d.getSenders().find(function(c){return c.track===a}))throw new DOMException("Track already exists.","InvalidAccessError");d._streams=d._streams||{};d._reverseStreams=d._reverseStreams||{};(f=d._streams[c.id])?(f.addTrack(a),Promise.resolve().then(function(){d.dispatchEvent(new Event("negotiationneeded"))})):(f=new b.MediaStream([a]),d._streams[c.id]=
f,d._reverseStreams[f.id]=c,d.addStream(f));return d.getSenders().find(function(c){return c.track===a})};["createOffer","createAnswer"].forEach(function(c){var d=b.RTCPeerConnection.prototype[c];b.RTCPeerConnection.prototype[c]=function(){var c=this,b=arguments;return arguments.length&&"function"===typeof arguments[0]?d.apply(c,[function(d){d=a(c,d);b[0].apply(null,[d])},function(a){b[1]&&b[1].apply(null,a)},arguments[2]]):d.apply(c,arguments).then(function(b){return a(c,b)})}});var k=b.RTCPeerConnection.prototype.setLocalDescription;
b.RTCPeerConnection.prototype.setLocalDescription=function(){if(!arguments.length||!arguments[0].type)return k.apply(this,arguments);arguments[0]=d(this,arguments[0]);return k.apply(this,arguments)};var v=Object.getOwnPropertyDescriptor(b.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(b.RTCPeerConnection.prototype,"localDescription",{get:function(){var c=v.get.apply(this);return""===c.type?c:a(this,c)}});b.RTCPeerConnection.prototype.removeTrack=function(a){var c=this;if("closed"===
c.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!a._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(a._pc!==c)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");c._streams=c._streams||{};var b;Object.keys(c._streams).forEach(function(d){c._streams[d].getTracks().find(function(c){return a.track===c})&&(b=c._streams[d])});
b&&(1===b.getTracks().length?c.removeStream(c._reverseStreams[b.id]):b.removeTrack(a.track),c.dispatchEvent(new Event("negotiationneeded")))}},shimPeerConnection:function(b){var a=f.detectBrowser(b);if(!b.RTCPeerConnection&&b.webkitRTCPeerConnection)b.RTCPeerConnection=function(a,c){d("PeerConnection");a&&a.iceTransportPolicy&&(a.iceTransports=a.iceTransportPolicy);return new b.webkitRTCPeerConnection(a,c)},b.RTCPeerConnection.prototype=b.webkitRTCPeerConnection.prototype,b.webkitRTCPeerConnection.generateCertificate&&
Object.defineProperty(b.RTCPeerConnection,"generateCertificate",{get:function(){return b.webkitRTCPeerConnection.generateCertificate}});else{var l=b.RTCPeerConnection;b.RTCPeerConnection=function(a,c){if(a&&a.iceServers){for(var b=[],d=0;d<a.iceServers.length;d++){var p=a.iceServers[d];!p.hasOwnProperty("urls")&&p.hasOwnProperty("url")?(f.deprecated("RTCIceServer.url","RTCIceServer.urls"),p=JSON.parse(JSON.stringify(p)),p.urls=p.url,b.push(p)):b.push(a.iceServers[d])}a.iceServers=b}return new l(a,
c)};b.RTCPeerConnection.prototype=l.prototype;Object.defineProperty(b.RTCPeerConnection,"generateCertificate",{get:function(){return l.generateCertificate}})}var c=b.RTCPeerConnection.prototype.getStats;b.RTCPeerConnection.prototype.getStats=function(a,b,d){var f=this,l=arguments;if(0<arguments.length&&"function"===typeof a)return c.apply(this,arguments);if(0===c.length&&(0===arguments.length||"function"!==typeof arguments[0]))return c.apply(this,[]);var p=function(a){var c={};a.result().forEach(function(a){var b=
{id:a.id,timestamp:a.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[a.type]||a.type};a.names().forEach(function(c){b[c]=a.stat(c)});c[b.id]=b});return c},r=function(a){return new Map(Object.keys(a).map(function(c){return[c,a[c]]}))};return 2<=arguments.length?c.apply(this,[function(a){l[1](r(p(a)))},arguments[0]]):(new Promise(function(a,b){c.apply(f,[function(c){a(r(p(c)))},b])})).then(b,d)};51>a.version&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){var c=
b.RTCPeerConnection.prototype[a];b.RTCPeerConnection.prototype[a]=function(){var a=arguments,b=this,d=new Promise(function(d,f){c.apply(b,[a[0],d,f])});return 2>a.length?d:d.then(function(){a[1].apply(null,[])},function(c){3<=a.length&&a[2].apply(null,[c])})}});52>a.version&&["createOffer","createAnswer"].forEach(function(a){var c=b.RTCPeerConnection.prototype[a];b.RTCPeerConnection.prototype[a]=function(){var a=this;if(1>arguments.length||1===arguments.length&&"object"===typeof arguments[0]){var b=
1===arguments.length?arguments[0]:void 0;return new Promise(function(d,f){c.apply(a,[d,f,b])})}return c.apply(this,arguments)}});["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){var c=b.RTCPeerConnection.prototype[a];b.RTCPeerConnection.prototype[a]=function(){arguments[0]=new ("addIceCandidate"===a?b.RTCIceCandidate:b.RTCSessionDescription)(arguments[0]);return c.apply(this,arguments)}});var r=b.RTCPeerConnection.prototype.addIceCandidate;b.RTCPeerConnection.prototype.addIceCandidate=
function(){return arguments[0]?r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}}},{"../utils.js":13,"./getusermedia":6}],6:[function(q,k,w){var f=q("../utils.js"),d=f.log;k.exports=function(b){var a=f.detectBrowser(b),l=b&&b.navigator,c=function(a){if("object"!==typeof a||a.mandatory||a.optional)return a;var c={};Object.keys(a).forEach(function(b){if("require"!==b&&"advanced"!==b&&"mediaSource"!==b){var d="object"===typeof a[b]?a[b]:{ideal:a[b]};void 0!==d.exact&&
"number"===typeof d.exact&&(d.min=d.max=d.exact);var f=function(a,c){return a?a+c.charAt(0).toUpperCase()+c.slice(1):"deviceId"===c?"sourceId":c};if(void 0!==d.ideal){c.optional=c.optional||[];var l={};"number"===typeof d.ideal?(l[f("min",b)]=d.ideal,c.optional.push(l),l={},l[f("max",b)]=d.ideal):l[f("",b)]=d.ideal;c.optional.push(l)}void 0!==d.exact&&"number"!==typeof d.exact?(c.mandatory=c.mandatory||{},c.mandatory[f("",b)]=d.exact):["min","max"].forEach(function(a){void 0!==d[a]&&(c.mandatory=
c.mandatory||{},c.mandatory[f(a,b)]=d[a])})}});a.advanced&&(c.optional=(c.optional||[]).concat(a.advanced));return c},r=function(b,f){if(61<=a.version)return f(b);if((b=JSON.parse(JSON.stringify(b)))&&"object"===typeof b.audio){var p=function(a,c,b){c in a&&!(b in a)&&(a[b]=a[c],delete a[c])};b=JSON.parse(JSON.stringify(b));p(b.audio,"autoGainControl","googAutoGainControl");p(b.audio,"noiseSuppression","googNoiseSuppression");b.audio=c(b.audio)}if(b&&"object"===typeof b.video){var r=b.video.facingMode;
r=r&&("object"===typeof r?r:{ideal:r});p=66>a.version;if(!(!r||"user"!==r.exact&&"environment"!==r.exact&&"user"!==r.ideal&&"environment"!==r.ideal||l.mediaDevices.getSupportedConstraints&&l.mediaDevices.getSupportedConstraints().facingMode&&!p)){delete b.video.facingMode;if("environment"===r.exact||"environment"===r.ideal)var t=["back","rear"];else if("user"===r.exact||"user"===r.ideal)t=["front"];if(t)return l.mediaDevices.enumerateDevices().then(function(a){a=a.filter(function(a){return"videoinput"===
a.kind});var l=a.find(function(a){return t.some(function(c){return-1!==a.label.toLowerCase().indexOf(c)})});!l&&a.length&&-1!==t.indexOf("back")&&(l=a[a.length-1]);l&&(b.video.deviceId=r.exact?{exact:l.deviceId}:{ideal:l.deviceId});b.video=c(b.video);d("chrome: "+JSON.stringify(b));return f(b)})}b.video=c(b.video)}d("chrome: "+JSON.stringify(b));return f(b)},x=function(a){return{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",
DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};l.getUserMedia=function(a,c,b){r(a,function(a){l.webkitGetUserMedia(a,
c,function(a){b&&b(x(a))})})};var p=function(a){return new Promise(function(c,b){l.getUserMedia(a,c,b)})};l.mediaDevices||(l.mediaDevices={getUserMedia:p,enumerateDevices:function(){return new Promise(function(a){var c={audio:"audioinput",video:"videoinput"};return b.MediaStreamTrack.getSources(function(b){a(b.map(function(a){return{label:a.label,kind:c[a.kind],deviceId:a.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,
width:!0}}});if(l.mediaDevices.getUserMedia){var k=l.mediaDevices.getUserMedia.bind(l.mediaDevices);l.mediaDevices.getUserMedia=function(a){return r(a,function(a){return k(a).then(function(c){if(a.audio&&!c.getAudioTracks().length||a.video&&!c.getVideoTracks().length)throw c.getTracks().forEach(function(a){a.stop()}),new DOMException("","NotFoundError");return c},function(a){return Promise.reject(x(a))})})}}else l.mediaDevices.getUserMedia=function(a){return p(a)};"undefined"===typeof l.mediaDevices.addEventListener&&
(l.mediaDevices.addEventListener=function(){d("Dummy mediaDevices.addEventListener called.")});"undefined"===typeof l.mediaDevices.removeEventListener&&(l.mediaDevices.removeEventListener=function(){d("Dummy mediaDevices.removeEventListener called.")})}},{"../utils.js":13}],7:[function(q,k,w){var f=q("sdp"),d=q("./utils");k.exports={shimRTCIceCandidate:function(b){if(b.RTCIceCandidate&&!(b.RTCIceCandidate&&"foundation"in b.RTCIceCandidate.prototype)){var a=b.RTCIceCandidate;b.RTCIceCandidate=function(b){"object"===
typeof b&&b.candidate&&0===b.candidate.indexOf("a=")&&(b=JSON.parse(JSON.stringify(b)),b.candidate=b.candidate.substr(2));if(b.candidate&&b.candidate.length){var c=new a(b);b=f.parseCandidate(b.candidate);var d=Object.assign(c,b);d.toJSON=function(){return{candidate:d.candidate,sdpMid:d.sdpMid,sdpMLineIndex:d.sdpMLineIndex,usernameFragment:d.usernameFragment}};return d}return new a(b)};b.RTCIceCandidate.prototype=a.prototype;d.wrapPeerConnectionEvent(b,"icecandidate",function(a){a.candidate&&Object.defineProperty(a,
"candidate",{value:new b.RTCIceCandidate(a.candidate),writable:"false"});return a})}},shimCreateObjectURL:function(b){var a=b&&b.URL;if("object"===typeof b&&b.HTMLMediaElement&&"srcObject"in b.HTMLMediaElement.prototype&&a.createObjectURL&&a.revokeObjectURL){var f=a.createObjectURL.bind(a),c=a.revokeObjectURL.bind(a),r=new Map,x=0;a.createObjectURL=function(a){if("getTracks"in a){var c="polyblob:"+ ++x;r.set(c,a);d.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream");return c}return f(a)};
a.revokeObjectURL=function(a){c(a);r["delete"](a)};var p=Object.getOwnPropertyDescriptor(b.HTMLMediaElement.prototype,"src");Object.defineProperty(b.HTMLMediaElement.prototype,"src",{get:function(){return p.get.apply(this)},set:function(a){this.srcObject=r.get(a)||null;return p.set.apply(this,[a])}});var k=b.HTMLMediaElement.prototype.setAttribute;b.HTMLMediaElement.prototype.setAttribute=function(){2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=r.get(arguments[1])||
null);return k.apply(this,arguments)}}},shimMaxMessageSize:function(b){if(!b.RTCSctpTransport&&b.RTCPeerConnection){var a=d.detectBrowser(b);"sctp"in b.RTCPeerConnection.prototype||Object.defineProperty(b.RTCPeerConnection.prototype,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp}});var l=function(a){a=f.splitSections(a.sdp);a.shift();return a.some(function(a){return(a=f.parseMLine(a))&&"application"===a.kind&&-1!==a.protocol.indexOf("SCTP")})},c=function(a){a=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);
if(null===a||2>a.length)return-1;a=parseInt(a[1],10);return a!==a?-1:a},r=function(c){var b=65536;"firefox"===a.browser&&(b=57>a.version?-1===c?16384:2147483637:57===a.version?65535:65536);return b},x=function(c,b){var d=65536;"firefox"===a.browser&&57===a.version&&(d=65535);var l=f.matchPrefix(c.sdp,"a=max-message-size:");0<l.length?d=parseInt(l[0].substr(19),10):"firefox"===a.browser&&-1!==b&&(d=2147483637);return d},p=b.RTCPeerConnection.prototype.setRemoteDescription;b.RTCPeerConnection.prototype.setRemoteDescription=
function(){this._sctp=null;if(l(arguments[0])){var a=c(arguments[0]),b=r(a);a=x(arguments[0],a);var d=0===b&&0===a?Number.POSITIVE_INFINITY:0===b||0===a?Math.max(b,a):Math.min(b,a);b={};Object.defineProperty(b,"maxMessageSize",{get:function(){return d}});this._sctp=b}return p.apply(this,arguments)}}},shimSendThrowTypeError:function(b){if(b.RTCPeerConnection&&"createDataChannel"in b.RTCPeerConnection.prototype){var a=b.RTCPeerConnection.prototype.createDataChannel;b.RTCPeerConnection.prototype.createDataChannel=
function(){var b=this,c=a.apply(b,arguments),d=c.send;c.send=function(){var a=arguments[0];if((a.length||a.size||a.byteLength)>b.sctp.maxMessageSize)throw new DOMException("Message too large (can send a maximum of "+b.sctp.maxMessageSize+" bytes)","TypeError");return d.apply(this,arguments)};return c}}}}},{"./utils":13,sdp:2}],8:[function(q,k,w){var f=q("../utils"),d=q("rtcpeerconnection-shim");k.exports={shimGetUserMedia:q("./getusermedia"),shimPeerConnection:function(b){var a=f.detectBrowser(b);
if(b.RTCIceGatherer&&(b.RTCIceCandidate||(b.RTCIceCandidate=function(a){return a}),b.RTCSessionDescription||(b.RTCSessionDescription=function(a){return a}),15025>a.version)){var l=Object.getOwnPropertyDescriptor(b.MediaStreamTrack.prototype,"enabled");Object.defineProperty(b.MediaStreamTrack.prototype,"enabled",{set:function(a){l.set.call(this,a);var c=new Event("enabled");c.enabled=a;this.dispatchEvent(c)}})}!b.RTCRtpSender||"dtmf"in b.RTCRtpSender.prototype||Object.defineProperty(b.RTCRtpSender.prototype,
"dtmf",{get:function(){void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new b.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null));return this._dtmf}});b.RTCDtmfSender&&!b.RTCDTMFSender&&(b.RTCDTMFSender=b.RTCDtmfSender);b.RTCPeerConnection=d(b,a.version)},shimReplaceTrack:function(b){!b.RTCRtpSender||"replaceTrack"in b.RTCRtpSender.prototype||(b.RTCRtpSender.prototype.replaceTrack=b.RTCRtpSender.prototype.setTrack)}}},{"../utils":13,"./getusermedia":9,"rtcpeerconnection-shim":1}],
9:[function(q,k,w){k.exports=function(f){f=f&&f.navigator;var d=function(a){return{name:{PermissionDeniedError:"NotAllowedError"}[a.name]||a.name,message:a.message,constraint:a.constraint,toString:function(){return this.name}}},b=f.mediaDevices.getUserMedia.bind(f.mediaDevices);f.mediaDevices.getUserMedia=function(a){return b(a)["catch"](function(a){return Promise.reject(d(a))})}}},{}],10:[function(q,k,w){var f=q("../utils");k.exports={shimGetUserMedia:q("./getusermedia"),shimOnTrack:function(d){"object"!==
typeof d||!d.RTCPeerConnection||"ontrack"in d.RTCPeerConnection.prototype||Object.defineProperty(d.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(b){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly));this.addEventListener("track",this._ontrack=b);this.addEventListener("addstream",this._ontrackpoly=function(a){a.stream.getTracks().forEach(function(b){var c=new Event("track");c.track=b;c.receiver=
{track:b};c.transceiver={receiver:c.receiver};c.streams=[a.stream];this.dispatchEvent(c)}.bind(this))}.bind(this))}});"object"===typeof d&&d.RTCTrackEvent&&"receiver"in d.RTCTrackEvent.prototype&&!("transceiver"in d.RTCTrackEvent.prototype)&&Object.defineProperty(d.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(d){"object"===typeof d&&(!d.HTMLMediaElement||"srcObject"in d.HTMLMediaElement.prototype||Object.defineProperty(d.HTMLMediaElement.prototype,
"srcObject",{get:function(){return this.mozSrcObject},set:function(b){this.mozSrcObject=b}}))},shimPeerConnection:function(d){var b=f.detectBrowser(d);if("object"===typeof d&&(d.RTCPeerConnection||d.mozRTCPeerConnection)){d.RTCPeerConnection||(d.RTCPeerConnection=function(a,c){if(38>b.version&&a&&a.iceServers){for(var f=[],l=0;l<a.iceServers.length;l++){var p=a.iceServers[l];if(p.hasOwnProperty("urls"))for(var r=0;r<p.urls.length;r++){var x={url:p.urls[r]};0===p.urls[r].indexOf("turn")&&(x.username=
p.username,x.credential=p.credential);f.push(x)}else f.push(a.iceServers[l])}a.iceServers=f}return new d.mozRTCPeerConnection(a,c)},d.RTCPeerConnection.prototype=d.mozRTCPeerConnection.prototype,d.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(d.RTCPeerConnection,"generateCertificate",{get:function(){return d.mozRTCPeerConnection.generateCertificate}}),d.RTCSessionDescription=d.mozRTCSessionDescription,d.RTCIceCandidate=d.mozRTCIceCandidate);["setLocalDescription","setRemoteDescription",
"addIceCandidate"].forEach(function(a){var c=d.RTCPeerConnection.prototype[a];d.RTCPeerConnection.prototype[a]=function(){arguments[0]=new ("addIceCandidate"===a?d.RTCIceCandidate:d.RTCSessionDescription)(arguments[0]);return c.apply(this,arguments)}});var a=d.RTCPeerConnection.prototype.addIceCandidate;d.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?a.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var l=function(a){var c=new Map;Object.keys(a).forEach(function(b){c.set(b,
a[b]);c[b]=a[b]});return c},c={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=d.RTCPeerConnection.prototype.getStats;d.RTCPeerConnection.prototype.getStats=function(a,d,f){return r.apply(this,[a||null]).then(function(a){48>b.version&&(a=l(a));if(53>b.version&&!d)try{a.forEach(function(a){a.type=c[a.type]||a.type})}catch(u){if("TypeError"!==u.name)throw u;a.forEach(function(b,d){a.set(d,Object.assign({},
b,{type:c[b.type]||b.type}))})}return a}).then(d,f)}}},shimRemoveStream:function(d){!d.RTCPeerConnection||"removeStream"in d.RTCPeerConnection.prototype||(d.RTCPeerConnection.prototype.removeStream=function(b){var a=this;f.deprecated("removeStream","removeTrack");this.getSenders().forEach(function(d){d.track&&-1!==b.getTracks().indexOf(d.track)&&a.removeTrack(d)})})}}},{"../utils":13,"./getusermedia":11}],11:[function(q,k,w){var f=q("../utils"),d=f.log;k.exports=function(b){var a=f.detectBrowser(b),
l=b&&b.navigator;b=b&&b.MediaStreamTrack;var c=function(a){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[a.name]||a.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[a.message]||a.message,constraint:a.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},r=function(b,f,p){var r=function(a){if("object"!==
typeof a||a.require)return a;var c=[];Object.keys(a).forEach(function(b){if("require"!==b&&"advanced"!==b&&"mediaSource"!==b){var d=a[b]="object"===typeof a[b]?a[b]:{ideal:a[b]};void 0===d.min&&void 0===d.max&&void 0===d.exact||c.push(b);void 0!==d.exact&&("number"===typeof d.exact?d.min=d.max=d.exact:a[b]=d.exact,delete d.exact);if(void 0!==d.ideal){a.advanced=a.advanced||[];var f={};f[b]="number"===typeof d.ideal?{min:d.ideal,max:d.ideal}:d.ideal;a.advanced.push(f);delete d.ideal;Object.keys(d).length||
delete a[b]}}});c.length&&(a.require=c);return a};b=JSON.parse(JSON.stringify(b));38>a.version&&(d("spec: "+JSON.stringify(b)),b.audio&&(b.audio=r(b.audio)),b.video&&(b.video=r(b.video)),d("ff37: "+JSON.stringify(b)));return l.mozGetUserMedia(b,f,function(a){p(c(a))})},x=function(a){return new Promise(function(c,b){r(a,c,b)})};l.mediaDevices||(l.mediaDevices={getUserMedia:x,addEventListener:function(){},removeEventListener:function(){}});l.mediaDevices.enumerateDevices=l.mediaDevices.enumerateDevices||
function(){return new Promise(function(a){a([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})};if(41>a.version){var p=l.mediaDevices.enumerateDevices.bind(l.mediaDevices);l.mediaDevices.enumerateDevices=function(){return p().then(void 0,function(a){if("NotFoundError"===a.name)return[];throw a;})}}if(49>a.version){var k=l.mediaDevices.getUserMedia.bind(l.mediaDevices);l.mediaDevices.getUserMedia=function(a){return k(a).then(function(c){if(a.audio&&
!c.getAudioTracks().length||a.video&&!c.getVideoTracks().length)throw c.getTracks().forEach(function(a){a.stop()}),new DOMException("The object can not be found here.","NotFoundError");return c},function(a){return Promise.reject(c(a))})}}if(!(55<a.version&&"autoGainControl"in l.mediaDevices.getSupportedConstraints())){var v=function(a,c,b){c in a&&!(b in a)&&(a[b]=a[c],delete a[c])},u=l.mediaDevices.getUserMedia.bind(l.mediaDevices);l.mediaDevices.getUserMedia=function(a){"object"===typeof a&&"object"===
typeof a.audio&&(a=JSON.parse(JSON.stringify(a)),v(a.audio,"autoGainControl","mozAutoGainControl"),v(a.audio,"noiseSuppression","mozNoiseSuppression"));return u(a)};if(b&&b.prototype.getSettings){var q=b.prototype.getSettings;b.prototype.getSettings=function(){var a=q.apply(this,arguments);v(a,"mozAutoGainControl","autoGainControl");v(a,"mozNoiseSuppression","noiseSuppression");return a}}if(b&&b.prototype.applyConstraints){var w=b.prototype.applyConstraints;b.prototype.applyConstraints=function(a){"audio"===
this.kind&&"object"===typeof a&&(a=JSON.parse(JSON.stringify(a)),v(a,"autoGainControl","mozAutoGainControl"),v(a,"noiseSuppression","mozNoiseSuppression"));return w.apply(this,[a])}}}l.getUserMedia=function(c,b,d){if(44>a.version)return r(c,b,d);f.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia");l.mediaDevices.getUserMedia(c).then(b,d)}}},{"../utils":13}],12:[function(q,k,w){var f=q("../utils");k.exports={shimLocalStreamsAPI:function(d){if("object"===typeof d&&d.RTCPeerConnection){"getLocalStreams"in
d.RTCPeerConnection.prototype||(d.RTCPeerConnection.prototype.getLocalStreams=function(){this._localStreams||(this._localStreams=[]);return this._localStreams});"getStreamById"in d.RTCPeerConnection.prototype||(d.RTCPeerConnection.prototype.getStreamById=function(a){var b=null;this._localStreams&&this._localStreams.forEach(function(c){c.id===a&&(b=c)});this._remoteStreams&&this._remoteStreams.forEach(function(c){c.id===a&&(b=c)});return b});if(!("addStream"in d.RTCPeerConnection.prototype)){var b=
d.RTCPeerConnection.prototype.addTrack;d.RTCPeerConnection.prototype.addStream=function(a){this._localStreams||(this._localStreams=[]);-1===this._localStreams.indexOf(a)&&this._localStreams.push(a);var d=this;a.getTracks().forEach(function(c){b.call(d,c,a)})};d.RTCPeerConnection.prototype.addTrack=function(a,d){d&&(this._localStreams?-1===this._localStreams.indexOf(d)&&this._localStreams.push(d):this._localStreams=[d]);return b.call(this,a,d)}}"removeStream"in d.RTCPeerConnection.prototype||(d.RTCPeerConnection.prototype.removeStream=
function(a){this._localStreams||(this._localStreams=[]);var b=this._localStreams.indexOf(a);if(-1!==b){this._localStreams.splice(b,1);var c=this,d=a.getTracks();this.getSenders().forEach(function(a){-1!==d.indexOf(a.track)&&c.removeTrack(a)})}})}},shimRemoteStreamsAPI:function(d){"object"===typeof d&&d.RTCPeerConnection&&("getRemoteStreams"in d.RTCPeerConnection.prototype||(d.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),"onaddstream"in
d.RTCPeerConnection.prototype||Object.defineProperty(d.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(b){var a=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly));this.addEventListener("addstream",this._onaddstream=b);this.addEventListener("track",this._onaddstreampoly=function(b){b.streams.forEach(function(c){a._remoteStreams||(a._remoteStreams=[]);if(!(0<=a._remoteStreams.indexOf(c))){a._remoteStreams.push(c);
var b=new Event("addstream");b.stream=c;a.dispatchEvent(b)}})})}}))},shimCallbacksAPI:function(d){if("object"===typeof d&&d.RTCPeerConnection){d=d.RTCPeerConnection.prototype;var b=d.createOffer,a=d.createAnswer,f=d.setLocalDescription,c=d.setRemoteDescription,r=d.addIceCandidate;d.createOffer=function(a,c){var d=b.apply(this,[2<=arguments.length?arguments[2]:arguments[0]]);if(!c)return d;d.then(a,c);return Promise.resolve()};d.createAnswer=function(c,b){var d=a.apply(this,[2<=arguments.length?arguments[2]:
arguments[0]]);if(!b)return d;d.then(c,b);return Promise.resolve()};var k=function(a,c,b){a=f.apply(this,[a]);if(!b)return a;a.then(c,b);return Promise.resolve()};d.setLocalDescription=k;k=function(a,b,d){a=c.apply(this,[a]);if(!d)return a;a.then(b,d);return Promise.resolve()};d.setRemoteDescription=k;k=function(a,c,b){a=r.apply(this,[a]);if(!b)return a;a.then(c,b);return Promise.resolve()};d.addIceCandidate=k}},shimGetUserMedia:function(d){var b=d&&d.navigator;b.getUserMedia||(b.webkitGetUserMedia?
b.getUserMedia=b.webkitGetUserMedia.bind(b):b.mediaDevices&&b.mediaDevices.getUserMedia&&(b.getUserMedia=function(a,d,c){b.mediaDevices.getUserMedia(a).then(d,c)}.bind(b)))},shimRTCIceServerUrls:function(d){var b=d.RTCPeerConnection;d.RTCPeerConnection=function(a,d){if(a&&a.iceServers){for(var c=[],l=0;l<a.iceServers.length;l++){var k=a.iceServers[l];!k.hasOwnProperty("urls")&&k.hasOwnProperty("url")?(f.deprecated("RTCIceServer.url","RTCIceServer.urls"),k=JSON.parse(JSON.stringify(k)),k.urls=k.url,
delete k.url,c.push(k)):c.push(a.iceServers[l])}a.iceServers=c}return new b(a,d)};d.RTCPeerConnection.prototype=b.prototype;"generateCertificate"in d.RTCPeerConnection&&Object.defineProperty(d.RTCPeerConnection,"generateCertificate",{get:function(){return b.generateCertificate}})},shimTrackEventTransceiver:function(d){"object"===typeof d&&d.RTCPeerConnection&&"receiver"in d.RTCTrackEvent.prototype&&!d.RTCTransceiver&&Object.defineProperty(d.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},
shimCreateOfferLegacy:function(d){var b=d.RTCPeerConnection.prototype.createOffer;d.RTCPeerConnection.prototype.createOffer=function(a){if(a){"undefined"!==typeof a.offerToReceiveAudio&&(a.offerToReceiveAudio=!!a.offerToReceiveAudio);var d=this.getTransceivers().find(function(a){return a.sender.track&&"audio"===a.sender.track.kind});!1===a.offerToReceiveAudio&&d?"sendrecv"===d.direction?d.setDirection?d.setDirection("sendonly"):d.direction="sendonly":"recvonly"===d.direction&&(d.setDirection?d.setDirection("inactive"):
d.direction="inactive"):!0!==a.offerToReceiveAudio||d||this.addTransceiver("audio");"undefined"!==typeof a.offerToReceiveAudio&&(a.offerToReceiveVideo=!!a.offerToReceiveVideo);d=this.getTransceivers().find(function(a){return a.sender.track&&"video"===a.sender.track.kind});!1===a.offerToReceiveVideo&&d?"sendrecv"===d.direction?d.setDirection("sendonly"):"recvonly"===d.direction&&d.setDirection("inactive"):!0!==a.offerToReceiveVideo||d||this.addTransceiver("video")}return b.apply(this,arguments)}}}},
{"../utils":13}],13:[function(q,k,w){function f(a,b,c){return(a=a.match(b))&&a.length>=c&&parseInt(a[c],10)}var d=!0,b=!0;k.exports={extractVersion:f,wrapPeerConnectionEvent:function(a,b,c){if(a.RTCPeerConnection){a=a.RTCPeerConnection.prototype;var d=a.addEventListener;a.addEventListener=function(a,f){if(a!==b)return d.apply(this,arguments);var l=function(a){f(c(a))};this._eventMap=this._eventMap||{};this._eventMap[f]=l;return d.apply(this,[a,l])};var f=a.removeEventListener;a.removeEventListener=
function(a,c){if(a!==b||!this._eventMap||!this._eventMap[c])return f.apply(this,arguments);var d=this._eventMap[c];delete this._eventMap[c];return f.apply(this,[a,d])};Object.defineProperty(a,"on"+b,{get:function(){return this["_on"+b]},set:function(a){this["_on"+b]&&(this.removeEventListener(b,this["_on"+b]),delete this["_on"+b]);a&&this.addEventListener(b,this["_on"+b]=a)}})}},disableLog:function(a){return"boolean"!==typeof a?Error("Argument type: "+typeof a+". Please use a boolean."):(d=a)?"adapter.js logging disabled":
"adapter.js logging enabled"},disableWarnings:function(a){if("boolean"!==typeof a)return Error("Argument type: "+typeof a+". Please use a boolean.");b=!a;return"adapter.js deprecation warnings "+(a?"disabled":"enabled")},log:function(){"object"!==typeof window||d||"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)},deprecated:function(a,d){b&&console.warn(a+" is deprecated, please use "+d+" instead.")},detectBrowser:function(a){var b=a&&a.navigator,
c={browser:null,version:null};if("undefined"===typeof a||!a.navigator)return c.browser="Not a browser.",c;b.mozGetUserMedia?(c.browser="firefox",c.version=f(b.userAgent,/Firefox\/(\d+)\./,1)):b.webkitGetUserMedia?(c.browser="chrome",c.version=f(b.userAgent,/Chrom(e|ium)\/(\d+)\./,2)):b.mediaDevices&&b.userAgent.match(/Edge\/(\d+).(\d+)$/)?(c.browser="edge",c.version=f(b.userAgent,/Edge\/(\d+).(\d+)$/,2)):a.RTCPeerConnection&&b.userAgent.match(/AppleWebKit\/(\d+)\./)?(c.browser="safari",c.version=
f(b.userAgent,/AppleWebKit\/(\d+)\./,1)):c.browser="Not a supported browser.";return c}}},{}]},{},[3])(3)});!function(n,q){!function(k,q,f){function d(a){var b=q[a];return b||k[a][0].call(b=q[a]={exports:{}},d,b,b.exports),b.exports}var b=n.protobuf=d(f[0]);"function"==typeof define&&define.amd&&define(["long"],function(a){return a&&a.isLong&&(b.util.Long=a,b.configure()),b});"object"==typeof module&&module&&module.exports&&(module.exports=b)}({1:[function(k,n){n.exports=function(f,d){for(var b=Array(arguments.length-1),a=0,l=2,c=!0;l<arguments.length;)b[a++]=arguments[l++];return new Promise(function(l,
k){b[a]=function(a){if(c)if(c=!1,a)k(a);else{for(var b=Array(arguments.length-1),d=0;d<b.length;)b[d++]=arguments[d];l.apply(null,b)}};try{f.apply(d||null,b)}catch(p){c&&(c=!1,k(p))}})}},{}],2:[function(k,n,f){f.length=function(a){var b=a.length;if(!b)return 0;for(var c=0;1<--b%4&&"="===a.charAt(b);)++c;return Math.ceil(3*a.length)/4-c};var d=Array(64),b=Array(123);for(k=0;64>k;)b[d[k]=26>k?k+65:52>k?k+71:62>k?k-4:k-59|43]=k++;f.encode=function(a,b,c){for(var f,l=null,p=[],k=0,v=0;b<c;){var u=a[b++];
switch(v){case 0:p[k++]=d[u>>2];f=(3&u)<<4;v=1;break;case 1:p[k++]=d[f|u>>4];f=(15&u)<<2;v=2;break;case 2:p[k++]=d[f|u>>6],p[k++]=d[63&u],v=0}8191<k&&((l||(l=[])).push(String.fromCharCode.apply(String,p)),k=0)}return v&&(p[k++]=d[f],p[k++]=61,1===v&&(p[k++]=61)),l?(k&&l.push(String.fromCharCode.apply(String,p.slice(0,k))),l.join("")):String.fromCharCode.apply(String,p.slice(0,k))};f.decode=function(a,d,c){for(var f,l=c,p=0,k=0;k<a.length;){var v=a.charCodeAt(k++);if(61===v&&1<p)break;if((v=b[v])===
q)throw Error("invalid encoding");switch(p){case 0:f=v;p=1;break;case 1:d[c++]=f<<2|(48&v)>>4;f=v;p=2;break;case 2:d[c++]=(15&f)<<4|(60&v)>>2;f=v;p=3;break;case 3:d[c++]=(3&f)<<6|v,p=0}}if(1===p)throw Error("invalid encoding");return c-l};f.test=function(a){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(a)}},{}],3:[function(k,n){function f(d,b){function a(b){if("string"!=typeof b){var d=l();if(f.verbose&&console.log("codegen: "+d),d="return "+d,b){for(var p=Object.keys(b),
r=Array(p.length+1),k=Array(p.length),u=0;u<p.length;)r[u]=p[u],k[u]=b[p[u++]];return r[u]=d,Function.apply(null,r).apply(null,k)}return Function(d)()}for(var n=Array(arguments.length-1),q=0;q<n.length;)n[q]=arguments[++q];if(q=0,b=b.replace(/%([%dfijs])/g,function(a,c){var b=n[q++];switch(c){case "d":case "f":return+b+"";case "i":return Math.floor(b)+"";case "j":return JSON.stringify(b);case "s":return b+""}return"%"}),q!==n.length)throw Error("parameter count mismatch");return c.push(b),a}function l(a){return"function "+
(a||b||"")+"("+(d&&d.join(",")||"")+"){\n  "+c.join("\n  ")+"\n}"}"string"==typeof d&&(b=d,d=q);var c=[];return a.toString=l,a}n.exports=f;f.verbose=!1},{}],4:[function(k,n){function f(){this.a={}}n.exports=f;f.prototype.on=function(d,b,a){return(this.a[d]||(this.a[d]=[])).push({fn:b,ctx:a||this}),this};f.prototype.off=function(d,b){if(d===q)this.a={};else if(b===q)this.a[d]=[];else for(var a=this.a[d],f=0;f<a.length;)a[f].fn===b?a.splice(f,1):++f;return this};f.prototype.emit=function(d){var b=this.a[d];
if(b){for(var a=[],f=1;f<arguments.length;)a.push(arguments[f++]);for(f=0;f<b.length;)b[f].fn.apply(b[f++].ctx,a)}return this}},{}],5:[function(k,n){function f(a,l,c){return"function"==typeof l?(c=l,l={}):l||(l={}),c?!l.xhr&&b&&b.readFile?b.readFile(a,function(b,d){return b&&"undefined"!=typeof XMLHttpRequest?f.xhr(a,l,c):b?c(b):c(null,l.binary?d:d.toString("utf8"))}):f.xhr(a,l,c):d(f,this,a,l)}n.exports=f;var d=k(1),b=k(7)("fs");f.xhr=function(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=
function(){if(4!==d.readyState)return q;if(0!==d.status&&200!==d.status)return c(Error("status "+d.status));if(b.binary){var a=d.response;if(!a){a=[];for(var f=0;f<d.responseText.length;++f)a.push(255&d.responseText.charCodeAt(f))}return c(null,"undefined"!=typeof Uint8Array?new Uint8Array(a):a)}return c(null,d.responseText)};b.binary&&("overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),d.responseType="arraybuffer");d.open("GET",a);d.send()}},{1:1,7:7}],6:[function(k,
n){function f(c){return"undefined"!=typeof Float32Array?function(){function a(a,c,b){l[0]=a;c[b]=k[0];c[b+1]=k[1];c[b+2]=k[2];c[b+3]=k[3]}function b(a,c,b){l[0]=a;c[b]=k[3];c[b+1]=k[2];c[b+2]=k[1];c[b+3]=k[0]}function d(a,c){return k[0]=a[c],k[1]=a[c+1],k[2]=a[c+2],k[3]=a[c+3],l[0]}function f(a,c){return k[3]=a[c],k[2]=a[c+1],k[1]=a[c+2],k[0]=a[c+3],l[0]}var l=new Float32Array([-0]),k=new Uint8Array(l.buffer),n=128===k[3];c.writeFloatLE=n?a:b;c.writeFloatBE=n?b:a;c.readFloatLE=n?d:f;c.readFloatBE=
n?f:d}():function(){function f(a,c,b,d){var f=0>c?1:0;if(f&&(c=-c),0===c)a(0<1/c?0:2147483648,b,d);else if(isNaN(c))a(2143289344,b,d);else if(3.4028234663852886E38<c)a((f<<31|2139095040)>>>0,b,d);else if(1.1754943508222875E-38>c)a((f<<31|Math.round(c/1.401298464324817E-45))>>>0,b,d);else{var l=Math.floor(Math.log(c)/Math.LN2);a((f<<31|l+127<<23|8388607&Math.round(c*Math.pow(2,-l)*8388608))>>>0,b,d)}}function k(a,c,b){b=a(c,b);a=2*(b>>31)+1;c=b>>>23&255;b&=8388607;return 255===c?b?NaN:1/0*a:0===c?
1.401298464324817E-45*a*b:a*Math.pow(2,c-150)*(b+8388608)}c.writeFloatLE=f.bind(null,d);c.writeFloatBE=f.bind(null,b);c.readFloatLE=k.bind(null,a);c.readFloatBE=k.bind(null,l)}(),"undefined"!=typeof Float64Array?function(){function a(a,c,b){l[0]=a;c[b]=k[0];c[b+1]=k[1];c[b+2]=k[2];c[b+3]=k[3];c[b+4]=k[4];c[b+5]=k[5];c[b+6]=k[6];c[b+7]=k[7]}function b(a,c,b){l[0]=a;c[b]=k[7];c[b+1]=k[6];c[b+2]=k[5];c[b+3]=k[4];c[b+4]=k[3];c[b+5]=k[2];c[b+6]=k[1];c[b+7]=k[0]}function d(a,c){return k[0]=a[c],k[1]=a[c+
1],k[2]=a[c+2],k[3]=a[c+3],k[4]=a[c+4],k[5]=a[c+5],k[6]=a[c+6],k[7]=a[c+7],l[0]}function f(a,c){return k[7]=a[c],k[6]=a[c+1],k[5]=a[c+2],k[4]=a[c+3],k[3]=a[c+4],k[2]=a[c+5],k[1]=a[c+6],k[0]=a[c+7],l[0]}var l=new Float64Array([-0]),k=new Uint8Array(l.buffer),n=128===k[7];c.writeDoubleLE=n?a:b;c.writeDoubleBE=n?b:a;c.readDoubleLE=n?d:f;c.readDoubleBE=n?f:d}():function(){function f(a,c,b,d,f,l){var p=0>d?1:0;if(p&&(d=-d),0===d)a(0,f,l+c),a(0<1/d?0:2147483648,f,l+b);else if(isNaN(d))a(0,f,l+c),a(2146959360,
f,l+b);else if(1.7976931348623157E308<d)a(0,f,l+c),a((p<<31|2146435072)>>>0,f,l+b);else if(2.2250738585072014E-308>d)d/=4.9E-324,a(d>>>0,f,l+c),a((p<<31|d/4294967296)>>>0,f,l+b);else{var k=Math.floor(Math.log(d)/Math.LN2);1024===k&&(k=1023);d*=Math.pow(2,-k);a(4503599627370496*d>>>0,f,l+c);a((p<<31|k+1023<<20|1048576*d&1048575)>>>0,f,l+b)}}function k(a,c,b,d,f){c=a(d,f+c);d=a(d,f+b);a=2*(d>>31)+1;b=d>>>20&2047;c=4294967296*(1048575&d)+c;return 2047===b?c?NaN:1/0*a:0===b?4.9E-324*a*c:a*Math.pow(2,
b-1075)*(c+4503599627370496)}c.writeDoubleLE=f.bind(null,d,0,4);c.writeDoubleBE=f.bind(null,b,4,0);c.readDoubleLE=k.bind(null,a,0,4);c.readDoubleBE=k.bind(null,l,4,0)}(),c}function d(a,b,d){b[d]=255&a;b[d+1]=a>>>8&255;b[d+2]=a>>>16&255;b[d+3]=a>>>24}function b(a,b,d){b[d]=a>>>24;b[d+1]=a>>>16&255;b[d+2]=a>>>8&255;b[d+3]=255&a}function a(a,b){return(a[b]|a[b+1]<<8|a[b+2]<<16|a[b+3]<<24)>>>0}function l(a,b){return(a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3])>>>0}n.exports=f(f)},{}],7:[function(k,n,f){n.exports=
function(d){try{var b=eval("quire".replace(/^/,"re"))(d);if(b&&(b.length||Object.keys(b).length))return b}catch(a){}return null}},{}],8:[function(k,n,f){var d=f.isAbsolute=function(a){return/^(?:\/|\w+:)/.test(a)},b=f.normalize=function(a){a=a.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var b=a.split("/");a=d(a);var c="";a&&(c=b.shift()+"/");for(var f=0;f<b.length;)".."===b[f]?0<f&&".."!==b[f-1]?b.splice(--f,2):a?b.splice(f,1):++f:"."===b[f]?b.splice(f,1):++f;return c+b.join("/")};f.resolve=function(a,
f,c){return c||(f=b(f)),d(f)?f:(c||(a=b(a)),(a=a.replace(/(?:\/|^)[^\/]+$/,"")).length?b(a+"/"+f):f)}},{}],9:[function(k,n){n.exports=function(f,d,b){var a=b||8192,l=a>>>1,c=null,k=a;return function(b){if(1>b||b>l)return f(b);k+b>a&&(c=f(a),k=0);b=d.call(c,k,k+=b);return 7&k&&(k=1+(7|k)),b}}},{}],10:[function(k,n,f){f.length=function(d){for(var b=0,a,f=0;f<d.length;++f)a=d.charCodeAt(f),128>a?b+=1:2048>a?b+=2:55296==(64512&a)&&56320==(64512&d.charCodeAt(f+1))?(++f,b+=4):b+=3;return b};f.read=function(d,
b,a){if(1>a-b)return"";for(var f,c=null,k=[],n=0;b<a;)f=d[b++],128>f?k[n++]=f:191<f&&224>f?k[n++]=(31&f)<<6|63&d[b++]:239<f&&365>f?(f=((7&f)<<18|(63&d[b++])<<12|(63&d[b++])<<6|63&d[b++])-65536,k[n++]=55296+(f>>10),k[n++]=56320+(1023&f)):k[n++]=(15&f)<<12|(63&d[b++])<<6|63&d[b++],8191<n&&((c||(c=[])).push(String.fromCharCode.apply(String,k)),n=0);return c?(n&&c.push(String.fromCharCode.apply(String,k.slice(0,n))),c.join("")):String.fromCharCode.apply(String,k.slice(0,n))};f.write=function(d,b,a){for(var f,
c,k=a,n=0;n<d.length;++n)f=d.charCodeAt(n),128>f?b[a++]=f:2048>f?(b[a++]=f>>6|192,b[a++]=63&f|128):55296==(64512&f)&&56320==(64512&(c=d.charCodeAt(n+1)))?(f=65536+((1023&f)<<10)+(1023&c),++n,b[a++]=f>>18|240,b[a++]=f>>12&63|128,b[a++]=f>>6&63|128,b[a++]=63&f|128):(b[a++]=f>>12|224,b[a++]=f>>6&63|128,b[a++]=63&f|128);return a-k}},{}],11:[function(k,n){function f(a,b){d.test(a)||(a="google/protobuf/"+a+".proto",b={nested:{google:{nested:{protobuf:{nested:b}}}}});f[a]=b}n.exports=f;var d=/\/|\./;f("any",
{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var b;f("duration",{Duration:b={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});f("timestamp",{Timestamp:b});f("empty",{Empty:{fields:{}}});f("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:"nullValue numberValue stringValue boolValue structValue listValue".split(" ")}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",
id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});f("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",
id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});f.get=function(a){return f[a]||null}},{}],12:[function(k,n,f){function d(c,b,d,f){if(b.resolvedType)if(b.resolvedType instanceof a){c("switch(d%s){",f);d=b.resolvedType.values;for(var l=Object.keys(d),p=0;p<l.length;++p)b.repeated&&d[l[p]]===b.typeDefault&&c("default:"),c("case%j:",l[p])("case %i:",d[l[p]])("m%s=%j",f,d[l[p]])("break");c("}")}else c('if(typeof d%s!=="object")',
f)("throw TypeError(%j)",b.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",f,d,f);else switch(d=!1,b.type){case "double":case "float":c("m%s=Number(d%s)",f,f);break;case "uint32":case "fixed32":c("m%s=d%s>>>0",f,f);break;case "int32":case "sint32":case "sfixed32":c("m%s=d%s|0",f,f);break;case "uint64":d=!0;case "int64":case "sint64":case "fixed64":case "sfixed64":c("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",f,f,d)('else if(typeof d%s==="string")',f)("m%s=parseInt(d%s,10)",
f,f)('else if(typeof d%s==="number")',f)("m%s=d%s",f,f)('else if(typeof d%s==="object")',f)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",f,f,f,d?"true":"");break;case "bytes":c('if(typeof d%s==="string")',f)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",f,f,f)("else if(d%s.length)",f)("m%s=d%s",f,f);break;case "string":c("m%s=String(d%s)",f,f);break;case "bool":c("m%s=Boolean(d%s)",f,f)}return c}function b(c,b,d,f){if(b.resolvedType)b.resolvedType instanceof
a?c("d%s=o.enums===String?types[%i].values[m%s]:m%s",f,d,f,f):c("d%s=types[%i].toObject(m%s,o)",f,d,f);else switch(d=!1,b.type){case "double":case "float":c("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",f,f,f,f);break;case "uint64":d=!0;case "int64":case "sint64":case "fixed64":case "sfixed64":c('if(typeof m%s==="number")',f)("d%s=o.longs===String?String(m%s):m%s",f,f,f)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",
f,f,f,f,d?"true":"",f);break;case "bytes":c("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",f,f,f,f,f);break;default:c("d%s=m%s",f,f)}return c}var a=k(15),l=k(37);f.fromObject=function(c){var b=c.fieldsArray;c=l.codegen(["d"],c.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!b.length)return c("return new this.ctor");c("var m=new this.ctor");for(var f=0;f<b.length;++f){var p=b[f].resolve(),k=l.safeProp(p.name);p.map?
(c("if(d%s){",k)('if(typeof d%s!=="object")',k)("throw TypeError(%j)",p.fullName+": object expected")("m%s={}",k)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",k),d(c,p,f,k+"[ks[i]]")("}")("}")):p.repeated?(c("if(d%s){",k)("if(!Array.isArray(d%s))",k)("throw TypeError(%j)",p.fullName+": array expected")("m%s=[]",k)("for(var i=0;i<d%s.length;++i){",k),d(c,p,f,k+"[i]")("}")("}")):(p.resolvedType instanceof a||c("if(d%s!=null){",k),d(c,p,f,k),p.resolvedType instanceof a||c("}"))}return c("return m")};
f.toObject=function(a){var c=a.fieldsArray.slice().sort(l.compareFieldsById);if(!c.length)return l.codegen()("return {}");for(var d=l.codegen(["m","o"],a.name+"$toObject")("if(!o)")("o={}")("var d={}"),f=[],k=[],n=[],u=0;u<c.length;++u)c[u].partOf||(c[u].resolve().repeated?f:c[u].map?k:n).push(c[u]);n=!1;for(u=0;u<c.length;++u){f=c[u];var q=a.b.indexOf(f);k=l.safeProp(f.name);f.map?(n||(n=!0,d("var ks2")),d("if(m%s&&(ks2=Object.keys(m%s)).length){",k,k)("d%s={}",k)("for(var j=0;j<ks2.length;++j){"),
b(d,f,q,k+"[ks2[j]]")("}")):f.repeated?(d("if(m%s&&m%s.length){",k,k)("d%s=[]",k)("for(var j=0;j<m%s.length;++j){",k),b(d,f,q,k+"[j]")("}")):(d("if(m%s!=null&&m.hasOwnProperty(%j)){",k,f.name),b(d,f,q,k),f.partOf&&d("if(o.oneofs)")("d%s=%j",l.safeProp(f.partOf.name),f.name));d("}")}return d("return d")}},{15:15,37:37}],13:[function(k,n){n.exports=function(a){var l=b.codegen(["r","l"],a.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+
(a.fieldsArray.filter(function(a){return a.map}).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");a.group&&l("if((t&7)===4)")("break");l("switch(t>>>3){");for(var c=0;c<a.fieldsArray.length;++c){var k=a.b[c].resolve(),n=k.resolvedType instanceof f?"int32":k.type,p="m"+b.safeProp(k.name);l("case %i:",k.id);k.map?(l("r.skip().pos++")("if(%s===util.emptyObject)",p)("%s={}",p)("k=r.%s()",k.keyType)("r.pos++"),d["long"][k.keyType]!==q?d.basic[n]===q?l('%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())',
p,c):l('%s[typeof k==="object"?util.longToHash(k):k]=r.%s()',p,n):d.basic[n]===q?l("%s[k]=types[%i].decode(r,r.uint32())",p,c):l("%s[k]=r.%s()",p,n)):k.repeated?(l("if(!(%s&&%s.length))",p,p)("%s=[]",p),d.packed[n]!==q&&l("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",p,n)("}else"),d.basic[n]===q?l(k.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",p,c):l("%s.push(r.%s())",p,n)):d.basic[n]===q?l(k.resolvedType.group?"%s=types[%i].decode(r)":
"%s=types[%i].decode(r,r.uint32())",p,c):l("%s=r.%s()",p,n);l("break")}l("default:")("r.skipType(t&7)")("break")("}")("}");for(c=0;c<a.b.length;++c)k=a.b[c],k.required&&l("if(!m.hasOwnProperty(%j))",k.name)("throw util.ProtocolError(%j,{instance:m})","missing required '"+k.name+"'");return l("return m")};var f=k(15),d=k(36),b=k(37)},{15:15,36:36,37:37}],14:[function(k,n){function f(a,c,b,d){return c.resolvedType.group?a("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",b,d,(c.id<<3|3)>>>0,(c.id<<3|4)>>>
0):a("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",b,d,(c.id<<3|2)>>>0)}n.exports=function(l){var c,k=a.codegen(["m","w"],l.name+"$encode")("if(!w)")("w=Writer.create()"),n=l.fieldsArray.slice().sort(a.compareFieldsById);for(c=0;c<n.length;++c){var p=n[c].resolve(),y=l.b.indexOf(p),v=p.resolvedType instanceof d?"int32":p.type,u=b.basic[v];var w="m"+a.safeProp(p.name);p.map?(k("if(%s!=null&&m.hasOwnProperty(%j)){",w,p.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",w)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",
(p.id<<3|2)>>>0,8|b.mapKey[p.keyType],p.keyType),u===q?k("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",y,w):k(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|u,v,w),k("}")("}")):p.repeated?(k("if(%s!=null&&%s.length){",w,w),p.packed&&b.packed[v]!==q?k("w.uint32(%i).fork()",(p.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",w)("w.%s(%s[i])",v,w)("w.ldelim()"):(k("for(var i=0;i<%s.length;++i)",w),u===q?f(k,p,y,w+"[i]"):k("w.uint32(%i).%s(%s[i])",(p.id<<3|u)>>>0,v,w)),k("}")):(p.optional&&
k("if(%s!=null&&m.hasOwnProperty(%j))",w,p.name),u===q?f(k,p,y,w):k("w.uint32(%i).%s(%s)",(p.id<<3|u)>>>0,v,w))}return k("return w")};var d=k(15),b=k(36),a=k(37)},{15:15,36:36,37:37}],15:[function(k,n){function f(a,b,c){if(d.call(this,a,c),b&&"object"!=typeof b)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comments={},b)for(a=Object.keys(b),c=0;c<a.length;++c)"number"==typeof b[a[c]]&&(this.valuesById[this.values[a[c]]=b[a[c]]]=a[c])}
n.exports=f;var d=k(24);((f.prototype=Object.create(d.prototype)).constructor=f).className="Enum";var b=k(37);f.fromJSON=function(a,b){return new f(a,b.values,b.options)};f.prototype.toJSON=function(){return b.toObject(["options",this.options,"values",this.values])};f.prototype.add=function(a,d,c){if(!b.isString(a))throw TypeError("name must be a string");if(!b.isInteger(d))throw TypeError("id must be an integer");if(this.values[a]!==q)throw Error("duplicate name");if(this.valuesById[d]!==q){if(!this.options||
!this.options.allow_alias)throw Error("duplicate id");this.values[a]=d}else this.valuesById[this.values[a]=d]=a;return this.comments[a]=c||null,this};f.prototype.remove=function(a){if(!b.isString(a))throw TypeError("name must be a string");var d=this.values[a];if(d===q)throw Error("name does not exist");return delete this.valuesById[d],delete this.values[a],delete this.comments[a],this}},{24:24,37:37}],16:[function(k,n){function f(a,b,f,k,n,w){if(c.isObject(k)?(w=k,k=n=q):c.isObject(n)&&(w=n,n=q),
d.call(this,a,w),!c.isInteger(b)||0>b)throw TypeError("id must be a non-negative integer");if(!c.isString(f))throw TypeError("type must be a string");if(k!==q&&!r.test(k=(""+k).toLowerCase()))throw TypeError("rule must be a string rule");if(n!==q&&!c.isString(n))throw TypeError("extend must be a string");this.rule=k&&"optional"!==k?k:q;this.type=f;this.id=b;this.extend=n||q;this.required="required"===k;this.optional=!this.required;this.repeated="repeated"===k;this.map=!1;this.defaultValue=this.typeDefault=
this.partOf=this.message=null;this["long"]=!!c.Long&&l["long"][f]!==q;this.bytes="bytes"===f;this.c=this.declaringField=this.extensionField=this.resolvedType=null}n.exports=f;var d=k(24);((f.prototype=Object.create(d.prototype)).constructor=f).className="Field";var b,a=k(15),l=k(36),c=k(37),r=/^required|optional|repeated$/;f.fromJSON=function(a,c){return new f(a,c.id,c.type,c.rule,c.extend,c.options)};Object.defineProperty(f.prototype,"packed",{get:function(){return null===this.c&&(this.c=!1!==this.getOption("packed")),
this.c}});f.prototype.setOption=function(a,c,b){return"packed"===a&&(this.c=null),d.prototype.setOption.call(this,a,c,b)};f.prototype.toJSON=function(){return c.toObject(["rule","optional"!==this.rule&&this.rule||q,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options])};f.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=l.defaults[this.type])===q&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),
this.resolvedType instanceof b?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options["default"]&&(this.typeDefault=this.options["default"],this.resolvedType instanceof a&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(this.options.packed===q||!this.resolvedType||this.resolvedType instanceof a)||delete this.options.packed,
Object.keys(this.options).length||(this.options=q)),this["long"])this.typeDefault=c.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var f;c.base64.test(this.typeDefault)?c.base64.decode(this.typeDefault,f=c.newBuffer(c.base64.length(this.typeDefault)),0):c.utf8.write(this.typeDefault,f=c.newBuffer(c.utf8.length(this.typeDefault)),0);this.typeDefault=f}return this.map?this.defaultValue=
c.emptyObject:this.repeated?this.defaultValue=c.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof b&&(this.parent.ctor.prototype[this.name]=this.defaultValue),d.prototype.resolve.call(this)};f.d=function(a,b,d,l){return"function"==typeof b?b=c.decorateType(b).name:b&&"object"==typeof b&&(b=c.decorateEnum(b).name),function(k,p){c.decorateType(k.constructor).add(new f(p,a,b,d,{"default":l}))}};f.e=function(a){b=a}},{15:15,24:24,36:36,37:37}],17:[function(k,n){var f=n.exports=k(18);
f.build="light";f.load=function(d,b,a){return"function"==typeof b?(a=b,b=new f.Root):b||(b=new f.Root),b.load(d,a)};f.loadSync=function(d,b){return b||(b=new f.Root),b.loadSync(d)};f.encoder=k(14);f.decoder=k(13);f.verifier=k(40);f.converter=k(12);f.ReflectionObject=k(24);f.Namespace=k(23);f.Root=k(29);f.Enum=k(15);f.Type=k(35);f.Field=k(16);f.OneOf=k(25);f.MapField=k(20);f.Service=k(33);f.Method=k(22);f.Message=k(21);f.wrappers=k(41);f.types=k(36);f.util=k(37);f.ReflectionObject.e(f.Root);f.Namespace.e(f.Type,
f.Service);f.Root.e(f.Type);f.Field.e(f.Type)},{12:12,13:13,14:14,15:15,16:16,18:18,20:20,21:21,22:22,23:23,24:24,25:25,29:29,33:33,35:35,36:36,37:37,40:40,41:41}],18:[function(k,n,f){function d(){b.Reader.e(b.BufferReader);b.util.e()}var b=f;b.build="minimal";b.Writer=k(42);b.BufferWriter=k(43);b.Reader=k(27);b.BufferReader=k(28);b.util=k(39);b.rpc=k(31);b.roots=k(30);b.configure=d;b.Writer.e(b.BufferWriter);d()},{27:27,28:28,30:30,31:31,39:39,42:42,43:43}],19:[function(k,n){var f=n.exports=k(17);
f.build="full";f.tokenize=k(34);f.parse=k(26);f.common=k(11);f.Root.e(f.Type,f.parse,f.common)},{11:11,17:17,26:26,34:34}],20:[function(k,n){function f(b,c,f,k,p){if(d.call(this,b,c,k,p),!a.isString(f))throw TypeError("keyType must be a string");this.keyType=f;this.resolvedKeyType=null;this.map=!0}n.exports=f;var d=k(16);((f.prototype=Object.create(d.prototype)).constructor=f).className="MapField";var b=k(36),a=k(37);f.fromJSON=function(a,c){return new f(a,c.id,c.keyType,c.type,c.options)};f.prototype.toJSON=
function(){return a.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options])};f.prototype.resolve=function(){if(this.resolved)return this;if(b.mapKey[this.keyType]===q)throw Error("invalid key type: "+this.keyType);return d.prototype.resolve.call(this)};f.d=function(b,c,d){return"function"==typeof d?d=a.decorateType(d).name:d&&"object"==typeof d&&(d=a.decorateEnum(d).name),function(l,k){a.decorateType(l.constructor).add(new f(k,b,c,d))}}},{16:16,
36:36,37:37}],21:[function(k,n){function f(b){if(b)for(var a=Object.keys(b),d=0;d<a.length;++d)this[a[d]]=b[a[d]]}n.exports=f;var d=k(39);f.create=function(b){return this.$type.create(b)};f.encode=function(b,a){return this.$type.encode(b,a)};f.encodeDelimited=function(b,a){return this.$type.encodeDelimited(b,a)};f.decode=function(b){return this.$type.decode(b)};f.decodeDelimited=function(b){return this.$type.decodeDelimited(b)};f.verify=function(b){return this.$type.verify(b)};f.fromObject=function(b){return this.$type.fromObject(b)};
f.toObject=function(b,a){return this.$type.toObject(b,a)};f.prototype.toJSON=function(){return this.$type.toObject(this,d.toJSONOptions)}},{39:39}],22:[function(k,n){function f(a,f,c,k,n,p,y){if(b.isObject(n)?(y=n,n=p=q):b.isObject(p)&&(y=p,p=q),f!==q&&!b.isString(f))throw TypeError("type must be a string");if(!b.isString(c))throw TypeError("requestType must be a string");if(!b.isString(k))throw TypeError("responseType must be a string");d.call(this,a,y);this.type=f||"rpc";this.requestType=c;this.requestStream=
!!n||q;this.responseType=k;this.responseStream=!!p||q;this.resolvedResponseType=this.resolvedRequestType=null}n.exports=f;var d=k(24);((f.prototype=Object.create(d.prototype)).constructor=f).className="Method";var b=k(37);f.fromJSON=function(a,b){return new f(a,b.type,b.requestType,b.responseType,b.requestStream,b.responseStream,b.options)};f.prototype.toJSON=function(){return b.toObject(["type","rpc"!==this.type&&this.type||q,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",
this.responseType,"responseStream",this.responseStream,"options",this.options])};f.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),d.prototype.resolve.call(this))}},{24:24,37:37}],23:[function(k,n){function f(a){if(!a||!a.length)return q;for(var c={},b=0;b<a.length;++b)c[a[b].name]=a[b].toJSON();return c}function d(a,c){b.call(this,a,c);this.nested=q;this.f=
null}n.exports=d;var b=k(24);((d.prototype=Object.create(b.prototype)).constructor=d).className="Namespace";var a,l,c=k(15),r=k(16),x=k(37);d.fromJSON=function(a,c){return(new d(a,c.options)).addJSON(c.nested)};d.arrayToJSON=f;Object.defineProperty(d.prototype,"nestedArray",{get:function(){return this.f||(this.f=x.toArray(this.nested))}});d.prototype.toJSON=function(){return x.toObject(["options",this.options,"nested",f(this.nestedArray)])};d.prototype.addJSON=function(b){if(b)for(var f,k=Object.keys(b),
p=0;p<k.length;++p)f=b[k[p]],this.add((f.fields!==q?a.fromJSON:f.values!==q?c.fromJSON:f.methods!==q?l.fromJSON:f.id!==q?r.fromJSON:d.fromJSON)(k[p],f));return this};d.prototype.get=function(a){return this.nested&&this.nested[a]||null};d.prototype.getEnum=function(a){if(this.nested&&this.nested[a]instanceof c)return this.nested[a].values;throw Error("no such enum");};d.prototype.add=function(b){if(!(b instanceof r&&b.extend!==q||b instanceof a||b instanceof c||b instanceof l||b instanceof d))throw TypeError("object must be a valid nested object");
if(this.nested){var f=this.get(b.name);if(f){if(!(f instanceof d&&b instanceof d)||f instanceof a||f instanceof l)throw Error("duplicate name '"+b.name+"' in "+this);for(var k=f.nestedArray,p=0;p<k.length;++p)b.add(k[p]);this.remove(f);this.nested||(this.nested={});b.setOptions(f.options,!0)}}else this.nested={};return this.nested[b.name]=b,b.onAdd(this),this.f=null,this};d.prototype.remove=function(a){if(!(a instanceof b))throw TypeError("object must be a ReflectionObject");if(a.parent!==this)throw Error(a+
" is not a member of "+this);return delete this.nested[a.name],Object.keys(this.nested).length||(this.nested=q),a.onRemove(this),this.f=null,this};d.prototype.define=function(a,c){if(x.isString(a))a=a.split(".");else if(!Array.isArray(a))throw TypeError("illegal path");if(a&&a.length&&""===a[0])throw Error("path must be relative");for(var b=this;0<a.length;){var f=a.shift();if(b.nested&&b.nested[f]){if(!((b=b.nested[f])instanceof d))throw Error("path conflicts with non-namespace objects");}else b.add(b=
new d(f))}return c&&b.addJSON(c),b};d.prototype.resolveAll=function(){for(var a=this.nestedArray,c=0;c<a.length;)a[c]instanceof d?a[c++].resolveAll():a[c++].resolve();return this.resolve()};d.prototype.lookup=function(a,c,b){if("boolean"==typeof c?(b=c,c=q):c&&!Array.isArray(c)&&(c=[c]),x.isString(a)&&a.length){if("."===a)return this.root;a=a.split(".")}else if(!a.length)return this;if(""===a[0])return this.root.lookup(a.slice(1),c);var f=this.get(a[0]);if(f)if(1===a.length){if(!c||-1<c.indexOf(f.constructor))return f}else{if(f instanceof
d&&(f=f.lookup(a.slice(1),c,!0)))return f}else for(var l=0;l<this.nestedArray.length;++l)if(this.f[l]instanceof d&&(f=this.f[l].lookup(a,c,!0)))return f;return null===this.parent||b?null:this.parent.lookup(a,c)};d.prototype.lookupType=function(c){c=this.lookup(c,[a]);if(!c)throw Error("no such type");return c};d.prototype.lookupEnum=function(a){var b=this.lookup(a,[c]);if(!b)throw Error("no such Enum '"+a+"' in "+this);return b};d.prototype.lookupTypeOrEnum=function(b){var d=this.lookup(b,[a,c]);
if(!d)throw Error("no such Type or Enum '"+b+"' in "+this);return d};d.prototype.lookupService=function(a){var c=this.lookup(a,[l]);if(!c)throw Error("no such Service '"+a+"' in "+this);return c};d.e=function(c,b){a=c;l=b}},{15:15,16:16,24:24,37:37}],24:[function(k,n){function f(a,d){if(!b.isString(a))throw TypeError("name must be a string");if(d&&!b.isObject(d))throw TypeError("options must be an object");this.options=d;this.name=a;this.parent=null;this.resolved=!1;this.filename=this.comment=null}
n.exports=f;f.className="ReflectionObject";var d,b=k(37);Object.defineProperties(f.prototype,{root:{get:function(){for(var a=this;null!==a.parent;)a=a.parent;return a}},fullName:{get:function(){for(var a=[this.name],b=this.parent;b;)a.unshift(b.name),b=b.parent;return a.join(".")}}});f.prototype.toJSON=function(){throw Error();};f.prototype.onAdd=function(a){this.parent&&this.parent!==a&&this.parent.remove(this);this.parent=a;this.resolved=!1;a=a.root;a instanceof d&&a.g(this)};f.prototype.onRemove=
function(a){a=a.root;a instanceof d&&a.h(this);this.parent=null;this.resolved=!1};f.prototype.resolve=function(){return this.resolved?this:(this.root instanceof d&&(this.resolved=!0),this)};f.prototype.getOption=function(a){return this.options?this.options[a]:q};f.prototype.setOption=function(a,b,c){return c&&this.options&&this.options[a]!==q||((this.options||(this.options={}))[a]=b),this};f.prototype.setOptions=function(a,b){if(a)for(var c=Object.keys(a),d=0;d<c.length;++d)this.setOption(c[d],a[c[d]],
b);return this};f.prototype.toString=function(){var a=this.constructor.className,b=this.fullName;return b.length?a+" "+b:a};f.e=function(a){d=a}},{37:37}],25:[function(k,n){function f(a,d,f){if(Array.isArray(d)||(f=d,d=q),b.call(this,a,f),d!==q&&!Array.isArray(d))throw TypeError("fieldNames must be an Array");this.oneof=d||[];this.fieldsArray=[]}function d(a){if(a.parent)for(var c=0;c<a.fieldsArray.length;++c)a.fieldsArray[c].parent||a.parent.add(a.fieldsArray[c])}n.exports=f;var b=k(24);((f.prototype=
Object.create(b.prototype)).constructor=f).className="OneOf";var a=k(16),l=k(37);f.fromJSON=function(a,b){return new f(a,b.oneof,b.options)};f.prototype.toJSON=function(){return l.toObject(["options",this.options,"oneof",this.oneof])};f.prototype.add=function(c){if(!(c instanceof a))throw TypeError("field must be a Field");return c.parent&&c.parent!==this.parent&&c.parent.remove(c),this.oneof.push(c.name),this.fieldsArray.push(c),c.partOf=this,d(this),this};f.prototype.remove=function(c){if(!(c instanceof
a))throw TypeError("field must be a Field");var b=this.fieldsArray.indexOf(c);if(0>b)throw Error(c+" is not a member of "+this);return this.fieldsArray.splice(b,1),b=this.oneof.indexOf(c.name),-1<b&&this.oneof.splice(b,1),c.partOf=null,this};f.prototype.onAdd=function(a){b.prototype.onAdd.call(this,a);for(var c=0;c<this.oneof.length;++c){var f=a.get(this.oneof[c]);f&&!f.partOf&&(f.partOf=this,this.fieldsArray.push(f))}d(this)};f.prototype.onRemove=function(a){for(var c,d=0;d<this.fieldsArray.length;++d)(c=
this.fieldsArray[d]).parent&&c.parent.remove(c);b.prototype.onRemove.call(this,a)};f.d=function(){for(var a=Array(arguments.length),b=0;b<arguments.length;)a[b]=arguments[b++];return function(c,b){l.decorateType(c.constructor).add(new f(b,a));Object.defineProperty(c,b,{get:l.oneOfGetter(a),set:l.oneOfSetter(a)})}}},{16:16,24:24,37:37}],26:[function(k,n){function f(k,n,y){function g(a,c,b){var d=f.filename;return b||(f.filename=null),Error("illegal "+(c||"token")+" '"+a+"' ("+(d?d+", ":"")+"line "+
ca.line+")")}function V(){var a,c=[];do{if('"'!==(a=O())&&"'"!==a)throw g(a);c.push(O());J(a);a=xa()}while('"'===a||"'"===a);return c.join("")}function G(a){var c=O();switch(c){case "'":case '"':return ua(c),V();case "true":case "TRUE":return!0;case "false":case "FALSE":return!1}try{return S(c,!0)}catch(ta){if(a&&M.test(c))return c;throw g(c,"value");}}function U(a,c){var b,d;do!c||'"'!==(b=xa())&&"'"!==b?a.push([d=ba(O()),J("to",!0)?ba(O()):d]):a.push(V());while(J(",",!0));J(";")}function S(a,c){var b=
1;switch("-"===a.charAt(0)&&(b=-1,a=a.substring(1)),a){case "inf":case "INF":case "Inf":return 1/0*b;case "nan":case "NAN":case "Nan":case "NaN":return NaN;case "0":return 0}if(z.test(a))return b*parseInt(a,10);if(t.test(a))return b*parseInt(a,16);if(C.test(a))return b*parseInt(a,8);if(H.test(a))return b*parseFloat(a);throw g(a,"number",c);}function ba(a,c){switch(a){case "max":case "MAX":case "Max":return 536870911;case "0":return 0}if(!c&&"-"===a.charAt(0))throw g(a,"id");if(K.test(a))return parseInt(a,
10);if(A.test(a))return parseInt(a,16);if(E.test(a))return parseInt(a,8);throw g(a,"id");}function D(a,c){switch(c){case "option":return Y(a,c),J(";"),!0;case "message":return W(a,c),!0;case "enum":return aa(a,c),!0;case "service":return ia(a,c),!0;case "extend":return N(a,c),!0}return!1}function Q(a,c,b){var d=ca.line;if(a&&(a.comment=R(),a.filename=f.filename),J("{",!0)){for(;"}"!==(a=O());)c(a);J(";",!0)}else b&&b(),J(";"),a&&"string"!=typeof a.comment&&(a.comment=R(d))}function W(c,b){if(!B.test(b=
O()))throw g(b,"type name");var d=new a(b);Q(d,function(a){if(!D(d,a))switch(a){case "map":ea(d);break;case "required":case "optional":case "repeated":ma(d,a);break;case "oneof":da(d,a);break;case "extensions":U(d.extensions||(d.extensions=[]));break;case "reserved":U(d.reserved||(d.reserved=[]),!0);break;default:if(!m||!M.test(a))throw g(a);ua(a);ma(d,"optional")}});c.add(d)}function ma(a,c,b){var d=O();if("group"===d)return void ja(a,c);if(!M.test(d))throw g(d,"type");var f=O();if(!B.test(f))throw g(f,
"name");f=Ha(f);J("=");var k=new l(f,ba(O()),d,c,b);Q(k,function(a){if("option"!==a)throw g(a);Y(k,a);J(";")},function(){ra(k)});a.add(k);m||!k.repeated||v.packed[d]===q&&v.basic[d]!==q||k.setOption("packed",!1,!0)}function ja(c,b){var d=O();if(!B.test(d))throw g(d,"name");var k=u.lcFirst(d);d===k&&(d=u.ucFirst(d));J("=");var m=ba(O()),p=new a(d);p.group=!0;d=new l(k,m,d,b);d.filename=f.filename;Q(p,function(a){switch(a){case "option":Y(p,a);J(";");break;case "required":case "optional":case "repeated":ma(p,
a);break;default:throw g(a);}});c.add(p).add(d)}function ea(a){J("<");var b=O();if(v.mapKey[b]===q)throw g(b,"type");J(",");var d=O();if(!M.test(d))throw g(d,"type");J(">");var f=O();if(!B.test(f))throw g(f,"name");J("=");var k=new c(Ha(f),ba(O()),b,d);Q(k,function(a){if("option"!==a)throw g(a);Y(k,a);J(";")},function(){ra(k)});a.add(k)}function da(a,c){if(!B.test(c=O()))throw g(c,"name");var b=new r(Ha(c));Q(b,function(a){"option"===a?(Y(b,a),J(";")):(ua(a),ma(b,"optional"))});a.add(b)}function aa(a,
c){if(!B.test(c=O()))throw g(c,"name");var b=new x(c);Q(b,function(a){"option"===a?(Y(b,a),J(";")):X(b,a)});a.add(b)}function X(a,c){if(!B.test(c))throw g(c,"name");J("=");var b=ba(O(),!0),d={};Q(d,function(a){if("option"!==a)throw g(a);Y(d,a);J(";")},function(){ra(d)});a.add(c,b,d.comment)}function Y(a,c){var b=J("(",!0);if(!M.test(c=O()))throw g(c,"name");var d=c;b&&(J(")"),d="("+d+")",c=xa(),F.test(c)&&(d+=c,O()));J("=");ka(a,d)}function ka(a,c){if(J("{",!0)){do{if(!B.test(T=O()))throw g(T,"name");
if("{"===xa())ka(a,c+"."+T);else{J(":");var b=G(!0);a.setOption&&a.setOption(c+"."+T,b)}}while(!J("}",!0))}else b=G(!0),a.setOption&&a.setOption(c,b)}function ra(a){if(J("[",!0)){do Y(a,"option");while(J(",",!0));J("]")}return a}function ia(a,c){if(!B.test(c=O()))throw g(c,"service name");var b=new p(c);Q(b,function(a){if(!D(b,a)){if("rpc"!==a)throw g(a);la(b,a)}});a.add(b)}function la(a,c){var b=c;if(!B.test(c=O()))throw g(c,"name");var d,f,k,m=c;if(J("("),J("stream",!0)&&(f=!0),!M.test(c=O()))throw g(c);
if(d=c,J(")"),J("returns"),J("("),J("stream",!0)&&(k=!0),!M.test(c=O()))throw g(c);var l=c;J(")");var p=new w(m,b,d,l,f,k);Q(p,function(a){if("option"!==a)throw g(a);Y(p,a);J(";")});a.add(p)}function N(a,c){if(!M.test(c=O()))throw g(c,"reference");var b=c;Q(null,function(c){switch(c){case "required":case "repeated":case "optional":ma(a,c,b);break;default:if(!m||!M.test(c))throw g(c);ua(c);ma(a,"optional",b)}})}n instanceof b||(y=n,n=new b);y||(y=f.defaults);var wa,na,Aa,qa,T,ca=d(k),O=ca.next,ua=
ca.push,xa=ca.peek,J=ca.skip,R=ca.cmnt;k=!0;for(var m=!1,Ca=n,Ha=y.keepCase?function(a){return a}:u.camelCase;null!==(T=O());)switch(T){case "package":if(!k)throw g(T);if(wa!==q)throw g("package");if(wa=O(),!M.test(wa))throw g(wa,"name");Ca=Ca.define(wa);J(";");!0;break;case "import":if(!k)throw g(T);!function(){var a=xa();switch(a){case "weak":var c=Aa||(Aa=[]);O();break;case "public":O();default:c=na||(na=[])}a=V();J(";");c.push(a)}();break;case "syntax":if(!k)throw g(T);if(J("="),qa=V(),!(m="proto3"===
qa)&&"proto2"!==qa)throw g(qa,"syntax");J(";");!0;break;case "option":if(!k)throw g(T);Y(Ca,T);J(";");break;default:if(D(Ca,T))k=!1;else throw g(T);}return f.filename=null,{"package":wa,imports:na,weakImports:Aa,syntax:qa,root:n}}n.exports=f;f.filename=null;f.defaults={keepCase:!1};var d=k(34),b=k(29),a=k(35),l=k(16),c=k(20),r=k(25),x=k(15),p=k(33),w=k(22),v=k(36),u=k(37),z=/^[1-9][0-9]*$/,K=/^-?[1-9][0-9]*$/,t=/^0[x][0-9a-fA-F]+$/,A=/^-?0[x][0-9a-fA-F]+$/,C=/^0[0-7]+$/,E=/^-?0[0-7]+$/,H=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,
B=/^[a-zA-Z_][a-zA-Z_0-9]*$/,M=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,F=/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/},{15:15,16:16,20:20,22:22,25:25,29:29,33:33,34:34,35:35,36:36,37:37}],27:[function(k,n){function f(a,c){return RangeError("index out of range: "+a.pos+" + "+(c||1)+" > "+a.len)}function d(a){this.buf=a;this.pos=0;this.len=a.length}function b(){var a=new q(0,0),c=0;if(!(4<this.len-this.pos)){for(;3>c;++c){if(this.pos>=this.len)throw f(this);if(a.lo=(a.lo|(127&this.buf[this.pos])<<7*c)>>>0,128>this.buf[this.pos++])return a}return a.lo=
(a.lo|(127&this.buf[this.pos++])<<7*c)>>>0,a}for(;4>c;++c)if(a.lo=(a.lo|(127&this.buf[this.pos])<<7*c)>>>0,128>this.buf[this.pos++])return a;if(a.lo=(a.lo|(127&this.buf[this.pos])<<28)>>>0,a.hi=(a.hi|(127&this.buf[this.pos])>>4)>>>0,128>this.buf[this.pos++])return a;if(c=0,4<this.len-this.pos)for(;5>c;++c){if(a.hi=(a.hi|(127&this.buf[this.pos])<<7*c+3)>>>0,128>this.buf[this.pos++])return a}else for(;5>c;++c){if(this.pos>=this.len)throw f(this);if(a.hi=(a.hi|(127&this.buf[this.pos])<<7*c+3)>>>0,128>
this.buf[this.pos++])return a}throw Error("invalid varint encoding");}function a(a,c){return(a[c-4]|a[c-3]<<8|a[c-2]<<16|a[c-1]<<24)>>>0}function l(){if(this.pos+8>this.len)throw f(this,8);return new q(a(this.buf,this.pos+=4),a(this.buf,this.pos+=4))}n.exports=d;var c,r=k(39),q=r.LongBits,p=r.utf8,w="undefined"!=typeof Uint8Array?function(a){if(a instanceof Uint8Array||Array.isArray(a))return new d(a);throw Error("illegal buffer");}:function(a){if(Array.isArray(a))return new d(a);throw Error("illegal buffer");
};d.create=r.Buffer?function(a){return(d.create=function(a){return r.Buffer.isBuffer(a)?new c(a):w(a)})(a)}:w;d.prototype.i=r.Array.prototype.subarray||r.Array.prototype.slice;d.prototype.uint32=function(){var a=4294967295;return function(){if((a=(127&this.buf[this.pos])>>>0,128>this.buf[this.pos++])||(a=(a|(127&this.buf[this.pos])<<7)>>>0,128>this.buf[this.pos++])||(a=(a|(127&this.buf[this.pos])<<14)>>>0,128>this.buf[this.pos++])||(a=(a|(127&this.buf[this.pos])<<21)>>>0,128>this.buf[this.pos++])||
(a=(a|(15&this.buf[this.pos])<<28)>>>0,128>this.buf[this.pos++]))return a;if((this.pos+=5)>this.len)throw this.pos=this.len,f(this,10);return a}}();d.prototype.int32=function(){return 0|this.uint32()};d.prototype.sint32=function(){var a=this.uint32();return a>>>1^-(1&a)|0};d.prototype.bool=function(){return 0!==this.uint32()};d.prototype.fixed32=function(){if(this.pos+4>this.len)throw f(this,4);return a(this.buf,this.pos+=4)};d.prototype.sfixed32=function(){if(this.pos+4>this.len)throw f(this,4);
return 0|a(this.buf,this.pos+=4)};d.prototype["float"]=function(){if(this.pos+4>this.len)throw f(this,4);var a=r["float"].readFloatLE(this.buf,this.pos);return this.pos+=4,a};d.prototype["double"]=function(){if(this.pos+8>this.len)throw f(this,4);var a=r["float"].readDoubleLE(this.buf,this.pos);return this.pos+=8,a};d.prototype.bytes=function(){var a=this.uint32(),c=this.pos,b=this.pos+a;if(b>this.len)throw f(this,a);return this.pos+=a,Array.isArray(this.buf)?this.buf.slice(c,b):c===b?new this.buf.constructor(0):
this.i.call(this.buf,c,b)};d.prototype.string=function(){var a=this.bytes();return p.read(a,0,a.length)};d.prototype.skip=function(a){if("number"==typeof a){if(this.pos+a>this.len)throw f(this,a);this.pos+=a}else{do if(this.pos>=this.len)throw f(this);while(128&this.buf[this.pos++])}return this};d.prototype.skipType=function(a){switch(a){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(a=7&this.uint32());)this.skipType(a);break;case 5:this.skip(4);
break;default:throw Error("invalid wire type "+a+" at offset "+this.pos);}return this};d.e=function(a){c=a;var f=r.Long?"toLong":"toNumber";r.merge(d.prototype,{int64:function(){return b.call(this)[f](!1)},uint64:function(){return b.call(this)[f](!0)},sint64:function(){return b.call(this).zzDecode()[f](!1)},fixed64:function(){return l.call(this)[f](!0)},sfixed64:function(){return l.call(this)[f](!1)}})}},{39:39}],28:[function(k,n){function f(a){d.call(this,a)}n.exports=f;var d=k(27);(f.prototype=
Object.create(d.prototype)).constructor=f;var b=k(39);b.Buffer&&(f.prototype.i=b.Buffer.prototype.slice);f.prototype.string=function(){var a=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len))}},{27:27,39:39}],29:[function(k,n){function f(c){a.call(this,"",c);this.deferred=[];this.files=[]}function d(){}function b(a,c){var b=c.parent.lookup(c.extend);if(b){var d=new x(c.fullName,c.id,c.type,c.rule,q,c.options);return d.declaringField=c,c.extensionField=d,b.add(d),
!0}return!1}n.exports=f;var a=k(23);((f.prototype=Object.create(a.prototype)).constructor=f).className="Root";var l,c,r,x=k(16),p=k(15),w=k(25),v=k(37);f.fromJSON=function(a,c){return c||(c=new f),a.options&&c.setOptions(a.options),c.addJSON(a.nested)};f.prototype.resolvePath=v.path.resolve;f.prototype.load=function C(a,b,f){function k(a,c){if(f){var b=f;if(f=null,t)throw a;b(a,c)}}function l(a,d){try{if(v.isString(d)&&"{"===d.charAt(0)&&(d=JSON.parse(d)),v.isString(d)){c.filename=a;var g,f=c(d,n,
b),l=0;if(f.imports)for(;l<f.imports.length;++l)(g=n.resolvePath(a,f.imports[l]))&&p(g);if(f.weakImports)for(l=0;l<f.weakImports.length;++l)(g=n.resolvePath(a,f.weakImports[l]))&&p(g,!0)}else n.setOptions(d.options).addJSON(d.nested)}catch(ba){k(ba)}t||u||k(null,n)}function p(a,c){var b=a.lastIndexOf("google/protobuf/");-1<b&&(b=a.substring(b),b in r&&(a=b));if(!(-1<n.files.indexOf(a))){if(n.files.push(a),a in r)return void(t?l(a,r[a]):(++u,setTimeout(function(){--u;l(a,r[a])})));if(t){try{var d=
v.fs.readFileSync(a).toString("utf8")}catch(S){return void(c||k(S))}l(a,d)}else++u,v.fetch(a,function(b,d){if(--u,f)return b?void(c?u||k(null,n):k(b)):void l(a,d)})}}"function"==typeof b&&(f=b,b=q);var n=this;if(!f)return v.asPromise(C,n,a,b);var t=f===d,u=0;v.isString(a)&&(a=[a]);for(var x,w=0;w<a.length;++w)(x=n.resolvePath("",a[w]))&&p(x);return t?n:(u||k(null,n),q)};f.prototype.loadSync=function(a,c){if(!v.isNode)throw Error("not supported");return this.load(a,c,d)};f.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+
this.deferred.map(function(a){return"'extend "+a.extend+"' in "+a.parent.fullName}).join(", "));return a.prototype.resolveAll.call(this)};var u=/^[A-Z]/;f.prototype.g=function(a){if(a instanceof x)a.extend===q||a.extensionField||b(this,a)||this.deferred.push(a);else if(a instanceof p)u.test(a.name)&&(a.parent[a.name]=a.values);else if(!(a instanceof w)){if(a instanceof l)for(var c=0;c<this.deferred.length;)b(this,this.deferred[c])?this.deferred.splice(c,1):++c;for(c=0;c<a.nestedArray.length;++c)this.g(a.f[c]);
u.test(a.name)&&(a.parent[a.name]=a)}};f.prototype.h=function(c){if(c instanceof x)c.extend!==q&&(c.extensionField?(c.extensionField.parent.remove(c.extensionField),c.extensionField=null):(c=this.deferred.indexOf(c),-1<c&&this.deferred.splice(c,1)));else if(c instanceof p)u.test(c.name)&&delete c.parent[c.name];else if(c instanceof a){for(var b=0;b<c.nestedArray.length;++b)this.h(c.f[b]);u.test(c.name)&&delete c.parent[c.name]}};f.e=function(a,b,d){l=a;c=b;r=d}},{15:15,16:16,23:23,25:25,37:37}],30:[function(k,
n){n.exports={}},{}],31:[function(k,n,f){f.Service=k(32)},{32:32}],32:[function(k,n){function f(b,a,f){if("function"!=typeof b)throw TypeError("rpcImpl must be a function");d.EventEmitter.call(this);this.rpcImpl=b;this.requestDelimited=!!a;this.responseDelimited=!!f}n.exports=f;var d=k(39);(f.prototype=Object.create(d.EventEmitter.prototype)).constructor=f;f.prototype.rpcCall=function p(a,f,c,k,n){if(!k)throw TypeError("request must be specified");var l=this;if(!n)return d.asPromise(p,l,a,f,c,k);
if(!l.rpcImpl)return setTimeout(function(){n(Error("already ended"))},0),q;try{return l.rpcImpl(a,f[l.requestDelimited?"encodeDelimited":"encode"](k).finish(),function(d,f){if(d)return l.emit("error",d,a),n(d);if(null===f)return l.end(!0),q;if(!(f instanceof c))try{f=c[l.responseDelimited?"decodeDelimited":"decode"](f)}catch(z){return l.emit("error",z,a),n(z)}return l.emit("data",f,a),n(null,f)})}catch(v){return l.emit("error",v,a),setTimeout(function(){n(v)},0),q}};f.prototype.end=function(a){return this.rpcImpl&&
(a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{39:39}],33:[function(k,n){function f(a,b){d.call(this,a,b);this.methods={};this.j=null}n.exports=f;var d=k(23);((f.prototype=Object.create(d.prototype)).constructor=f).className="Service";var b=k(22),a=k(37),l=k(31);f.fromJSON=function(a,d){var c=new f(a,d.options);if(d.methods)for(var k=Object.keys(d.methods),l=0;l<k.length;++l)c.add(b.fromJSON(k[l],d.methods[k[l]]));return d.nested&&c.addJSON(d.nested),c};f.prototype.toJSON=
function(){var c=d.prototype.toJSON.call(this);return a.toObject(["options",c&&c.options||q,"methods",d.arrayToJSON(this.methodsArray)||{},"nested",c&&c.nested||q])};Object.defineProperty(f.prototype,"methodsArray",{get:function(){return this.j||(this.j=a.toArray(this.methods))}});f.prototype.get=function(a){return this.methods[a]||d.prototype.get.call(this,a)};f.prototype.resolveAll=function(){for(var a=this.methodsArray,b=0;b<a.length;++b)a[b].resolve();return d.prototype.resolve.call(this)};f.prototype.add=
function(a){if(this.get(a.name))throw Error("duplicate name '"+a.name+"' in "+this);return a instanceof b?(this.methods[a.name]=a,a.parent=this,this.j=null,this):d.prototype.add.call(this,a)};f.prototype.remove=function(a){if(a instanceof b){if(this.methods[a.name]!==a)throw Error(a+" is not a member of "+this);return delete this.methods[a.name],a.parent=null,this.j=null,this}return d.prototype.remove.call(this,a)};f.prototype.create=function(c,b,d){var f;c=new l.Service(c,b,d);for(b=0;b<this.methodsArray.length;++b)c[a.lcFirst((f=
this.j[b]).resolve().name)]=a.codegen(["r","c"],a.lcFirst(f.name))("return this.rpcCall(m,q,s,r,c)")({m:f,q:f.resolvedRequestType.ctor,s:f.resolvedResponseType.ctor});return c}},{22:22,23:23,31:31,37:37}],34:[function(k,n){function f(a){return a.replace(p,function(a,c){switch(c){case "\\":case "":return c;default:return w[c]||""}})}function d(d){function k(a){return Error("illegal "+a+" (line "+H+")")}function p(a,b){B=d.charAt(a++);F=H;Q=!1;var g,f=a-3;do if(0>--f||"\n"===(g=d.charAt(f))){Q=!0;break}while(" "===
g||"\t"===g);g=d.substring(a,b).split(r);for(f=0;f<g.length;++f)g[f]=g[f].replace(c,"").trim();y=g.join("\n").trim()}function n(){if(0<D.length)return D.shift();if(W){var c="'"===W?l:a;c.lastIndex=v-1;var n=c.exec(d);if(!n)throw k("string");return v=c.lastIndex,t(W),W=null,f(n[1])}var G,r;do{if(v===E)return null;for(n=!1;x.test(c=d.charAt(v));)if("\n"===c&&++H,++v===E)return null;if("/"===d.charAt(v)){if(++v===E)throw k("comment");if("/"===d.charAt(v)){for(r="/"===d.charAt(G=v+1);"\n"!==d.charAt(++v);)if(v===
E)return null;++v;r&&p(G,v-1);++H}else{if("*"!==(c=d.charAt(v)))return"/";r="*"===d.charAt(G=v+1);do{if("\n"===c&&++H,++v===E)throw k("comment");n=c;c=d.charAt(v)}while("*"!==n||"/"!==c);++v;r&&p(G,v-2)}n=!0}}while(n);c=v;if(b.lastIndex=0,!b.test(d.charAt(c++)))for(;c<E&&!b.test(d.charAt(c));)++c;c=d.substring(v,v=c);return'"'!==c&&"'"!==c||(W=c),c}function t(a){D.push(a)}function w(){if(!D.length){var a=n();if(null===a)return null;t(a)}return D[0]}d=""+d;var v=0,E=d.length,H=1,B=null,y=null,F=0,
Q=!1,D=[],W=null;return Object.defineProperty({next:n,peek:w,push:t,skip:function(a,c){var b=w();if(b===a)return n(),!0;if(!c)throw k("token '"+b+"', '"+a+"' expected");return!1},cmnt:function(a){var c=null;return a===q?F!==H-1||"*"!==B&&!Q||(c=y):(F<a&&w(),F!==a||Q||"/"!==B||(c=y)),c}},"line",{get:function(){return H}})}n.exports=d;var b=/[\s{}=;:[\],'"()<>]/g,a=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,l=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,c=/^ *[*\/]+ */,r=/\n/g,x=/\s/,p=/\\(.?)/g,w={0:"\x00",r:"\r",n:"\n",
t:"\t"};d.unescape=f},{}],35:[function(k,n){function f(a,c){b.call(this,a,c);this.fields={};this.group=this.reserved=this.extensions=this.oneofs=q;this.o=this.l=this.b=this.k=null}function d(a){return a.k=a.b=a.l=null,delete a.encode,delete a.decode,delete a.verify,a}n.exports=f;var b=k(23);((f.prototype=Object.create(b.prototype)).constructor=f).className="Type";var a=k(15),l=k(25),c=k(16),r=k(20),x=k(33),p=k(21),w=k(27),v=k(42),u=k(37),z=k(14),K=k(13),t=k(40),A=k(12),C=k(41);Object.defineProperties(f.prototype,
{fieldsById:{get:function(){if(this.k)return this.k;this.k={};for(var a=Object.keys(this.fields),c=0;c<a.length;++c){var b=this.fields[a[c]],d=b.id;if(this.k[d])throw Error("duplicate id "+d+" in "+this);this.k[d]=b}return this.k}},fieldsArray:{get:function(){return this.b||(this.b=u.toArray(this.fields))}},oneofsArray:{get:function(){return this.l||(this.l=u.toArray(this.oneofs))}},ctor:{get:function(){return this.o||(this.ctor=f.generateConstructor(this)())},set:function(a){var c=a.prototype;c instanceof
p||((a.prototype=new p).constructor=a,u.merge(a.prototype,c));a.$type=a.prototype.$type=this;u.merge(a,p,!0);this.o=a;for(c=0;c<this.fieldsArray.length;++c)this.b[c].resolve();var b={};for(c=0;c<this.oneofsArray.length;++c)b[this.l[c].resolve().name]={get:u.oneOfGetter(this.l[c].oneof),set:u.oneOfSetter(this.l[c].oneof)};c&&Object.defineProperties(a.prototype,b)}}});f.generateConstructor=function(a){for(var c,b=u.codegen(["p"],a.name),d=0;d<a.fieldsArray.length;++d)(c=a.b[d]).map?b("this%s={}",u.safeProp(c.name)):
c.repeated&&b("this%s=[]",u.safeProp(c.name));return b("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};f.fromJSON=function(d,k){var p=new f(d,k.options);p.extensions=k.extensions;p.reserved=k.reserved;for(var n=Object.keys(k.fields),t=0;t<n.length;++t)p.add((q!==k.fields[n[t]].keyType?r.fromJSON:c.fromJSON)(n[t],k.fields[n[t]]));if(k.oneofs)for(n=Object.keys(k.oneofs),t=0;t<n.length;++t)p.add(l.fromJSON(n[t],k.oneofs[n[t]]));if(k.nested)for(n=Object.keys(k.nested),
t=0;t<n.length;++t){var u=k.nested[n[t]];p.add((u.id!==q?c.fromJSON:u.fields!==q?f.fromJSON:u.values!==q?a.fromJSON:u.methods!==q?x.fromJSON:b.fromJSON)(n[t],u))}return k.extensions&&k.extensions.length&&(p.extensions=k.extensions),k.reserved&&k.reserved.length&&(p.reserved=k.reserved),k.group&&(p.group=!0),p};f.prototype.toJSON=function(){var a=b.prototype.toJSON.call(this);return u.toObject(["options",a&&a.options||q,"oneofs",b.arrayToJSON(this.oneofsArray),"fields",b.arrayToJSON(this.fieldsArray.filter(function(a){return!a.declaringField}))||
{},"extensions",this.extensions&&this.extensions.length?this.extensions:q,"reserved",this.reserved&&this.reserved.length?this.reserved:q,"group",this.group||q,"nested",a&&a.nested||q])};f.prototype.resolveAll=function(){for(var a=this.fieldsArray,c=0;c<a.length;)a[c++].resolve();a=this.oneofsArray;for(c=0;c<a.length;)a[c++].resolve();return b.prototype.resolveAll.call(this)};f.prototype.get=function(a){return this.fields[a]||this.oneofs&&this.oneofs[a]||this.nested&&this.nested[a]||null};f.prototype.add=
function(a){if(this.get(a.name))throw Error("duplicate name '"+a.name+"' in "+this);if(a instanceof c&&a.extend===q){if(this.k?this.k[a.id]:this.fieldsById[a.id])throw Error("duplicate id "+a.id+" in "+this);if(this.isReservedId(a.id))throw Error("id "+a.id+" is reserved in "+this);if(this.isReservedName(a.name))throw Error("name '"+a.name+"' is reserved in "+this);return a.parent&&a.parent.remove(a),this.fields[a.name]=a,a.message=this,a.onAdd(this),d(this)}return a instanceof l?(this.oneofs||(this.oneofs=
{}),this.oneofs[a.name]=a,a.onAdd(this),d(this)):b.prototype.add.call(this,a)};f.prototype.remove=function(a){if(a instanceof c&&a.extend===q){if(!this.fields||this.fields[a.name]!==a)throw Error(a+" is not a member of "+this);return delete this.fields[a.name],a.parent=null,a.onRemove(this),d(this)}if(a instanceof l){if(!this.oneofs||this.oneofs[a.name]!==a)throw Error(a+" is not a member of "+this);return delete this.oneofs[a.name],a.parent=null,a.onRemove(this),d(this)}return b.prototype.remove.call(this,
a)};f.prototype.isReservedId=function(a){if(this.reserved)for(var c=0;c<this.reserved.length;++c)if("string"!=typeof this.reserved[c]&&this.reserved[c][0]<=a&&this.reserved[c][1]>=a)return!0;return!1};f.prototype.isReservedName=function(a){if(this.reserved)for(var c=0;c<this.reserved.length;++c)if(this.reserved[c]===a)return!0;return!1};f.prototype.create=function(a){return new this.ctor(a)};f.prototype.setup=function(){for(var a=this.fullName,c=[],b=0;b<this.fieldsArray.length;++b)c.push(this.b[b].resolve().resolvedType);
this.encode=z(this)({Writer:v,types:c,util:u});this.decode=K(this)({Reader:w,types:c,util:u});this.verify=t(this)({types:c,util:u});this.fromObject=A.fromObject(this)({types:c,util:u});this.toObject=A.toObject(this)({types:c,util:u});if(a=C[a])c=Object.create(this),c.fromObject=this.fromObject,this.fromObject=a.fromObject.bind(c),c.toObject=this.toObject,this.toObject=a.toObject.bind(c);return this};f.prototype.encode=function(a,c){return this.setup().encode(a,c)};f.prototype.encodeDelimited=function(a,
c){return this.encode(a,c&&c.len?c.fork():c).ldelim()};f.prototype.decode=function(a,c){return this.setup().decode(a,c)};f.prototype.decodeDelimited=function(a){return a instanceof w||(a=w.create(a)),this.decode(a,a.uint32())};f.prototype.verify=function(a){return this.setup().verify(a)};f.prototype.fromObject=function(a){return this.setup().fromObject(a)};f.prototype.toObject=function(a,c){return this.setup().toObject(a,c)};f.d=function(a){return function(c){u.decorateType(c,a)}}},{12:12,13:13,14:14,
15:15,16:16,20:20,21:21,23:23,25:25,27:27,33:33,37:37,40:40,41:41,42:42}],36:[function(k,n,f){function d(a,d){var c=0,f={};for(d|=0;c<a.length;)f[b[c+d]]=a[c++];return f}k=k(37);var b="double float int32 uint32 sint32 fixed32 sfixed32 int64 uint64 sint64 fixed64 sfixed64 bool string bytes".split(" ");f.basic=d([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);f.defaults=d([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",k.emptyArray,null]);f["long"]=d([0,0,0,1,1],7);f.mapKey=d([0,0,0,5,5,0,0,0,1,1,0,2],2);f.packed=d([1,5,0,0,0,5,5,
0,0,0,1,1,0])},{37:37}],37:[function(k,n){var f,d,b=n.exports=k(39),a=k(30);b.codegen=k(3);b.fetch=k(5);b.path=k(8);b.fs=b.inquire("fs");b.toArray=function(a){if(a){for(var c=Object.keys(a),b=Array(c.length),d=0;d<c.length;)b[d]=a[c[d++]];return b}return[]};b.toObject=function(a){for(var c={},b=0;b<a.length;){var d=a[b++],f=a[b++];f!==q&&(c[d]=f)}return c};var l=/\\/g,c=/"/g;b.safeProp=function(a){return'["'+a.replace(l,"\\\\").replace(c,'\\"')+'"]'};b.ucFirst=function(a){return a.charAt(0).toUpperCase()+
a.substring(1)};var r=/_([a-z])/g;b.camelCase=function(a){return a.substring(0,1)+a.substring(1).replace(r,function(a,c){return c.toUpperCase()})};b.compareFieldsById=function(a,c){return a.id-c.id};b.decorateType=function(a,c){if(a.$type)return c&&a.$type.name!==c&&(b.decorateRoot.remove(a.$type),a.$type.name=c,b.decorateRoot.add(a.$type)),a.$type;f||(f=k(35));var d=new f(c||a.name);return b.decorateRoot.add(d),d.ctor=a,Object.defineProperty(a,"$type",{value:d,enumerable:!1}),Object.defineProperty(a.prototype,
"$type",{value:d,enumerable:!1}),d};var x=0;b.decorateEnum=function(a){if(a.$type)return a.$type;d||(d=k(15));var c=new d("Enum"+x++,a);return b.decorateRoot.add(c),Object.defineProperty(a,"$type",{value:c,enumerable:!1}),c};Object.defineProperty(b,"decorateRoot",{get:function(){return a.decorated||(a.decorated=new (k(29)))}})},{15:15,29:29,3:3,30:30,35:35,39:39,5:5,8:8}],38:[function(k,n){function f(a,b){this.lo=a>>>0;this.hi=b>>>0}n.exports=f;var d=k(39),b=f.zero=new f(0,0);b.toNumber=function(){return 0};
b.zzEncode=b.zzDecode=function(){return this};b.length=function(){return 1};var a=f.zeroHash="\x00\x00\x00\x00\x00\x00\x00\x00";f.fromNumber=function(a){if(0===a)return b;var c=0>a;c&&(a=-a);var d=a>>>0;a=(a-d)/4294967296>>>0;return c&&(a=~a>>>0,d=~d>>>0,4294967295<++d&&(d=0,4294967295<++a&&(a=0))),new f(d,a)};f.from=function(a){if("number"==typeof a)return f.fromNumber(a);if(d.isString(a)){if(!d.Long)return f.fromNumber(parseInt(a,10));a=d.Long.fromString(a)}return a.low||a.high?new f(a.low>>>0,
a.high>>>0):b};f.prototype.toNumber=function(a){if(!a&&this.hi>>>31){a=1+~this.lo>>>0;var c=~this.hi>>>0;return a||(c=c+1>>>0),-(a+4294967296*c)}return this.lo+4294967296*this.hi};f.prototype.toLong=function(a){return d.Long?new d.Long(0|this.lo,0|this.hi,!!a):{low:0|this.lo,high:0|this.hi,unsigned:!!a}};var l=String.prototype.charCodeAt;f.fromHash=function(c){return c===a?b:new f((l.call(c,0)|l.call(c,1)<<8|l.call(c,2)<<16|l.call(c,3)<<24)>>>0,(l.call(c,4)|l.call(c,5)<<8|l.call(c,6)<<16|l.call(c,
7)<<24)>>>0)};f.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};f.prototype.zzEncode=function(){var a=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^a)>>>0,this.lo=(this.lo<<1^a)>>>0,this};f.prototype.zzDecode=function(){var a=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^a)>>>0,this.hi=(this.hi>>>1^a)>>>0,this};f.prototype.length=function(){var a=this.lo,b=
(this.lo>>>28|this.hi<<4)>>>0,d=this.hi>>>24;return 0===d?0===b?16384>a?128>a?1:2:2097152>a?3:4:16384>b?128>b?5:6:2097152>b?7:8:128>d?9:10}},{39:39}],39:[function(k,w,f){function d(a,b,c){for(var d=Object.keys(b),f=0;f<d.length;++f)a[d[f]]!==q&&c||(a[d[f]]=b[d[f]]);return a}function b(a){function b(a,f){if(!(this instanceof b))return new b(a,f);Object.defineProperty(this,"message",{get:function(){return a}});Error.captureStackTrace?Error.captureStackTrace(this,b):Object.defineProperty(this,"stack",
{value:Error().stack||""});f&&d(this,f)}return(b.prototype=Object.create(Error.prototype)).constructor=b,Object.defineProperty(b.prototype,"name",{get:function(){return a}}),b.prototype.toString=function(){return this.name+": "+this.message},b}f.asPromise=k(1);f.base64=k(2);f.EventEmitter=k(4);f["float"]=k(6);f.inquire=k(7);f.utf8=k(10);f.pool=k(9);f.LongBits=k(38);f.emptyArray=Object.freeze?Object.freeze([]):[];f.emptyObject=Object.freeze?Object.freeze({}):{};f.isNode=!!(n.process&&n.process.versions&&
n.process.versions.node);f.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a};f.isString=function(a){return"string"==typeof a||a instanceof String};f.isObject=function(a){return a&&"object"==typeof a};f.isset=f.isSet=function(a,b){var c=a[b];return!(null==c||!a.hasOwnProperty(b))&&("object"!=typeof c||0<(Array.isArray(c)?c.length:Object.keys(c).length))};f.Buffer=function(){try{var a=f.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch(l){return null}}();
f.p=null;f.u=null;f.newBuffer=function(a){return"number"==typeof a?f.Buffer?f.u(a):new f.Array(a):f.Buffer?f.p(a):"undefined"==typeof Uint8Array?a:new Uint8Array(a)};f.Array="undefined"!=typeof Uint8Array?Uint8Array:Array;f.Long=n.dcodeIO&&n.dcodeIO.Long||f.inquire("long");f.key2Re=/^true|false|0|1$/;f.key32Re=/^-?(?:0|[1-9][0-9]*)$/;f.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;f.longToHash=function(a){return a?f.LongBits.from(a).toHash():f.LongBits.zeroHash};f.longFromHash=function(a,b){var c=
f.LongBits.fromHash(a);return f.Long?f.Long.fromBits(c.lo,c.hi,b):c.toNumber(!!b)};f.merge=d;f.lcFirst=function(a){return a.charAt(0).toLowerCase()+a.substring(1)};f.newError=b;f.ProtocolError=b("ProtocolError");f.oneOfGetter=function(a){for(var b={},c=0;c<a.length;++c)b[a[c]]=1;return function(){for(var a=Object.keys(this),c=a.length-1;-1<c;--c)if(1===b[a[c]]&&this[a[c]]!==q&&null!==this[a[c]])return a[c]}};f.oneOfSetter=function(a){return function(b){for(var c=0;c<a.length;++c)a[c]!==b&&delete this[a[c]]}};
f.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};f.e=function(){var a=f.Buffer;if(!a)return void(f.p=f.u=null);f.p=a.from!==Uint8Array.from&&a.from||function(b,c){return new a(b,c)};f.u=a.allocUnsafe||function(b){return new a(b)}}},{1:1,10:10,2:2,38:38,4:4,6:6,7:7,9:9}],40:[function(k,n){function f(a,c){return a.name+": "+c+(a.repeated&&"array"!==c?"[]":a.map&&"object"!==c?"{k:"+a.keyType+"}":"")+" expected"}function d(a,c,d,k){if(c.resolvedType)if(c.resolvedType instanceof b){a("switch(%s){",
k)("default:")("return%j",f(c,"enum value"));d=Object.keys(c.resolvedType.values);for(k=0;k<d.length;++k)a("case %i:",c.resolvedType.values[d[k]]);a("break")("}")}else a("{")("var e=types[%i].verify(%s);",d,k)("if(e)")("return%j+e",c.name+".")("}");else switch(c.type){case "int32":case "uint32":case "sint32":case "fixed32":case "sfixed32":a("if(!util.isInteger(%s))",k)("return%j",f(c,"integer"));break;case "int64":case "uint64":case "sint64":case "fixed64":case "sfixed64":a("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",
k,k,k,k)("return%j",f(c,"integer|Long"));break;case "float":case "double":a('if(typeof %s!=="number")',k)("return%j",f(c,"number"));break;case "bool":a('if(typeof %s!=="boolean")',k)("return%j",f(c,"boolean"));break;case "string":a("if(!util.isString(%s))",k)("return%j",f(c,"string"));break;case "bytes":a('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',k,k,k)("return%j",f(c,"buffer"))}return a}n.exports=function(b){var c=a.codegen(["m"],b.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j",
"object expected"),k={};b.oneofsArray.length&&c("var p={}");for(var l=0;l<b.fieldsArray.length;++l){var n=b.b[l].resolve(),q="m"+a.safeProp(n.name);if(n.optional&&c("if(%s!=null&&m.hasOwnProperty(%j)){",q,n.name),n.map){c("if(!util.isObject(%s))",q)("return%j",f(n,"object"))("var k=Object.keys(%s)",q)("for(var i=0;i<k.length;++i){");var v=c,u=n;switch(u.keyType){case "int32":case "uint32":case "sint32":case "fixed32":case "sfixed32":v("if(!util.key32Re.test(%s))","k[i]")("return%j",f(u,"integer key"));
break;case "int64":case "uint64":case "sint64":case "fixed64":case "sfixed64":v("if(!util.key64Re.test(%s))","k[i]")("return%j",f(u,"integer|Long key"));break;case "bool":v("if(!util.key2Re.test(%s))","k[i]")("return%j",f(u,"boolean key"))}d(c,n,l,q+"[k[i]]")("}")}else n.repeated?(c("if(!Array.isArray(%s))",q)("return%j",f(n,"array"))("for(var i=0;i<%s.length;++i){",q),d(c,n,l,q+"[i]")("}")):(n.partOf&&(v=a.safeProp(n.partOf.name),1===k[n.partOf.name]&&c("if(p%s===1)",v)("return%j",n.partOf.name+
": multiple values"),k[n.partOf.name]=1,c("p%s=1",v)),d(c,n,l,q));n.optional&&c("}")}return c("return null")};var b=k(15),a=k(37)},{15:15,37:37}],41:[function(k,n,f){var d=k(21);f[".google.protobuf.Any"]={fromObject:function(b){if(b&&b["@type"]){var a=this.lookup(b["@type"]);if(a){var d="."===b["@type"].charAt(0)?b["@type"].substr(1):b["@type"];return this.create({type_url:d,value:a.encode(a.fromObject(b)).finish()})}}return this.fromObject(b)},toObject:function(b,a){if(a&&a.json&&b.type_url&&b.value){var f=
this.lookup(b.type_url);f&&(b=f.decode(b.value))}return!(b instanceof this.ctor)&&b instanceof d?(f=b.$type.toObject(b,a),f["@type"]=b.$type.fullName,f):this.toObject(b,a)}}},{21:21}],42:[function(k,n){function f(a,c,b){this.fn=a;this.len=c;this.next=q;this.val=b}function d(){}function b(a){this.head=a.head;this.tail=a.tail;this.len=a.len;this.next=a.states}function a(){this.len=0;this.tail=this.head=new f(d,0,0);this.states=null}function l(a,c,b){c[b]=255&a}function c(a,c){this.len=a;this.next=q;
this.val=c}function r(a,c,b){for(;a.hi;)c[b++]=127&a.lo|128,a.lo=(a.lo>>>7|a.hi<<25)>>>0,a.hi>>>=7;for(;127<a.lo;)c[b++]=127&a.lo|128,a.lo>>>=7;c[b++]=a.lo}function x(a,c,b){c[b]=255&a;c[b+1]=a>>>8&255;c[b+2]=a>>>16&255;c[b+3]=a>>>24}n.exports=a;var p,w=k(39),v=w.LongBits,u=w.base64,z=w.utf8;a.create=w.Buffer?function(){return(a.create=function(){return new p})()}:function(){return new a};a.alloc=function(a){return new w.Array(a)};w.Array!==Array&&(a.alloc=w.pool(a.alloc,w.Array.prototype.subarray));
a.prototype.v=function(a,c,b){return this.tail=this.tail.next=new f(a,c,b),this.len+=c,this};c.prototype=Object.create(f.prototype);c.prototype.fn=function(a,c,b){for(;127<a;)c[b++]=127&a|128,a>>>=7;c[b]=a};a.prototype.uint32=function(a){return this.len+=(this.tail=this.tail.next=new c(128>(a>>>=0)?1:16384>a?2:2097152>a?3:268435456>a?4:5,a)).len,this};a.prototype.int32=function(a){return 0>a?this.v(r,10,v.fromNumber(a)):this.uint32(a)};a.prototype.sint32=function(a){return this.uint32((a<<1^a>>31)>>>
0)};a.prototype.uint64=function(a){a=v.from(a);return this.v(r,a.length(),a)};a.prototype.int64=a.prototype.uint64;a.prototype.sint64=function(a){a=v.from(a).zzEncode();return this.v(r,a.length(),a)};a.prototype.bool=function(a){return this.v(l,1,a?1:0)};a.prototype.fixed32=function(a){return this.v(x,4,a>>>0)};a.prototype.sfixed32=a.prototype.fixed32;a.prototype.fixed64=function(a){a=v.from(a);return this.v(x,4,a.lo).v(x,4,a.hi)};a.prototype.sfixed64=a.prototype.fixed64;a.prototype["float"]=function(a){return this.v(w["float"].writeFloatLE,
4,a)};a.prototype["double"]=function(a){return this.v(w["float"].writeDoubleLE,8,a)};var K=w.Array.prototype.set?function(a,c,b){c.set(a,b)}:function(a,c,b){for(var d=0;d<a.length;++d)c[b+d]=a[d]};a.prototype.bytes=function(c){var b=c.length>>>0;if(!b)return this.v(l,1,0);if(w.isString(c)){var d=a.alloc(b=u.length(c));u.decode(c,d,0);c=d}return this.uint32(b).v(K,b,c)};a.prototype.string=function(a){var c=z.length(a);return c?this.uint32(c).v(z.write,c,a):this.v(l,1,0)};a.prototype.fork=function(){return this.states=
new b(this),this.head=this.tail=new f(d,0,0),this.len=0,this};a.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new f(d,0,0),this.len=0),this};a.prototype.ldelim=function(){var a=this.head,c=this.tail,b=this.len;return this.reset().uint32(b),b&&(this.tail.next=a.next,this.tail=c,this.len+=b),this};a.prototype.finish=function(){for(var a=this.head.next,c=this.constructor.alloc(this.len),
b=0;a;)a.fn(a.val,c,b),b+=a.len,a=a.next;return c};a.e=function(a){p=a}},{39:39}],43:[function(k,n){function f(){b.call(this)}function d(c,b,d){40>c.length?a.utf8.write(c,b,d):b.utf8Write(c,d)}n.exports=f;var b=k(42);(f.prototype=Object.create(b.prototype)).constructor=f;var a=k(39),l=a.Buffer;f.alloc=function(c){return(f.alloc=a.u)(c)};var c=l&&l.prototype instanceof Uint8Array&&"set"===l.prototype.set.name?function(a,c,b){c.set(a,b)}:function(a,c,b){if(a.copy)a.copy(c,b,0,a.length);else for(var d=
0;d<a.length;)c[b++]=a[d++]};f.prototype.bytes=function(b){a.isString(b)&&(b=a.p(b,"base64"));var d=b.length>>>0;return this.uint32(d),d&&this.v(c,d,b),this};f.prototype.string=function(a){var c=l.byteLength(a);return this.uint32(c),c&&this.v(d,c,a),this}},{39:39,42:42}]},{},[19])}("object"==typeof window&&window||"object"==typeof self&&self||this);(function(n){function q(a){for(var c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890".split(""),b=[],d=0;d<a;d++){var g=(Math.random()*(c.length-1)).toFixed(0);b[d]=c[g]}return b.join("")}function k(a){a+="=";for(var c=decodeURIComponent(document.cookie).split(";"),b=0;b<c.length;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return""}function w(a,c,b){var d=new ServerDate;d.setTime(d.getTime()+864E5*b);b="expires="+
d.toUTCString();document.cookie=a+"="+c+";"+b+";path=/"}function f(){return Math.ceil(1E9*Math.random())}var d,b={socket:0,rest:1},a={initiated:0,connected:1,ready:2,error:3,closed:4},l=0,c=new ArrayBuffer(0),r=0,x=0,p=0,y=function(a,c,b){var d="";switch(c){case a.proto_msgType.values.E_SIGNUP_RSP:if(n.CS.transactionRespCB[b.stSignUpRes.ullTransId])n.CS.transactionRespCB[b.stSignUpRes.ullTransId](a.imlrespcode[b.stSignUpRes.ret].code,a.imlrespcode[b.stSignUpRes.ret].phrase);break;case a.proto_msgType.values.E_ACTIVATE_RSP:if(n.CS.transactionRespCB[b.stActivateRes.ullTransId])n.CS.transactionRespCB[b.stActivateRes.ullTransId](a.imlrespcode[b.stActivateRes.ret].code,
a.imlrespcode[b.stActivateRes.ret].phrase);break;case a.proto_msgType.values.E_LOGIN_RSP:if(n.CS.transactionRespCB[b.stLoginRes.ullTransId])n.CS.transactionRespCB[b.stLoginRes.ullTransId](a.imlrespcode[b.stLoginRes.ret].code,a.imlrespcode[b.stLoginRes.ret].phrase);b.stLoginRes.ret&&(a.loggedin=!0);n.CS.s3Bin=b.stLoginRes.sBucketName;break;case a.proto_msgType.values.E_GET_CONTACTS_RSP:if(n.CS.transactionRespCB[b.stGetContactsRes.ullTransId])n.CS.transactionRespCB[b.stGetContactsRes.ullTransId](a.imlrespcode[b.stGetContactsRes.ret].code,
{contacts:b.stGetContactsRes.sPhoneNums,types:b.stGetContactsRes.stContactTypes});break;case a.proto_msgType.values.E_IS_APP_CONTACT_RSP:c=[];d=b.stIsAppContactRes.sPhoneNums;for(var g=b.stIsAppContactRes.stProfile,k=0;k<d.length;k++)c[k]={mobileNumber:d[k],name:g[k].sUserName,presenceMessage:g[k].sPresenceStatusMsg,profilePicId:g[k].sProfilePicId};if(n.CS.transactionRespCB[b.stIsAppContactRes.ullTransId])n.CS.transactionRespCB[b.stIsAppContactRes.ullTransId](a.imlrespcode[b.stIsAppContactRes.ret].code,
c);break;case a.proto_msgType.values.E_USER_JOINED_RQT:if(n.CS.transactionRespCB[b.stUserJoinedReq.ullTransId])n.CS.transactionRespCB[b.stUserJoinedReq.ullTransId](a.contactsStatus[c].status,{mobileNumber:b.stUserJoinedReq.sJoinedUserMobNu});break;case a.proto_msgType.values.E_ADD_NUM_RSP:if(n.CS.transactionRespCB[b.stAddNumRes.ullTransId])n.CS.transactionRespCB[b.stAddNumRes.ullTransId](a.imlrespcode[b.stAddNumRes.ret].code,a.imlrespcode[b.stAddNumRes.ret].phrase);break;case a.proto_msgType.values.E_DIRECT_AUDIO_VIDEO_CALL_180_RINGING_RSP:break;
case a.proto_msgType.values.E_DIRECT_AUDIO_VIDEO_CALL_180_RINGING_RQT:a.call.callObj[b.stDirectAudioVideoCall180RingingReq.sCallId].state=a.call.RINGING_RECEIVED;g={uVersion:a.protoVersion,stDirectAudioVideoCall180RingingRes:{ullTransId:b.stDirectAudioVideoCall180RingingReq.stHdrs.ullTransId,sMobNu:a.localUser,sCallId:b.stDirectAudioVideoCall180RingingReq.sCallId,retCodes:a.proto_retCodes.values.E_200_OK}};u(a,!1,a.proto_msgType.values.E_DIRECT_AUDIO_VIDEO_CALL_180_RINGING_RSP,g);if(n.CS.call.onMessagecb)n.CS.call.onMessagecb(a.callEventCode[c].code,
{callId:b.stDirectAudioVideoCall180RingingReq.sCallId});break;case a.proto_msgType.values.E_GET_PRESENCE_RSP:c=[];for(k in b.stGetPresRes.stPresence)d={mobileNumber:b.stGetPresRes.stPresence[k].sPhoneNum,isOnline:!0,lastLoginTime:b.stGetPresRes.stPresence[k].sTime,statusMessage:b.stGetPresRes.stPresence[k].sPresenceStatusMsg},"OFFLINE"==b.stGetPresRes.stPresence[k].sStatus&&(d.isOnline=!1),c.push(d);if(n.CS.transactionRespCB[b.stGetPresRes.ullTransId])n.CS.transactionRespCB[b.stGetPresRes.ullTransId](a.imlrespcode[b.stGetPresRes.ret].code,
c);break;case a.proto_msgType.values.E_SET_PROFILE_RSP:if(n.CS.transactionRespCB[b.stSetProfileRes.ullTransId])n.CS.transactionRespCB[b.stSetProfileRes.ullTransId](a.imlrespcode[b.stSetProfileRes.ret].code,a.imlrespcode[b.stSetProfileRes.ret].phrase);break;case a.proto_msgType.values.E_GET_PROFILE_RSP:if(n.CS.transactionRespCB[b.stGetProfileRes.ullTransId])n.CS.transactionRespCB[b.stGetProfileRes.ullTransId](a.imlrespcode[b.stGetProfileRes.ret].code,{displayName:b.stGetProfileRes.stProfile.sUserName,
Presence:b.stGetProfileRes.stProfile.sPresenceStatusMsg,profilePicture:b.stGetProfileRes.stProfile.sProfilePicId});break;case a.proto_msgType.values.E_USER_PROFILE_CHANGED_RQT:n.CS.contacts.onpresenceupdatecb&&(g={mobilenumber:b.stUserProfileChangedReq.sProfileUserMobNu},b.stUserProfileChangedReq.stProfile.sUserName&&(g.name=b.stUserProfileChangedReq.stProfile.sUserName),b.stUserProfileChangedReq.stProfile.sPresenceStatusMsg&&(g.message=b.stUserProfileChangedReq.stProfile.sPresenceStatusMsg),b.stUserProfileChangedReq.stProfile.sProfilePicId&&
(g.profilePicUrl=b.stUserProfileChangedReq.stProfile.sProfilePicId),n.CS.contacts.onpresenceupdatecb(a.contactsStatus[c].status,g));g={uVersion:a.protoVersion,stUserProfileChangedRes:{ullTransId:b.stUserProfileChangedReq.stHdrs.ullTransId,sMobNu:a.localUser,sProfileUserMobNu:b.stUserProfileChangedReq.sProfileUserMobNu,ret:a.proto_retCodes.values.E_200_OK}};u(a,!1,a.proto_msgType.values.E_USER_PROFILE_CHANGED_RSP,g);break;case a.proto_msgType.values.E_CHAT_RQT:g={uVersion:a.protoVersion,stChatRes:{ullTransId:b.stChatReq.stHdrs.ullTransId,
sMobNu:a.localUser,uChatID:b.stChatReq.uChatID,ret:a.proto_retCodes.values.E_200_OK}};u(a,!1,a.proto_msgType.values.E_CHAT_RSP,g);n.CS.chat.sendChatResponse(b.stChatReq);n.CS.chat.sendDelivered(b.stChatReq.stHdrs.sMobNu,b.stChatReq.uChatID,0,function(a,b){});n.CS.chat.onMessagecb&&(k={remoteUser:b.stChatReq.stHdrs.sMobNu,data:b.stChatReq.data,timestamp:b.stChatReq.uSendTime,id:b.stChatReq.uChatID,sequence:b.stChatReq.uSeqNum,size:b.stChatReq.dataLen,chattype:a.chatType[b.stChatReq.stChatType].type},
b.stChatReq.sContentType&&(k.contenttype=b.stChatReq.sContentType),b.stChatReq.sThumbnailUrl&&(k.thumbnail=b.stChatReq.sThumbnailUrl),n.CS.chat.onMessagecb(a.chatRequestType[a.proto_msgType.values.E_CHAT_RQT],k));break;case a.proto_msgType.values.E_CHAT_RSP:k=a.imlrespcode[b.stChatRes.ret].phrase;n.CS.respData[b.stChatRes.ullTransId]&&(k={status:a.imlrespcode[b.stChatRes.ret].phrase,url:n.CS.respData[b.stChatRes.ullTransId].fileName});if(n.CS.transactionRespCB[b.stChatRes.ullTransId])n.CS.transactionRespCB[b.stChatRes.ullTransId](a.imlrespcode[b.stChatRes.ret].code,
k);if(n.CS.chat.onMessagecb)n.CS.chat.onMessagecb(a.chatRequestType[a.proto_msgType.values.E_CHAT_RSP],{id:b.stChatRes.uChatID,status:a.imlrespcode[b.stChatRes.ret].code,remoteUser:b.stChatRes.sMobNu});break;case a.proto_msgType.values.E_GET_MY_PENDING_NOTIFICATIONS_RSP:if(n.CS.transactionRespCB[b.stGetMyPendingNotificationsRes.ullTransId])n.CS.transactionRespCB[b.stGetMyPendingNotificationsRes.ullTransId](a.imlrespcode[b.stGetMyPendingNotificationsRes.ret].code,a.imlrespcode[b.stGetMyPendingNotificationsRes.ret].phrase);
break;case a.proto_msgType.values.E_IS_TYPING_RQT:g={uVersion:a.protoVersion,stIsTypingRes:{ullTransId:b.stIsTypingReq.stHdrs.ullTransId,eReturnCode:a.proto_retCodes.values.E_200_OK}};u(a,!1,a.proto_msgType.values.E_IS_TYPING_RSP,g);if(n.CS.chat.onMessagecb)n.CS.chat.onMessagecb(a.chatRequestType[a.proto_msgType.values.E_IS_TYPING_RQT],{remoteUser:b.stIsTypingReq.sDstMobNu,groupId:b.stIsTypingReq.sGroupID});break;case a.proto_msgType.values.E_CHAT_DELIVERY_RQT:console.log("chat delivered");g={uVersion:a.protoVersion,
stChatDeliveryRes:{ullTransId:b.stChatDeliveryReq.stHdrs.ullTransId,sMobNu:a.localUser,uChatID:b.stChatDeliveryReq.uChatID,ret:a.proto_retCodes.values.E_200_OK}};u(a,!1,a.proto_msgType.values.E_CHAT_DELIVERY_RSP,g);if(n.CS.chat.onMessagecb)n.CS.chat.onMessagecb(a.chatRequestType[a.proto_msgType.values.E_CHAT_DELIVERY_RQT],{id:b.stChatDeliveryReq.uChatID,time:b.stChatDeliveryReq.uDeliveryTime,remoteUser:b.stChatDeliveryReq.stHdrs.sMobNu});break;case a.proto_msgType.values.E_CHAT_READ_RQT:console.log("chat read");
g={uVersion:a.protoVersion,stChatReadRes:{ullTransId:b.stChatReadReq.stHdrs.ullTransId,sMobNu:a.localUser,uChatID:b.stChatReadReq.uChatID,ret:a.proto_retCodes.values.E_200_OK}};u(a,!1,a.proto_msgType.values.E_CHAT_READ_RSP,g);if(n.CS.chat.onMessagecb)n.CS.chat.onMessagecb(a.chatRequestType[a.proto_msgType.values.E_CHAT_READ_RQT],{id:b.stChatReadReq.uChatID,time:b.stChatReadReq.uReadTime,remoteUser:b.stChatReadReq.stHdrs.sMobNu});break;case a.proto_msgType.values.E_CHAT_DELIVERY_RSP:if(n.CS.transactionRespCB[b.stChatDeliveryRes.ullTransId])n.CS.transactionRespCB[b.stChatDeliveryRes.ullTransId](a.imlrespcode[b.stChatDeliveryRes.ret].code,
a.imlrespcode[b.stChatDeliveryRes.ret].phrase);break;case a.proto_msgType.values.E_GET_CHAT_HISTORY_LIST_RSP:c=[];d=b.stGetChatHistoryListRes.stChatHistoryList;g=d.length;for(k=0;k<g;k++)c[k]={id:d[k].sChatID,src:d[k].ssrcMobNu,dst:d[k].sDstMobNu,sequenceNo:d[k].ullSeqNum,sentTimestamp:d[k].ullMessageTime,chatType:a.chatType[d[k].eChatType].type,reportsRequested:d[k].uReportsReq,data:d[k].sData,contentType:d[k].sContentType,thumbUrl:d[k].sThumbnailUrl,messageStatus:a.chatStatus[d[k].eStatus].status,
deliveredTimestamp:d[k].ullDeliveryTime,readTimestamp:d[k].ullReadTime},d[k].sThumbnailUrl&&(c[k].thumbnail=d[k].sThumbnailUrl);if(n.CS.transactionRespCB[b.stGetChatHistoryListRes.ullTransId])n.CS.transactionRespCB[b.stGetChatHistoryListRes.ullTransId](a.imlrespcode[b.stGetChatHistoryListRes.eReturnCode].code,{totalMessages:b.stGetChatHistoryListRes.sTotalNumberOfEntries,pageSize:b.stGetChatHistoryListRes.sPageSize,history:c});break;case a.proto_msgType.values.E_GET_CALL_HISTORY_LIST_RSP:c=[];d=b.stGetCallHistoryListRes.stCallHistoryList;
g=d.length;for(k=0;k<g;k++)c[k]={id:d[k].sCallID,src:d[k].ssrcMobNu,dst:d[k].sDstMobNu,callType:a.callType[d[k].eCallType].type,direction:a.direction[d[k].eDirection].type,status:a.callStatus[d[k].eStatus].status,startTime:d[k].ullStartTime,endTime:d[k].ullEndTime};if(n.CS.transactionRespCB[b.stGetCallHistoryListRes.ullTransId])n.CS.transactionRespCB[b.stGetCallHistoryListRes.ullTransId](a.imlrespcode[b.stGetCallHistoryListRes.eReturnCode].code,{totalMessages:b.stGetCallHistoryListRes.sTotalNumberOfEntries,
pageSize:b.stGetCallHistoryListRes.sPageSize,history:c});break;case a.proto_msgType.values.E_GET_RECENT_CONVERSATION_LIST_RSP:c=[];d=b.stGetRecentConversationListRes.stConversationList;for(k=0;k<d.length;k++)c[k]={messageType:a.recentMsgType[d[k].eConversationType].type},d[k].stChatHistoryList&&(g=d[k].stChatHistoryList,c[k].chat={id:g.sChatID,src:g.ssrcMobNu,dst:g.sDstMobNu,sequenceNo:g.ullSeqNum,sentTimestamp:g.ullMessageTime,chatType:a.chatType[g.eChatType].type,reportsRequested:g.uReportsReq,
data:g.sData,contentType:g.sContentType,thumbUrl:g.sThumbnailUrl,messageStatus:a.chatStatus[g.eStatus].status,deliveredTimestamp:g.ullDeliveryTime,readTimestamp:g.ullReadTime}),d[k].stCallHistoryList&&(g=d[k].stCallHistoryList,c[k].call={callId:g.sCallID,src:g.ssrcMobNu,dst:g.sDstMobNu,callType:a.callType[g.eCallType].type,direction:a.direction[g.eDirection].type,status:a.callStatus[g.eStatus].status,startTime:g.ullStartTime,endTime:g.ullEndTime});if(n.CS.transactionRespCB[b.stGetRecentConversationListRes.ullTransId])n.CS.transactionRespCB[b.stGetRecentConversationListRes.ullTransId](a.imlrespcode[b.stGetRecentConversationListRes.eReturnCode].code,
{totalMessages:b.stGetRecentConversationListRes.sTotalNumberOfEntries,pageSize:b.stGetRecentConversationListRes.sPageSize,list:c});break;case a.proto_msgType.values.E_CHAT_READ_RSP:if(n.CS.transactionRespCB[b.stChatReadRes.ullTransId])n.CS.transactionRespCB[b.stChatReadRes.ullTransId](a.imlrespcode[b.stChatReadRes.ret].code,a.imlrespcode[b.stChatReadRes.ret].phrase);break;case a.proto_msgType.values.E_DELETE_NUM_RSP:if(n.CS.transactionRespCB[b.stDeleteNumRes.ullTransId])n.CS.transactionRespCB[b.stDeleteNumRes.ullTransId](a.imlrespcode[b.stDeleteNumRes.ret].code,
a.imlrespcode[b.stDeleteNumRes.ret].phrase);break;case a.proto_msgType.values.E_DIRECT_AUDIO_VIDEO_CALL_START_RQT:d=b.stDirectAudioVideoCallStartReq.sCallId;a.call.remoteUser=b.stDirectAudioVideoCallStartReq.stHdrs.sMobNu;a.call.stDirectAudioVideoCallStartReq=b.stDirectAudioVideoCallStartReq;a.call.isVideoCall=a.proto_callType.values.E_VIDEOCALL==b.stDirectAudioVideoCallStartReq.stCallType;n.CS.call.onMessagecb&&(g={uVersion:a.protoVersion,stDirectAudioVideoCallStartRes:{ullTransId:b.stDirectAudioVideoCallStartReq.stHdrs.ullTransId,
sMobNu:a.localUser,sCallId:b.stDirectAudioVideoCallStartReq.sCallId,ret:a.proto_retCodes.values.E_200_OK}});u(a,!1,a.proto_msgType.values.E_DIRECT_AUDIO_VIDEO_CALL_START_RSP,g);g={uVersion:a.protoVersion,stDirectAudioVideoCall180RingingReq:{stHdrs:{sMobNu:n.CS.localUser,sClientId:n.CS.clientId,ullTransId:f()},sDstMobNu:n.CS.call.remoteUser,stCallType:n.CS.proto_callType.values.E_VIDEOCALL,sCallId:d}};a.proto_callType.values.E_VOICECALL==b.stDirectAudioVideoCallStartReq.stCallType&&(g.stDirectAudioVideoCall180RingingReq.stCallType=
a.proto_callType.values.E_VOICECALL);a.call.callObj[d]={state:a.call.states.OFFER_RECEIVED,remoteUser:a.call.remoteUser,type:"IP",direction:"IN",isMuted:!1,iceCandidates:[]};a.call.callObj[d].state!=a.call.states.IDLE&&(g.stDirectAudioVideoCall180RingingReq.bIsCallWaiting=!0);u(a,!1,a.proto_msgType.values.E_DIRECT_AUDIO_VIDEO_CALL_180_RINGING_RQT,g);n.CS.call.onMessagecb(a.callEventCode[c].code,{caller:a.call.remoteUser,isVideoCall:a.call.isVideoCall,callId:d,isCallActive:b.stDirectAudioVideoCallStartReq.sCallActive,
startTime:b.stDirectAudioVideoCallStartReq.sStartTime});break;case a.proto_msgType.values.E_DIRECT_AUDIO_VIDEO_CALL_START_RSP:case a.proto_msgType.values.E_CALL_START_RSP:break;case a.proto_msgType.values.E_CALL_ANSWER_RQT:a.call.callObj[b.stCallAnswerReq.sCallId].state=a.call.states.CONNECTED;a.call.activeCallId=b.stCallAnswerReq.sCallId;if(n.CS.call.onMessagecb)n.CS.call.onMessagecb(a.callEventCode[c].code,{caller:a.call.remoteUser,callId:b.stCallAnswerReq.sCallId});wr_recv_rem_answer(b.stCallAnswerReq.sSdp,
b.stCallAnswerReq.sCallId);g={uVersion:a.protoVersion,stCallAnswerRes:{ullTransId:b.stCallAnswerReq.stHdrs.ullTransId,sMobNu:a.localUser,sCallId:b.stCallAnswerReq.sCallId,ret:a.proto_retCodes.values.E_200_OK}};u(a,!1,a.proto_msgType.values.E_CALL_ANSWER_RSP,g);break;case a.proto_msgType.values.E_CALL_SESSION_IN_PROGRESS_SDP_RQT:a.call.callObj[b.callSessionInProgressSdpReq.sCallId].state=a.call.states.CONNECTED;a.call.activeCallId=b.callSessionInProgressSdpReq.sCallId;wr_recv_rem_answer(b.callSessionInProgressSdpReq.sSdp,
b.callSessionInProgressSdpReq.sCallId);if(a.call.callObj[b.callSessionInProgressSdpReq.sCallId].state!=a.call.states.CONNECTED&&n.CS.call.onMessagecb)n.CS.call.onMessagecb(a.callEventCode[c].code,{caller:a.call.remoteUser,callId:b.stCallAnswerReq.sCallId});g={uVersion:a.protoVersion,stCallSessionInProgressSdpRes:{ullTransId:b.stCallSessionInProgressSdpReq.stHdrs.ullTransId,sMobNu:a.localUser,ret:a.proto_retCodes.values.E_200_OK}};u(a,!1,a.proto_msgType.values.E_CALL_SESSION_IN_PROGRESS_SDP_RSP,g);
break;case a.proto_msgType.values.E_DIRECT_AUDIO_VIDEO_CALL_ANSWER_RQT:a.call.callObj[b.stDirectAudioVideoCallAnswerReq.sCallId].state=a.call.states.CONNECTED;a.call.activeCallId=b.stDirectAudioVideoCallAnswerReq.sCallId;if(n.CS.call.onMessagecb)n.CS.call.onMessagecb(a.callEventCode[c].code,{caller:a.call.remoteUser,callId:b.stDirectAudioVideoCallAnswerReq.sCallId});wr_recv_rem_answer(b.stDirectAudioVideoCallAnswerReq.sSdp,b.stDirectAudioVideoCallAnswerReq.sCallId);g={uVersion:a.protoVersion,stDirectAudioVideoCallAnswerRes:{ullTransId:b.stDirectAudioVideoCallAnswerReq.stHdrs.ullTransId,
sMobNu:a.localUser,sCallId:b.stDirectAudioVideoCallAnswerReq.sCallId,ret:a.proto_retCodes.values.E_200_OK}};u(a,!1,a.proto_msgType.values.E_DIRECT_AUDIO_VIDEO_CALL_ANSWER_RSP,g);break;case a.proto_msgType.values.E_DIRECT_AUDIO_VIDEO_CALL_ANSWER_RSP:console.log("received answer response");if(n.CS.transactionRespCB[b.stDirectAudioVideoCallAnswerRes.ullTransId])n.CS.transactionRespCB[b.stDirectAudioVideoCallAnswerRes.ullTransId](a.imlrespcode[b.stDirectAudioVideoCallAnswerRes.ret].code,a.imlrespcode[b.stDirectAudioVideoCallAnswerRes.ret].phrase);
break;case a.proto_msgType.values.E_DIRECT_AUDIO_VIDEO_CALL_END_RQT:d=b.stDirectAudioVideoCallEndReq.sCallId;a.call.activeCallId="";if(!a.call.callObj[d])break;a.call.callObj[d].state=a.call.states.IDLE;a.call.remoteUser=b.stDirectAudioVideoCallEndReq.stHdrs.sMobNu;n.CS.call.onMessagecb&&n.CS.call.onMessagecb(a.callEventCode[c].code,{caller:a.call.remoteUser,callId:d});g={uVersion:a.protoVersion,stDirectAudioVideoCallEndRes:{ullTransId:b.stDirectAudioVideoCallEndReq.stHdrs.ullTransId,sMobNu:a.localUser,
sCallId:d,ret:a.proto_retCodes.values.E_200_OK}};u(a,!1,a.proto_msgType.values.E_DIRECT_AUDIO_VIDEO_CALL_END_RSP,g);wr_recv_rem_end();break;case a.proto_msgType.values.E_CALL_ENDED_RQT:d=b.stCallEndedReq.sCallId;a.call.activeCallId="";if(!a.call.callObj[d])break;a.call.callObj[d].state=a.call.states.IDLE;a.call.remoteUser=b.stCallEndedReq.stHdrs.sMobNu;n.CS.call.onMessagecb&&n.CS.call.onMessagecb(a.callEventCode[c].code,{caller:a.call.remoteUser,callId:d});g={uVersion:a.protoVersion,stCallEndedRes:{ullTransId:b.stCallEndedRes.stHdrs.ullTransId,
sMobNu:a.localUser,sCallId:d,ret:a.proto_retCodes.values.E_200_OK}};u(a,!1,a.proto_msgType.values.E_CALL_ENDED_RSP,g);wr_recv_rem_end();break;case a.proto_msgType.values.E_DIRECT_AUDIO_VIDEO_CALL_END_RSP:break;case a.proto_msgType.values.E_SEND_ICE_CANDIDATES_IN_DIRECT_AV_CALL_RSP:case a.proto_msgType.values.E_SEND_ICE_CANDIDATES_IN_CALL_RSP:break;case a.proto_msgType.values.E_USER_PRESENCE_CHANGED_RQT:n.CS.contacts.onpresenceupdatecb&&n.CS.contacts.onpresenceupdatecb(a.contactsStatus[c].status,{user:b.stUserPresenceChangedReq.stPresence.sPhoneNum,
isOnline:"ONLINE"==b.stUserPresenceChangedReq.stPresence.sStatus,time:b.stUserPresenceChangedReq.stPresence.sTime,message:b.stUserPresenceChangedReq.stPresence.sPresenceStatusMsg});g={uVersion:a.protoVersion,stUserPresenceChangedRes:{ullTransId:b.stUserPresenceChangedReq.stHdrs.ullTransId,sMobNu:a.localUser,retCodes:a.proto_retCodes.values.E_200_OK}};u(a,!1,a.proto_msgType.values.E_USER_PRESENCE_CHANGED_RSP,g);break;case a.proto_msgType.values.E_USER_PENDING_NOTIFICATIONS_RQT:g={uVersion:a.protoVersion,
stUserPendingNotificationsRes:{ullTransId:b.stUserPendingNotificationsReq.stHdrs.ullTransId,sMobNu:a.localUser,retCodes:a.proto_retCodes.values.E_200_OK}};u(a,!1,a.proto_msgType.values.E_GET_MY_PENDING_NOTIFICATIONS_RSP,g);break;case a.proto_msgType.values.E_SEND_ICE_CANDIDATES_IN_DIRECT_AV_CALL_RQT:console.log("remote ice received");wr_recv_rem_ice(b.stSendIceCandidatesInDirectAVCallReq,b.stSendIceCandidatesInDirectAVCallReq.sCallId);g={uVersion:a.protoVersion,stSendIceCandidatesInDirectAVCallRes:{ullTransId:b.stSendIceCandidatesInDirectAVCallReq.stHdrs.ullTransId,
sMobNu:a.localUser,sCallId:b.stSendIceCandidatesInDirectAVCallReq.sCallId,ret:a.proto_retCodes.values.E_200_OK}};u(a,!1,a.proto_msgType.values.E_SEND_ICE_CANDIDATES_IN_DIRECT_AV_CALL_RSP,g);break;case a.proto_msgType.values.E_SEND_ICE_CANDIDATES_IN_CALL_RQT:wr_recv_rem_ice(b.stSendIceCandidatesInCallReq,b.stSendIceCandidatesInCallReq.sCallId);g={uVersion:a.protoVersion,stSendIceCandidatesInCallReq:{ullTransId:b.stSendIceCandidatesInCallReq.stHdrs.ullTransId,sMobNu:a.localUser,sDstNumber:b.sendIceCandidatesInCallReq.sDstNumber,
ret:a.proto_retCodes.values.E_200_OK}};u(a,!1,a.proto_msgType.values.E_SEND_ICE_CANDIDATES_IN_CALL_RSP,g);break;default:console.log("un handled message received "+c)}},v=function(c,d){d.is_provisional||c.connectionState==a.connected?c.transportType==b.socket?1==c.ws.readyState?c.ws.send(d.body):console.log("ws send failed connection state: "+c.ws.readyState):console.log("rest unsupported in current release"):console.log("Unable to send message before login completes")},u=function(b,c,d,f){f=b.proto_msg.encode(b.proto_msg.create(f)).finish();
var g=new ArrayBuffer(10+f.length),k=new DataView(g);k.setUint32(0,d,!1);k.setUint32(4,f.length,!1);k.setUint8(8,13,!1);k.setUint8(9,10,!1);for(d=0;d<f.length;d++)k.setUint8(10+d,f[d],!1);b.connectionState==a.connected||c?(1!=b.ws.readyState&&(b.reconnectTimeout=300,A()),v(b,{is_provisional:c,body:g})):b.msg_queue.push({is_provisional:c,body:g})},z=function(a,b){var c=f();n.CS.transactionRespCB[c]=b;var d=new jsSHA("SHA-256","TEXT");d.update(a.localUser+a.OAuthToken);d=d.getHash("HEX");c={uVersion:a.protoVersion,
stLoginReq:{stHdrs:{sMobNu:a.localUser,sClientId:a.clientId,ullTransId:c},sPassHash:d,sAuth:"auth string",stOSName:a.proto_osType.values.E_WEB,sOSVersion:a.osVersion,sPushDevToken:"",sAppName:"appName",sDeviceId:n.CS.deviceId}};n.CS.appId&&n.CS.appSecret&&(c.stLoginReq.sAppDetails={sAppName:"",sCustomerId:"",sAppId:n.CS.appId,sAppSecret:n.CS.appSecret});u(a,!0,a.proto_msgType.values.E_LOGIN_RQT,c)},K=function(a,b){var c=new Uint8Array(a.byteLength+b.byteLength);c.set(new Uint8Array(a),0);c.set(new Uint8Array(b),
a.byteLength);return c.buffer},t=function(a,b){switch(p){case 0:if(10<=l+b.byteLength){c=K(c,b.slice(0,10-l));l=10;var d=new DataView(c);x=d.getUint32(0);r=d.getUint32(4);c=new ArrayBuffer(0);l=0;p=1;return 10}c=K(c,b);l+=b.byteLength;return b.byteLength;case 1:if(l+b.byteLength>=r){c=K(c,b.slice(0,r-l));d=new Uint8Array(c);try{var f=a.proto_msg.decode(d);y(a,x,f)}catch(S){console.log("error decoding message "+S)}finally{return c=new ArrayBuffer(0),p=l=0,r-l}}else return c=K(c,b),l+=b.byteLength,
b.byteLength}},A=function(){var c=n.CS;c.reconnectTimeout||(c.reconnectTimeout=300);if(c.transportType==b.socket){if(c.connectionState!=a.initiated){var f=new WebSocket(d);c.connectionState=a.initiated;f.binaryType="arraybuffer";f.onopen=function(){var b=n.CS;b.connectionState=a.connected;b.reconnectTimeout=300;console.log("websocket connected");b.connReady=!0;null!=b.localUser&&null!=b.OAuthToken&&(b.loggedin=!0,z(b,void 0));for(;0<b.msg_queue.length;)v(b,b.msg_queue.shift())};f.onmessage=function(a){a=
a.data;for(var b;0<a.byteLength;)b=t(c,a),0<b&&(a=a.slice(b))};f.onerror=function(a){};f.onclose=function(b){b=n.CS;console.log("websocket connection closed!. attempting to reconnect");b.tid&&clearTimeout(b.tid);b.tid=setTimeout(A,b.reconnectTimeout);b.reconnectTimeout*=2;3E5<b.reconnectTimeout&&(b.reconnectTimeout=3E5);b.connectionState=a.closed};n.onbeforeunload=function(b){this.connectionState==a.connected&&f.close()};c.ws=f}}else z(c,void 0)},C=function(){};C.prototype.init=function(a){this["super"]=
a};var E=function(){this.activeCallId=this.remoteUser="";this.states={IDLE:1,OFFER_SENT:2,OFFER_RECEIVED:3,RINGING_RECEIVED:4,CONNECTED:5};this.callObj={}};E.prototype.init=function(a){this["super"]=a};var H=function(){};H.prototype.init=function(a){this["super"]=a};H.prototype.setProfile=function(a,b,c,d){var g=f();n.CS.transactionRespCB[g]=d;a={uVersion:this["super"].protoVersion,stSetProfileReq:{stHdrs:{sMobNu:this["super"].localUser,sClientId:this["super"].clientId,ullTransId:g},stProfile:{sUserName:a}}};
b&&""!=b&&(a.stSetProfileReq.stProfile.sPresenceStatusMsg=b);c&&""!=c&&(a.stSetProfileReq.stProfile.sProfilePicId=c);u(this["super"],!1,this["super"].proto_msgType.values.E_SET_PROFILE_RQT,a)};H.prototype.getProfile=function(a,b){var c=f();n.CS.transactionRespCB[c]=b;u(this["super"],!1,this["super"].proto_msgType.values.E_GET_PROFILE_RQT,{uVersion:this["super"].protoVersion,stGetProfileReq:{stHdrs:{sMobNu:this["super"].localUser,sClientId:this["super"].clientId,ullTransId:c},sMobNum:a}})};H.prototype.getContacts=
function(a){var b=f();n.CS.transactionRespCB[b]=a;u(this["super"],!1,this["super"].proto_msgType.values.E_GET_CONTACTS_RQT,{uVersion:this["super"].protoVersion,stGetContactsReq:{stHdrs:{sMobNu:this["super"].localUser,sClientId:this["super"].clientId,ullTransId:b}}})};H.prototype.isAppContacts=function(a,b){var c=f();n.CS.transactionRespCB[c]=b;u(this["super"],!1,this["super"].proto_msgType.values.E_IS_APP_CONTACT_RQT,{uVersion:this["super"].protoVersion,stIsAppContactReq:{stHdrs:{sMobNu:this["super"].localUser,
sClientId:this["super"].clientId,ullTransId:c},uCount:a.length,sPhoneNums:a}})};H.prototype.onMessage=function(a){this.onpresenceupdatecb=a};H.prototype.addContact=function(a,b){var c=f();n.CS.transactionRespCB[c]=b;u(this["super"],!1,this["super"].proto_msgType.values.E_ADD_NUM_RQT,{uVersion:this["super"].protoVersion,stAddNumReq:{stHdrs:{sMobNu:this["super"].localUser,sClientId:this["super"].clientId,ullTransId:c},uCount:1,sPhoneNums:[a],stContactTypes:[this["super"].contact_type.values.E_CUSTOM_CONTACT]}})};
H.prototype.removeContact=function(a,b){var c=f();n.CS.transactionRespCB[c]=b;u(this["super"],!1,this["super"].proto_msgType.values.E_DELETE_NUM_RQT,{uVersion:this["super"].protoVersion,stDeleteNumReq:{stHdrs:{sMobNu:this["super"].localUser,sClientId:this["super"].clientId,ullTransId:c},sPhoneNums:a}})};H.prototype.getPresence=function(a,b){var c=f();n.CS.transactionRespCB[c]=b;u(this["super"],!1,this["super"].proto_msgType.values.E_GET_PRESENCE_RQT,{uVersion:this["super"].protoVersion,stGetPresReq:{stHdrs:{sMobNu:this["super"].localUser,
sClientId:this["super"].clientId,ullTransId:c},sPhoneNums:a}})};var B=function(){this.chatSeqNo=1};B.prototype.init=function(a){this["super"]=a};B.prototype.onMessage=function(a){this.onMessagecb=a};B.prototype.ChatType={TEXT_PLAIN:1,TEXT_HTML:2,LOCATION:3,IMAGE:4,VIDEO:5,CONTACT:6,DOCUMENT:7};B.prototype.ChatFileType={IMAGE:4,VIDEO:5,DOCUMENT:7};E.prototype.getHistory=function(a,b,c,d){var g=f();n.CS.transactionRespCB[g]=d;b={uVersion:this["super"].protoVersion,stGetCallHistoryListReq:{stHdrs:{sMobNu:this["super"].localUser,
sClientId:this["super"].clientId,ullTransId:g},sPageSize:b,sOffset:c}};a&&(b.stGetCallHistoryListReq.sDstMobNu=a);u(this["super"],!1,this["super"].proto_msgType.values.E_GET_CALL_HISTORY_LIST_RQT,b)};B.prototype.getHistory=function(a,b,c,d){var g=f();n.CS.transactionRespCB[g]=d;b={uVersion:this["super"].protoVersion,stGetChatHistoryListReq:{stHdrs:{sMobNu:this["super"].localUser,sClientId:this["super"].clientId,ullTransId:g},sPageSize:b,sOffset:c}};a&&(b.stGetChatHistoryListReq.sDstMobNu=a);u(this["super"],
!1,this["super"].proto_msgType.values.E_GET_CHAT_HISTORY_LIST_RQT,b)};B.prototype.sendReadReceipt=function(a,b,c){var d=f();n.CS.transactionRespCB[d]=c;a={uVersion:this["super"].protoVersion,stChatReadReq:{stHdrs:{sMobNu:this["super"].localUser,sClientId:this["super"].clientId,ullTransId:d},sDstMobNu:a,uChatID:b.toString(),uReadTime:Math.floor(ServerDate.now())}};u(this["super"],!1,this["super"].proto_msgType.values.E_CHAT_READ_RQT,a)};B.prototype.sendDelivered=function(a,b,c,d){var g=f();n.CS.transactionRespCB[g]=
d;a={uVersion:this["super"].protoVersion,stChatDeliveryReq:{stHdrs:{sMobNu:this["super"].localUser,sClientId:this["super"].clientId,ullTransId:g},sDstMobNu:a,uChatID:b.toString(),uDeliveryTime:Math.floor(ServerDate.now()),reports_req:c}};u(this["super"],!1,this["super"].proto_msgType.values.E_CHAT_DELIVERY_RQT,a)};H.prototype.getRecentContacts=function(a,b,c){var d=f();n.CS.transactionRespCB[d]=c;u(this["super"],!1,this["super"].proto_msgType.values.E_GET_RECENT_CONVERSATION_LIST_RQT,{uVersion:this["super"].protoVersion,
stGetRecentConversationListReq:{stHdrs:{sMobNu:this["super"].localUser,sClientId:this["super"].clientId,ullTransId:d},sPageSize:a,sOffset:b}})};B.prototype.sendMessage=function(a,b,c,d,k){if(this["super"].localUser){var g=f();n.CS.transactionRespCB[g]=k;this.chatSeqNo++;k=q(16);var l=Math.floor(ServerDate.now());4E3<b.length&&(b=b.slice(0,4E3));u(this["super"],!1,this["super"].proto_msgType.values.E_CHAT_RQT,{uVersion:this["super"].protoVersion,stChatReq:{stHdrs:{sMobNu:this["super"].localUser,sClientId:this["super"].clientId,
ullTransId:g},sDstMobNu:a,uChatID:k,uSeqNum:this.chatSeqNo,uSendTime:l,stChatType:c,dataLen:b.length,reports_req:d,data:b}});return{id:k,sentTime:l}}k("400","User not logged in!")};var M=function(a){a=atob(a.split(",")[1]);for(var b=[],c=0;c<a.length;c++)b.push(a.charCodeAt(c));return new Blob([new Uint8Array(b)],{type:"image/png"})},F=function(a,b,c,d,f,k,l,p,q,r){console.log("An image has been loaded");var g=new FileReader;g.onload=function(g){var t=new Image;t.onload=function(g){g=document.createElement("canvas");
var w=t.width,v=t.height;w>v?200<w&&(v*=200/w,w=200):200<v&&(w*=200/v,v=200);g.width=w;g.height=v;g.getContext("2d").drawImage(t,0,0,w,v);g=g.toDataURL("image/png");g=M(g);var G="thumb_"+b;n.CS.s3.upload({Key:G,Body:g,ACL:"public-read"},function(b,g){if(b)return alert("There was an error uploading your photo: ",b.message);var t={uVersion:n.CS.protoVersion,stChatReq:{stHdrs:{sMobNu:n.CS.localUser,sClientId:n.CS.clientId,ullTransId:f},sDstMobNu:k,uChatID:l,uSeqNum:n.CS.chat.chatSeqNo,uSendTime:p,stChatType:q,
dataLen:a.size,reports_req:r,data:d,sThumbnailUrl:G}};c&&(t.stChatReq.sContentType=c);u(n.CS,!1,n.CS.proto_msgType.values.E_CHAT_RQT,t);console.log("chat file sent out to server")})};t.src=g.target.result};g.readAsDataURL(a)};B.prototype.getMediaURLPrefix=function(){return"https://"+n.CS.s3Bin+".s3.ap-southeast-1.amazonaws.com/"};B.prototype.sendPhoto=function(a,b,c){CA.chat.sendFile(a,D.chat.ChatFileType.IMAGE,b.type,"",b,!0,c)};B.prototype.sendVideo=function(a,b,c,d){CA.chat.sendFile(a,D.chat.ChatFileType.VIDEO,
b.type,c,b,!0,d)};B.prototype.sendFile=function(a,b,c,d){CA.chat.sendFile(a,D.chat.ChatFileType.DOCUMENT,b.type,c,b,!0,d)};B.prototype.sendFile=function(a,b,c,d,k,l,p){if(!b||""==b||!k||""==k)return p(400,"invalid input. chatFileType or file content is empty"),-1;var g=f();n.CS.transactionRespCB[g]=p;this.chatSeqNo++;var t=q(16),r=Math.floor(ServerDate.now()),w=q(15)+"_"+k.name;n.CS.s3.upload({Key:w,Body:k,ACL:"public-read"},function(f,p){if(f)return alert("There was an error uploading your photo: ",
f.message);n.CS.respData[g]={fileName:w};if(k.type.match(/image.*/))F(k,w,c,p.Key,g,a,t,r,b,l);else{var q={uVersion:n.CS.protoVersion,stChatReq:{stHdrs:{sMobNu:n.CS.localUser,sClientId:n.CS.clientId,ullTransId:g},sDstMobNu:a,uChatID:t,uSeqNum:n.CS.chat.chatSeqNo,uSendTime:r,stChatType:b,dataLen:k.size,reports_req:l,data:p.Key}};c&&(q.stChatReq.sContentType=c);d&&""!=d&&(q.stChatReq.sThumbnailUrl=d);u(n.CS,!1,n.CS.proto_msgType.values.E_CHAT_RQT,q)}});return{id:t,sentTime:r,url:w}};B.prototype.getPendingChat=
function(a){var b=f();n.CS.transactionRespCB[b]=a;u(this["super"],!1,this["super"].proto_msgType.values.E_GET_MY_PENDING_NOTIFICATIONS_RQT,{uVersion:this["super"].protoVersion,stGetMyPendingNotificationsReq:{stHdrs:{sMobNu:this["super"].localUser,sClientId:this["super"].clientId,ullTransId:b},sPendingNotificationType:this["super"].proto_pendingNotifType.values.E_CHAT_REQUEST}})};B.prototype.sendIsTyping=function(a,b){var c=f();u(this["super"],!1,this["super"].proto_msgType.values.E_IS_TYPING_RQT,
{uVersion:this["super"].protoVersion,stIsTypingReq:{stHdrs:{sMobNu:this["super"].localUser,sClientId:this["super"].clientId,ullTransId:c},sDstMobNu:a,sGroupID:b}})};B.prototype.sendChatResponse=function(a){u(this["super"],!1,this["super"].proto_msgType.values.E_CHAT_RSP,{uVersion:this["super"].protoVersion,stChatRes:{ullTransId:a.stHdrs.ullTransId,sMobNu:this["super"].localUser,uChatID:a.uChatID.toString(),ret:this["super"].proto_retCodes.values.E_200_OK}})};E.prototype.onMessage=function(a){this.onMessagecb=
a};E.prototype.startCall=function(a,b,c,d,f){if(this["super"].localUser){this.isVideoCall=d;this.remoteUser=a;var g=q(16);wr_send_rem_call(this,g,d,b,c);this.callObj[g]={state:this.states.OFFER_SENT,remoteUser:a,type:"IP",direction:"OUT",isMuted:!1,iceCandidates:[]};n.CS.call.callToCb=f;return g}f("400","User not logged in!")};E.prototype.startPSTNCall=function(a,b,c,d,f){this.isVideoCall=d;this.remoteUser=a;var g=q(16);wr_send_rem_call(this,g,d,b,c);this.callObj[g]={state:this.states.OFFER_SENT,
remoteUser:a,type:"PSTN",direction:"OUT",isMuted:!1,iceCandidates:[]};n.CS.call.callToCb=f;return g};E.prototype.decline=function(a,b){this.callObj[a]?(this.declinecb=b,this.callObj[a].state=this.states.IDLE,n.CS.call.end(a,"User busy",function(a,b){console.log("user budy ret "+a)})):b(400,"Unknown callId")};E.prototype.answer=function(a,b,c,d){this.answercb=d;this.callObj[a].state=this.states.CONNECTED;""!=this.activeCallId&&(d=this.activeCallId,n.CS.call.end(d,"Switched to another call",function(a,
b){}),delete this.callObj[d]);this.activeCallId=a;wr_recv_rem_offer(a,b,this.isVideoCall,c,this.stDirectAudioVideoCallStartReq)};E.prototype.sendAnswer=function(a,b,c){var d=f();n.CS.transactionRespCB[d]=c;a={uVersion:this["super"].protoVersion,stDirectAudioVideoCallAnswerReq:{stHdrs:{sMobNu:this["super"].localUser,sClientId:this["super"].clientId,ullTransId:d},sDstMobNu:this.remoteUser,stCallType:this["super"].proto_callType.values.E_VIDEOCALL,sCallId:a,sSdp:b}};n.CS.call.isVideoCall||(a.stDirectAudioVideoCallAnswerReq.stCallType=
this["super"].proto_callType.values.E_VOICECALL);u(this["super"],!1,this["super"].proto_msgType.values.E_DIRECT_AUDIO_VIDEO_CALL_ANSWER_RQT,a);console.log("sent answer")};E.prototype.sendIce=function(a,b,c,d,k){var g=f();n.CS.transactionRespCB[g]=k;"IP"==n.CS.call.callObj[d].type?(a={uVersion:this["super"].protoVersion,stSendIceCandidatesInDirectAVCallReq:{stHdrs:{sMobNu:this["super"].localUser,sClientId:this["super"].clientId,ullTransId:g},sDstNumber:a,sCallId:d.toString(),sIceCandidates:[b],sJsonIceCandidates:[c]}},
u(this["super"],!1,this["super"].proto_msgType.values.E_SEND_ICE_CANDIDATES_IN_DIRECT_AV_CALL_RQT,a)):"PSTN"==n.CS.call.callObj[d].type&&(a={uVersion:this["super"].protoVersion,stSendIceCandidatesInCallReq:{stHdrs:{sMobNu:this["super"].localUser,sClientId:this["super"].clientId,ullTransId:g},sDstNumber:a,sCallId:d.toString(),sIceCandidates:[b],sJsonIceCandidates:[c],sDirection:this["super"].direction_enum.values.E_TO_SERVER,sAppId:"webapp"}},u(this["super"],!1,this["super"].proto_msgType.values.E_SEND_ICE_CANDIDATES_IN_DIRECT_AV_CALL_RQT,
a))};E.prototype.end=function(a,b,c){this.callObj[a]?(this.activeCallId="",this.callObj[a].state=this.states.IDLE,b=f(),n.CS.transactionRespCB[b]=c,wr_send_rem_call_end(a),a={uVersion:this["super"].protoVersion,stDirectAudioVideoCallEndReq:{stHdrs:{sMobNu:this["super"].localUser,sClientId:this["super"].clientId,ullTransId:b},sDstMobNu:this.callObj[a].remoteUser,stCallType:this["super"].proto_callType.values.E_VIDEOCALL,sCallId:a,sStopTime:Math.floor(ServerDate.now())}},n.CS.call.isVideoCall||(a.stDirectAudioVideoCallEndReq.stCallType=
this["super"].proto_callType.values.E_VOICECALL),u(this["super"],!1,this["super"].proto_msgType.values.E_DIRECT_AUDIO_VIDEO_CALL_END_RQT,a)):c(400,"Unknown callId")};E.prototype.mute=function(a,b,c){b?(wr_set_local_mute(this,a,c),n.CS.call.callObj[a].isMuted=!0):(wr_set_local_unmute(this,a,c),n.CS.call.callObj[a].isMuted=!1)};E.prototype.isMuted=function(a,b,c){return D.call.callObj[a].isMuted};var Q=function(a){protobuf.load("./res/iml4.json",function(b,c){if(b)throw b;a.proto_root=c;a.proto_msg=
c.lookup("msg");a.proto_osType=c.lookup("osType");a.proto_retCodes=c.lookup("retCodes");a.proto_msgType=c.lookup("msgType");a.proto_pendingNotifType=c.lookup("pendingNotificationType");a.proto_chatType=c.lookup("chatType");a.proto_callType=c.lookup("callType");a.proto_isFocusStatus=c.lookup("appFocusStatus");a.direction_enum=c.lookup("sendDirection");a.contact_type=c.lookup("contactType");a.contactsStatus={293:{status:"PresenceUpdate"},81:{status:"ProfileChanged"},5:{status:"UserJoined"}};a.chatRequestType=
{9:"NEW-MESSAGE",10:"SENT",11:"DELIVERED",13:"READ",307:"IS-COMPOSING"};a.recentMsgType={0:{type:"UNKNOWN"},1:{type:"CHAT"},2:{type:"GROUP-CHAT"},3:{type:"CALL"}};a.chatStatus={0:{status:"Unknown"},1:{status:"SENT"},2:{status:"DELIVERED"},3:{status:"READ"}};a.chatType={0:{type:"Unknown"},1:{type:"Text"},2:{type:"html"},3:{type:"location"},4:{type:"image"},5:{type:"video"},6:{type:"contact"},7:{type:"document"}};a.direction={0:{type:"Unknown"},1:{type:"Outgoing"},2:{type:"Incoming"}};a.callStatus=
{0:{status:"Unknown"},1:{status:"Missed"},2:{status:"Answered"}};a.callType={0:{type:"Unknown"},1:{type:"Audio"},2:{type:"Video"},3:{type:"Live-Location"},4:{type:"Pstn"}};a.callEventCode={187:{code:"PSTN-OFFER",phrase:"PSTN Call offer received"},193:{code:"ANSWERED",phrase:"Call answered received"},195:{code:"OFFER",phrase:"Call offer received"},197:{code:"ANSWERED",phrase:"Call answered received"},199:{code:"END",phrase:"Call end received"},206:{code:"END",phrase:"Call end received"},295:{code:"RINGING",
phrase:"Remote party ringing"}};a.imlrespcode={1:{code:200,phrase:"OK"},2:{code:202,phrase:"Created"},6:{code:204,phrase:"Resend Activation Code"},3:{code:401,phrase:"Unauthorized"},7:{code:403,phrase:"Forbiddon"},4:{code:409,phrase:"NotAllowed"},11:{code:499,phrase:"User Attached"},5:{code:500,phrase:"Internal Error"},10:{code:703,phrase:"Limit exceeded"}};a.protoLoad=!0})},D=function(){this.transportType="WebSocket"in n||n.WebSocket?b.socket:b.rest;this.transportType==b.rest&&alert("rest unsupported in current release");
this.OAuthToken=this.localuser="";this.OAuthToken=this.localUser=null;this.msg_queue=[];Q(this);this.protoVersion=1;this.clientId=0;this.transactionRespCB={};this.respData={};this.s3Bin="";this.osName="Web";this.osVersion="-";this.chat=new B;this.chat.init(this);this.contacts=new H;this.contacts.init(this);this.call=new E;this.call.init(this);this.stream=new C;this.stream.init(this);this.subModulesLoadComplete=!0},W=function(a){a=n.CS;a.protoLoad&&a.connReady&&(clearInterval(a.intervalTimer),$(n).on("blur focus",
function(a){if($(this).data("prevType")!=a.type)switch(a.type){case "blur":console.log("blur");break;case "focus":console.log("focus")}$(this).data("prevType",a.type)}),a.initCb(200,"SDK initialized"))};D.prototype.askPushNotificationPermission=function(){OneSignal.push(function(){OneSignal.showHttpPrompt()})};D.prototype.initialize=function(a,b){this.version="0.2.10.2";0<arguments.length&&(this.initCb=arguments[arguments.length-1]);this.intervalTimer=setInterval(function(){W(this)},200);var c="iamlivedemo1",
g="ap-southeast-1",l="ap-southeast-1:cea94880-b040-46f5-8f91-550a9381142d";d="wss://proxy.connectarena.com:8989";n.CS.rtcservers={};n.CS.rtcservers.stun="stun:stun.l.google.com:19302";n.CS.rtcservers.turn="turn:34.253.104.58:3478?transport=udp";n.CS.rtcservers.turnUser="testuser";n.CS.rtcservers.turnPassword="test";n.CS.appId="";n.CS.appSecret="";2==arguments.length&&(a=arguments[0],c=a.s3Bucket||c,g=a.s3Region||g,l=a.s3IdentityPoolId||l,n.CS.appId=a.appId||n.CS.appId,n.CS.appSecret=a.appSecret||
n.CS.appSecret,a.webrtc&&(D.rtcservers.stun=a.webrtc.stun||D.stun,D.rtcservers.turn=a.webrtc.turn||D.turn,D.rtcservers.turnUser=a.webrtc.turnUser||D.turnUser,D.rtcservers.turnPassword=a.webrtc.turnPassword||D.turnPassword));n.CS.servers={iceServers:[{urls:n.CS.rtcservers.stun},{urls:n.CS.rtcservers.turn,username:n.CS.rtcservers.turnUser,credential:n.CS.rtcservers.turnPassword}]};AWS.config.update({region:g,credentials:new AWS.CognitoIdentityCredentials({IdentityPoolId:l})});this.s3=new AWS.S3({apiVersion:"2006-03-01",
params:{Bucket:c}});setTimeout(A,100);(c=k("iml_dev_id"))?n.CS.deviceId=c:(n.CS.deviceId=f(),w("iml_dev_id",n.CS.deviceId,9999))};D.prototype.logout=function(){this.ws.close()};D.prototype.createTempUser=function(a,b,c){$.ajax({type:"POST",dataType:"json",url:"https://proxy.connectarena.com:9295/api/createuser",data:"username="+a+"&password="+b,success:function(d){"Created"==d?c(200,{user:a,pass:b}):c(500,"Internal Error")},failure:function(){c(500,"Internal Error")}})};D.prototype.signup=function(a,
b,c){this.localUser=a;this.OAuthToken=b;a=f();n.CS.transactionRespCB[a]=c;c=new jsSHA("SHA-256","TEXT");c.update(this.localUser+this.OAuthToken);c=c.getHash("HEX");c={uVersion:this.protoVersion,stSignUpReq:{stHdrs:{sMobNu:this.localUser,sClientId:this.clientId,ullTransId:a},sPassHash:c,sAuth:"auth string",sAppName:"web-sdk",stOSName:this.proto_osType.values.E_WEB,sOSVersion:this.osVersion}};n.CS.appId&&n.CS.appSecret&&(c.stSignUpReq.sAppDetails={sAppName:"",sCustomerId:"",sAppId:n.CS.appId,sAppSecret:n.CS.appSecret});
u(this,!0,this.proto_msgType.values.E_SIGNUP_RQT,c)};D.prototype.activate=function(a,b,c){var d=f();n.CS.transactionRespCB[d]=c;a={uVersion:this.protoVersion,stActivateReq:{stHdrs:{sMobNu:a,sClientId:this.clientId,ullTransId:d},sActCode:b}};n.CS.appId&&n.CS.appSecret&&(a.stActivateReq.sAppDetails={sAppName:"",sCustomerId:"",sAppId:n.CS.appId,sAppSecret:n.CS.appSecret});u(this,!0,this.proto_msgType.values.E_ACTIVATE_RQT,a)};D.prototype.send_msg=u;D.prototype.login=function(a,b,c){this.localUser=a;
this.OAuthToken=b;try{OneSignal.push(["addListenerForNotificationOpened",function(a){console.log("Received NotificationOpened:");console.log(a);a=clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(a){for(var b=0;b<a.length;b++)console.log(winowClient)});event.waitUntil(a)}])}catch(U){console.log("one signal error "+U.message)}finally{}z(this,c)};n.CS=new D})(window,void 0);navigator.sayswho=function(){var n=navigator.userAgent,q=n.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(q[1])){var k=/\brv[ :]+(\d+)/g.exec(n)||[];return"IE "+(k[1]||"")}if("Chrome"===q[1]&&(k=n.match(/\b(OPR|Edge)\/(\d+)/),null!=k))return k.slice(1).join(" ").replace("OPR","Opera");q=q[2]?[q[1],q[2]]:[navigator.appName,navigator.appVersion,"-?"];null!=(k=n.match(/version\/(\d+)/i))&&q.splice(1,1,k[1]);return q.join(" ")}();
function mozVidFreezeModSdp(n){try{console.log(n);var q=n.match(/m=video.*/g);if(!q)return n;console.log("sdp match");console.log(q);q=q[0];nums=q.match(/[0-9 ]*$/)[0].trim().split(" ");for(var k in nums){var w="a=rtpmap:"+nums[k]+" VP8/90000",f=n.search(w);-1==f&&(w="a=rtpmap:"+nums[k]+" VP9/90000",f=n.search("a=rtpmap:"+nums[k]+" VP9/90000"));if(-1!=f){var d=n.match(new RegExp("a=fmtp:"+nums[k]+".*"));if(d){if(d=d[0],console.log(d),d&&-1==d.search("max-fs")){var b=d.replace("a=fmtp:"+nums[k]+" ",
"a=fmtp:"+nums[k]+" max-fs=12288;");n=n.replace(d,b)}}else console.log("src:"+w),console.log("dst:"+w+"\r\na=fmtp:"+nums[k]+" max-fs=12288"),n=n.replace(w,w+"\r\na=fmtp:"+nums[k]+" max-fs=12288")}}console.log(n)}catch(a){console.log("Err "+a)}return n}
var wr_recv_rem_offer=function(n,q,k,w,f){var d=window.CS.call;d.localUiElem=document.getElementById(q);d.remoteUiElem=document.getElementById(w);d.remoteSDP="Firefox 56"==navigator.sayswho||"Firefox 57"==navigator.sayswho?mozVidFreezeModSdp(f.sSdp):f.sSdp;console.log("wr_recv_rem_offer");navigator.mediaDevices.getUserMedia({audio:!0,video:k}).then(function(b){wr_get_local_stream_to_answer(b,n)})["catch"](getUserMediaFailed)},getUserMediaFailed=function(n){console.log("Get User Media Failed: ",n)},
wr_on_error=function(n){console.log("error: ",n)},wr_recv_rem_end=function(){var n=window.CS.call;n.peerConnection&&(n.localStream.getTracks().forEach(function(n){n.stop()}),n.peerConnection.close(),n.peerConnection=null);n.localUiElem&&(n.localUiElem.srcObject=void 0);n.remoteUiElem&&(n.remoteUiElem.srcObject=void 0)},wr_recv_rem_ice=function(n,q){if(0!=n.sJsonIceCandidates.length)for(var k=window.CS.call,w=0;w<n.sJsonIceCandidates.length;w++){var f=JSON.parse(n.sJsonIceCandidates[w]).ice;k.peerConnection?
k.peerConnection.addIceCandidate(new RTCIceCandidate(f)):(console.log("ice candidate before peer connection creation"),k.callObj[q].iceCandidates.push(f))}},wr_recv_rem_answer=function(n,q){var k=window.CS.call;if(k.peerConnection){"Firefox 56"!=navigator.sayswho&&"Firefox 57"!=navigator.sayswho||console.log(" received answer sdp before modification "+n);n=mozVidFreezeModSdp(n);console.log(" received answer sdp after modification "+n);k.peerConnection.setRemoteDescription(new RTCSessionDescription({type:"answer",
sdp:n}));for(var w=k.callObj[q].iceCandidates.length,f=0;f<w;f++){var d=k.callObj[q].iceCandidates.pop();k.peerConnection.addIceCandidate(new RTCIceCandidate(d))}}},wr_handleError=function(n){},wr_gotRemoteStream=function(n){var q=window.CS.call;q.remoteUiElem.srcObject!==n.stream&&(q.remoteUiElem.srcObject=n.stream,console.log("Received remote stream"))},wr_get_local_sdp=function(n,q){var k=window.CS.call;console.log(" local sdp "+n.sdp);k.peerConnection.setLocalDescription(n).then(function(){sendLocalSDPOffer(q)})["catch"](wr_on_error)};
function randNum(){return Math.ceil(1E9*Math.random())}
var sendLocalSDPOffer=function(n){var q=window.CS.call,k=randNum();"IP"==q.callObj[n].type?(n={uVersion:q["super"].protoVersion,stDirectAudioVideoCallStartReq:{stHdrs:{sMobNu:q["super"].localUser,sClientId:q["super"].clientId,ullTransId:k},sDstMobNu:q.remoteUser,stCallType:q["super"].proto_callType.values.E_VIDEOCALL,sCallId:n,sSdp:q.peerConnection.localDescription.sdp,sCallActive:!0,sStartTime:Math.floor(ServerDate.now())}},q.isVideoCall||(n.stDirectAudioVideoCallStartReq.stCallType=q["super"].proto_callType.values.E_VOICECALL),
window.CS.send_msg(q["super"],!1,q["super"].proto_msgType.values.E_DIRECT_AUDIO_VIDEO_CALL_START_RQT,n)):"PSTN"==q.callObj[n].type&&(n={uVersion:q["super"].protoVersion,stCallStartReq:{stHdrs:{sMobNu:q["super"].localUser,sClientId:q["super"].clientId,ullTransId:k},sDstMobNu:q.remoteUser,stCallType:q["super"].proto_callType.values.E_VOICECALL,sCallId:n,sSdp:q.peerConnection.localDescription.sdp}},window.CS.send_msg(q["super"],!1,q["super"].proto_msgType.values.E_CALL_START_RQT,n))},wr_send_remote_answer=
function(n,q){var k=window.CS.call;k.peerConnection.setLocalDescription(n).then(function(){sendAnswerSDP(q)})["catch"](wr_on_error);var w=k.callObj[q].iceCandidates.length;console.log("send_remote_answer iceCandidates len "+w);for(var f=0;f<w;f++){var d=k.callObj[q].iceCandidates.pop();k.peerConnection.addIceCandidate(new RTCIceCandidate(d));console.log("callee adding ice "+f)}},sendAnswerSDP=function(n){var q=window.CS.call;q.sendAnswer(n,q.peerConnection.localDescription.sdp,function(k,n){console.log("answer sent "+
k)})},wr_send_rem_call_end=function(){var n=window.CS.call;n.localStream&&n.localStream.getTracks().forEach(function(n){n.stop()});n.peerConnection&&(n.peerConnection.close(),n.peerConnection=null,n.localUiElem.srcObject=void 0,n.remoteUiElem.srcObject=void 0)};window.CS.servers={iceServers:[{urls:window.CS.stun},{urls:window.CS.turn,username:window.CS.turnUser,credential:window.CS.turnPassword}]};
var wr_get_local_stream_to_answer=function(n,q){var k=window.CS.call;k.localUiElem.srcObject=n;k.localStream=n;console.log("wr_get_local_stream_to_answer");k.peerConnection=new RTCPeerConnection(window.CS.servers);k.peerConnection.onicecandidate=function(n){if(n.candidate){var f=JSON.stringify({ice:n.candidate});k.sendIce(k.remoteUser,n.candidate.candidate,f,q,function(d,b){})}};k.peerConnection.onaddstream=wr_gotRemoteStream;k.peerConnection.onsignalingstatechange=function(k){};k.peerConnection.onsignalingstatechange=
function(k){};k.peerConnection.addStream(n);k.peerConnection.setRemoteDescription(new RTCSessionDescription({type:"offer",sdp:k.remoteSDP}));k.peerConnection.createAnswer().then(function(k){wr_send_remote_answer(k,q)})["catch"](wr_handleError)},wr_create_local_stream_to_offer=function(n,q){var k=window.CS.call;k.localUiElem.srcObject=n;k.localStream=n;k.peerConnection=new RTCPeerConnection(window.CS.servers);console.log("created peer connection");k.peerConnection.onicecandidate=function(n){if(n.candidate){var f=
JSON.stringify({ice:n.candidate});k.sendIce(k.remoteUser,n.candidate.candidate,f,q,function(d,b){console.log("response from sendicetoserver "+d)})}};k.peerConnection.onaddstream=wr_gotRemoteStream;k.peerConnection.onsignalingstatechange=function(k){};k.peerConnection.onsignalingstatechange=function(k){};k.peerConnection.addStream(n);k.peerConnection.createOffer().then(function(k){wr_get_local_sdp(k,q)})["catch"](wr_handleError)},wr_send_rem_call=function(n,q,k,w,f){n.localUiElem=document.getElementById(w);
n.remoteUiElem=document.getElementById(f);navigator.mediaDevices.getUserMedia({audio:!0,video:k}).then(function(d){wr_create_local_stream_to_offer(d,q)})["catch"](getUserMediaFailed)},wr_set_local_mute=function(n,q,k){n.peerConnection.getSenders().forEach(function(k){"audio"==k.track.kind&&(k.track.enabled=!1)});k(100,"Ok")},wr_set_local_unmute=function(n,q,k){n.peerConnection.getSenders().forEach(function(k){"audio"==k.track.kind&&(k.track.enabled=!0)});k(100,"Ok")};(function(n){function q(c,k,n){var p=0,q=[],t=0,r,g,u,v=!1,x=[],B=[],H=!1;n=n||{};var y=n.encoding||"UTF8";var z=n.numRounds||1;if(z!==parseInt(z,10)||1>z)throw Error("numRounds must a integer >= 1");if(0===c.lastIndexOf("SHA-",0))if(r=function(a,b){return C(a,b,c)},g=function(a,b,d,f){if("SHA-224"===c||"SHA-256"===c){var g=(b+65>>>9<<4)+15;var k=16}else throw Error("Unexpected error in SHA-2 implementation");for(;a.length<=g;)a.push(0);a[b>>>5]|=128<<24-b%32;b+=d;a[g]=b&4294967295;a[g-1]=b/4294967296|
0;d=a.length;for(b=0;b<d;b+=k)f=C(a.slice(b,b+k),f,c);if("SHA-224"===c)a=[f[0],f[1],f[2],f[3],f[4],f[5],f[6]];else if("SHA-256"===c)a=f;else throw Error("Unexpected error in SHA-2 implementation");return a},u=function(a){return a.slice()},"SHA-224"===c){var M=512;var E=224}else if("SHA-256"===c)M=512,E=256;else throw Error("Chosen SHA variant is not supported");else throw Error("Chosen SHA variant is not supported");var K=l(k,y);var ea=A(c);this.setHMACKey=function(a,b,d){if(!0===v)throw Error("HMAC key already set");
if(!0===H)throw Error("Cannot set HMAC key after calling update");y=(d||{}).encoding||"UTF8";b=l(b,y)(a);a=b.binLen;b=b.value;var f=M>>>3;d=f/4-1;if(f<a/8){for(b=g(b,a,0,A(c));b.length<=d;)b.push(0);b[d]&=4294967040}else if(f>a/8){for(;b.length<=d;)b.push(0);b[d]&=4294967040}for(a=0;a<=d;a+=1)x[a]=b[a]^909522486,B[a]=b[a]^1549556828;ea=r(x,ea);p=M;v=!0};this.update=function(a){var b,c=0,d=M>>>5;var f=K(a,q,t);a=f.binLen;var g=f.value;f=a>>>5;for(b=0;b<f;b+=d)c+M<=a&&(ea=r(g.slice(b,b+d),ea),c+=M);
p+=c;q=g.slice(c>>>5);t=a%M;H=!0};this.getHash=function(k,l){if(!0===v)throw Error("Cannot call getHash after setting HMAC key");var n=a(l);switch(k){case "HEX":var r=function(a){return w(a,E,n)};break;case "B64":r=function(a){return f(a,E,n)};break;case "BYTES":r=function(a){return d(a,E)};break;case "ARRAYBUFFER":try{var x=new ArrayBuffer(0)}catch(ia){throw Error("ARRAYBUFFER not supported by this environment");}r=function(a){return b(a,E)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER");
}var B=g(q.slice(),t,p,u(ea));for(x=1;x<z;x+=1)B=g(B,E,0,A(c));return r(B)};this.getHMAC=function(k,l){if(!1===v)throw Error("Cannot call getHMAC without first setting HMAC key");var n=a(l);switch(k){case "HEX":var x=function(a){return w(a,E,n)};break;case "B64":x=function(a){return f(a,E,n)};break;case "BYTES":x=function(a){return d(a,E)};break;case "ARRAYBUFFER":try{x=new ArrayBuffer(0)}catch(ia){throw Error("ARRAYBUFFER not supported by this environment");}x=function(a){return b(a,E)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER");
}var D=g(q.slice(),t,p,u(ea));var H=r(B,A(c));H=g(D,E,M,H);return x(H)}}function k(){}function w(a,b,c){var d="";b/=8;var f;for(f=0;f<b;f+=1){var k=a[f>>>2]>>>8*(3+f%4*-1);d+="0123456789abcdef".charAt(k>>>4&15)+"0123456789abcdef".charAt(k&15)}return c.outputUpper?d.toUpperCase():d}function f(a,b,c){var d="",f=b/8,k;for(k=0;k<f;k+=3){var l=k+1<f?a[k+1>>>2]:0;var g=k+2<f?a[k+2>>>2]:0;g=(a[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(l>>>8*(3+(k+1)%4*-1)&255)<<8|g>>>8*(3+(k+2)%4*-1)&255;for(l=0;4>l;l+=1)8*k+6*l<=
b?d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>>6*(3-l)&63):d+=c.b64Pad}return d}function d(a,b){var c="",d=b/8,f;for(f=0;f<d;f+=1){var k=a[f>>>2]>>>8*(3+f%4*-1)&255;c+=String.fromCharCode(k)}return c}function b(a,b){var c=b/8,d,f=new ArrayBuffer(c);var k=new Uint8Array(f);for(d=0;d<c;d+=1)k[d]=a[d>>>2]>>>8*(3+d%4*-1)&255;return f}function a(a){var b={outputUpper:!1,b64Pad:"=",shakeLen:-1};a=a||{};b.outputUpper=a.outputUpper||!1;!0===a.hasOwnProperty("b64Pad")&&
(b.b64Pad=a.b64Pad);if("boolean"!==typeof b.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!==typeof b.b64Pad)throw Error("Invalid b64Pad formatting option");return b}function l(a,b){switch(b){case "UTF8":case "UTF16BE":case "UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE");}switch(a){case "HEX":var c=function(a,b,c){var d=a.length,f,k;if(0!==d%2)throw Error("String of HEX type must be in byte increments");b=b||[0];c=c||0;var l=c>>>3;for(f=
0;f<d;f+=2){var n=parseInt(a.substr(f,2),16);if(isNaN(n))throw Error("String of HEX type contains invalid characters");var p=(f>>>1)+l;for(k=p>>>2;b.length<=k;)b.push(0);b[k]|=n<<8*(3+p%4*-1)}return{value:b,binLen:4*d+c}};break;case "TEXT":c=function(a,c,d){var f=0,g,k,l;c=c||[0];d=d||0;var n=d>>>3;if("UTF8"===b){var p=3;for(g=0;g<a.length;g+=1){var q=a.charCodeAt(g);var r=[];128>q?r.push(q):2048>q?(r.push(192|q>>>6),r.push(128|q&63)):55296>q||57344<=q?r.push(224|q>>>12,128|q>>>6&63,128|q&63):(g+=
1,q=65536+((q&1023)<<10|a.charCodeAt(g)&1023),r.push(240|q>>>18,128|q>>>12&63,128|q>>>6&63,128|q&63));for(k=0;k<r.length;k+=1){var t=f+n;for(l=t>>>2;c.length<=l;)c.push(0);c[l]|=r[k]<<8*(p+t%4*-1);f+=1}}}else if("UTF16BE"===b||"UTF16LE"===b)for(p=2,r="UTF16LE"===b&&!0||"UTF16LE"!==b&&!1,g=0;g<a.length;g+=1){q=a.charCodeAt(g);!0===r&&(k=q&255,q=k<<8|q>>>8);t=f+n;for(l=t>>>2;c.length<=l;)c.push(0);c[l]|=q<<8*(p+t%4*-1);f+=2}return{value:c,binLen:8*f+d}};break;case "B64":c=function(a,b,c){var d=0,f,
k;if(-1===a.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");var l=a.indexOf("=");a=a.replace(/=/g,"");if(-1!==l&&l<a.length)throw Error("Invalid '=' found in base-64 string");b=b||[0];c=c||0;var n=c>>>3;for(l=0;l<a.length;l+=4){var p=a.substr(l,4);for(f=k=0;f<p.length;f+=1){var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(p[f]);k|=q<<18-6*f}for(f=0;f<p.length-1;f+=1){var r=d+n;for(q=r>>>2;b.length<=q;)b.push(0);b[q]|=(k>>>16-8*f&255)<<
8*(3+r%4*-1);d+=1}}return{value:b,binLen:8*d+c}};break;case "BYTES":c=function(a,b,c){var d;b=b||[0];c=c||0;var f=c>>>3;for(d=0;d<a.length;d+=1){var k=a.charCodeAt(d);var l=d+f;var n=l>>>2;b.length<=n&&b.push(0);b[n]|=k<<8*(3+l%4*-1)}return{value:b,binLen:8*a.length+c}};break;case "ARRAYBUFFER":try{c=new ArrayBuffer(0)}catch(F){throw Error("ARRAYBUFFER not supported by this environment");}c=function(a,b,c){var d;b=b||[0];c=c||0;var f=c>>>3;var k=new Uint8Array(a);for(d=0;d<a.byteLength;d+=1){var l=
d+f;var n=l>>>2;b.length<=n&&b.push(0);b[n]|=k[d]<<8*(3+l%4*-1)}return{value:b,binLen:8*a.byteLength+c}};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER");}return c}function c(a,b){return a>>>b|a<<32-b}function r(a,b,c){return a&b^~a&c}function x(a,b,c){return a&b^a&c^b&c}function p(a){return c(a,2)^c(a,13)^c(a,22)}function y(a){return c(a,6)^c(a,11)^c(a,25)}function v(a){return c(a,7)^c(a,18)^a>>>3}function u(a){return c(a,17)^c(a,19)^a>>>10}function z(a,b){var c=
(a&65535)+(b&65535);return((a>>>16)+(b>>>16)+(c>>>16)&65535)<<16|c&65535}function K(a,b,c,d){var f=(a&65535)+(b&65535)+(c&65535)+(d&65535);return((a>>>16)+(b>>>16)+(c>>>16)+(d>>>16)+(f>>>16)&65535)<<16|f&65535}function t(a,b,c,d,f){var k=(a&65535)+(b&65535)+(c&65535)+(d&65535)+(f&65535);return((a>>>16)+(b>>>16)+(c>>>16)+(d>>>16)+(f>>>16)+(k>>>16)&65535)<<16|k&65535}function A(a){var b,c;if(0===a.lastIndexOf("SHA-",0))switch(b=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,
3204075428],c=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],a){case "SHA-224":break;case "SHA-256":b=c;break;case "SHA-384":b=[new k,new k,new k,new k,new k,new k,new k,new k];break;case "SHA-512":b=[new k,new k,new k,new k,new k,new k,new k,new k];break;default:throw Error("Unknown SHA variant");}else throw Error("No SHA variants supported");return b}function C(a,b,c){var d,f,k,l=[];if("SHA-224"===c||"SHA-256"===c){var g=64;var n=1;var q=Number;var w=z;
var A=K;var C=t;var B=v;var H=u;var M=p;var ma=y;var ja=x;var ea=r;var da=E}else throw Error("Unexpected error in SHA-2 implementation");c=b[0];var aa=b[1];var X=b[2];var Y=b[3];var ka=b[4];var ra=b[5];var ia=b[6];var la=b[7];for(k=0;k<g;k+=1)16>k?(f=k*n,d=a.length<=f?0:a[f],f=a.length<=f+1?0:a[f+1],l[k]=new q(d,f)):l[k]=A(H(l[k-2]),l[k-7],B(l[k-15]),l[k-16]),d=C(la,ma(ka),ea(ka,ra,ia),da[k],l[k]),f=w(M(c),ja(c,aa,X)),la=ia,ia=ra,ra=ka,ka=w(Y,d),Y=X,X=aa,aa=c,c=w(d,f);b[0]=w(c,b[0]);b[1]=w(aa,b[1]);
b[2]=w(X,b[2]);b[3]=w(Y,b[3]);b[4]=w(ka,b[4]);b[5]=w(ra,b[5]);b[6]=w(ia,b[6]);b[7]=w(la,b[7]);return b}var E=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,
1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];"function"===typeof define&&define.amd?define(function(){return q}):"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(module.exports=q),exports=q):n.jsSHA=q})(this);Date.now||(Date.now=function(){return(new Date).getTime()});
var ServerDate=function(n){function q(){return this?q:q.toString()}function k(a,b){this.value=a;this.precision=b}function w(a){var b="Set target to "+String(a);x&&(b+=" ("+(a>x?"+":"-")+" "+Math.abs(a-x)+" ms)");x=a;d(b+".");a=Math.abs(x-y);a>q.amortizationThreshold&&(d("Difference between target and offset too high ("+a+" ms); skipping amortization."),y=x)}function f(){function a(){var q=new XMLHttpRequest;var r=-1<l.indexOf("?")?"&":"?";q.open("HEAD",l+r+"noCache="+Date.now()+parseInt(1E6*Math.random()));
q.onreadystatechange=function(){this.readyState==this.HEADERS_RECEIVED&&200==this.status&&(f=Date.now())};q.onload=function(){if(200==this.status)try{var l=(new Date(this.getResponseHeader("Date"))).getTime(),q=(f-c)/2,r=new k(l+q-f,q);if(1==b||q<=n.precision)n=r;10>b?(b++,a()):(w(n),p=!1)}catch(F){d("Unable to read the server's response.")}};c=Date.now();q.send()}var b=1,c,f,n;p||(p=!0,setTimeout(function(){p=!1},1E4),a())}function d(a){console&&console.log&&console.log("[ServerDate] "+a)}var b=
Date.now(),a=document.getElementsByTagName("script"),l=a[a.length-1].src,c,r,x=null,p=!1;q.parse=Date.parse;q.UTC=Date.UTC;q.now=function(){return Date.now()+y};"toString toDateString toTimeString toLocaleString toLocaleDateString toLocaleTimeString valueOf getTime getFullYear getUTCFullYear getMonth getUTCMonth getDate getUTCDate getDay getUTCDay getHours getUTCHours getMinutes getUTCMinutes getSeconds getUTCSeconds getMilliseconds getUTCMilliseconds getTimezoneOffset toUTCString toISOString toJSON".split(" ").forEach(function(a){q[a]=
function(){return(new Date(q.now()))[a]()}});q.getPrecision=function(){if("undefined"!=typeof x.precision)return x.precision+Math.abs(x-y)};q.amortizationRate=25;q.amortizationThreshold=2E3;Object.defineProperty(q,"synchronizationIntervalDelay",{get:function(){return c},set:function(a){c=a;clearInterval(r);r=setInterval(f,q.synchronizationIntervalDelay);d("Set synchronizationIntervalDelay to "+a+" ms.")}});q.synchronizationIntervalDelay=6E5;k.prototype.valueOf=function(){return this.value};k.prototype.toString=
function(){return this.value+("undefined"!=typeof this.precision?" +/- "+this.precision:"")+" ms"};var y=n-b;if("undefined"!=typeof performance){var v=(b-performance.timing.domLoading)/2;y+=v}w(new k(y,v));setInterval(function(){y+=Math.max(-q.amortizationRate,Math.min(q.amortizationRate,x-y))},1E3);window.addEventListener("pageshow",f);f();return q}(Date.now());